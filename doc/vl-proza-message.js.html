

<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
      vl-proza-message.js - Documentation
  </title>

  <link href="https://www.braintreepayments.com/images/favicon-ccda0b14.png" rel="icon" type="image/png">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
  
  <link type="text/css" rel="stylesheet" href="styles/collapse.css">
  

  

  <!-- start Mixpanel -->
  <script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("1919205b2da72e4da3b9b6639b444d59");</script>
  <!-- end Mixpanel -->
</head>

<body>
  <svg style="display: none;">
    <defs>
      <symbol id="linkIcon" fill="#706d77" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
      </symbol>
    </defs>
  </svg>

  <input type="checkbox" id="nav-trigger" class="nav-trigger" />
  <label for="nav-trigger" class="navicon-button x">
    <div class="navicon"></div>
  </label>

  <label for="nav-trigger" class="overlay"></label>

  <div class="top-nav-wrapper">
    <ul>
      <li >
        <a href="index.html">
          
            <svg fill="#6D6D6D" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
          
          
        </a>
      </li>

      

    </ul>
  </div>

  <nav>
    <h3 class="reference-title">
      Webcomponenten
    </h3>

    
      <h3>
        Resources
      </h3>
      
        <a href="https://github.com/milieuinfo">GitHub</a>
      
    

    <h3>Classes</h3><ul><li id="NativeVlElement-nav"><a href="NativeVlElement.html">NativeVlElement</a></li><li id="VlAccordion-nav"><a href="VlAccordion.html">VlAccordion</a><ul class='methods'><li data-type="method" id="VlAccordion-close-nav"><a href="VlAccordion.html#close">close</a></li><li data-type="method" id="VlAccordion-dress-nav"><a href="VlAccordion.html#dress">dress</a></li><li data-type="method" id="VlAccordion-open-nav"><a href="VlAccordion.html#open">open</a></li><li data-type="method" id="VlAccordion-toggle-nav"><a href="VlAccordion.html#toggle">toggle</a></li></ul></li><li id="VlActionGroup-nav"><a href="VlActionGroup.html">VlActionGroup</a></li><li id="VlAlert-nav"><a href="VlAlert.html">VlAlert</a></li><li id="VlBody-nav"><a href="VlBody.html">VlBody</a></li><li id="VlBreadcrumb-nav"><a href="VlBreadcrumb.html">VlBreadcrumb</a></li><li id="VlButton-nav"><a href="VlButton.html">VlButton</a></li><li id="VlButtonInputAddon-nav"><a href="VlButtonInputAddon.html">VlButtonInputAddon</a></li><li id="VlButtonLink-nav"><a href="VlButtonLink.html">VlButtonLink</a></li><li id="VlCheckbox-nav"><a href="VlCheckbox.html">VlCheckbox</a><ul class='methods'><li data-type="method" id="VlCheckbox-toggle-nav"><a href="VlCheckbox.html#toggle">toggle</a></li></ul></li><li id="VlCodePreview-nav"><a href="VlCodePreview.html">VlCodePreview</a></li><li id="VlColumn-nav"><a href="VlColumn.html">VlColumn</a></li><li id="VlContentHeader-nav"><a href="VlContentHeader.html">VlContentHeader</a></li><li id="VlCookieConsent-nav"><a href="VlCookieConsent.html">VlCookieConsent</a><ul class='methods'><li data-type="method" id="VlCookieConsent-addOptIn-nav"><a href="VlCookieConsent.html#addOptIn">addOptIn</a></li><li data-type="method" id="VlCookieConsent-addOptInActivatedCallback-nav"><a href="VlCookieConsent.html#addOptInActivatedCallback">addOptInActivatedCallback</a></li><li data-type="method" id="VlCookieConsent-addOptInDeactivatedCallback-nav"><a href="VlCookieConsent.html#addOptInDeactivatedCallback">addOptInDeactivatedCallback</a></li><li data-type="method" id="VlCookieConsent-close-nav"><a href="VlCookieConsent.html#close">close</a></li><li data-type="method" id="VlCookieConsent-isOptInActive-nav"><a href="VlCookieConsent.html#isOptInActive">isOptInActive</a></li><li data-type="method" id="VlCookieConsent-open-nav"><a href="VlCookieConsent.html#open">open</a></li><li data-type="method" id="VlCookieConsent-reset-nav"><a href="VlCookieConsent.html#reset">reset</a></li></ul></li><li id="VlCookieConsentOptIn-nav"><a href="VlCookieConsentOptIn.html">VlCookieConsentOptIn</a></li><li id="VlDataTable-nav"><a href="VlDataTable.html">VlDataTable</a></li><li id="VlDatepicker-nav"><a href="VlDatepicker.html">VlDatepicker</a><ul class='methods'><li data-type="method" id="VlDatepicker-dress-nav"><a href="VlDatepicker.html#dress">dress</a></li></ul></li><li id="VlDemo-nav"><a href="VlDemo.html">VlDemo</a></li><li id="VlDemoPage-nav"><a href="VlDemoPage.html">VlDemoPage</a></li><li id="VlDescriptionData-nav"><a href="VlDescriptionData.html">VlDescriptionData</a></li><li id="VlDoormat-nav"><a href="VlDoormat.html">VlDoormat</a></li><li id="VlDoormatContent-nav"><a href="VlDoormatContent.html">VlDoormatContent</a></li><li id="VlDoormatGraphicWrapper-nav"><a href="VlDoormatGraphicWrapper.html">VlDoormatGraphicWrapper</a></li><li id="VlDoormatImage-nav"><a href="VlDoormatImage.html">VlDoormatImage</a></li><li id="VlDoormatText-nav"><a href="VlDoormatText.html">VlDoormatText</a></li><li id="VlDoormatTitle-nav"><a href="VlDoormatTitle.html">VlDoormatTitle</a></li><li id="VlDurationStep-nav"><a href="VlDurationStep.html">VlDurationStep</a></li><li id="VlElement-nav"><a href="VlElement.html">VlElement</a><ul class='methods'><li data-type="method" id="VlElement-_changeClass-nav"><a href="VlElement.html#_changeClass">_changeClass</a></li><li data-type="method" id="VlElement-_template-nav"><a href="VlElement.html#_template">_template</a></li><li data-type="method" id="VlElement-_toggleClass-nav"><a href="VlElement.html#_toggleClass">_toggleClass</a></li><li data-type="method" id="VlElement-getAttribute-nav"><a href="VlElement.html#getAttribute">getAttribute</a></li><li data-type="method" id="VlElement-hasAttribute-nav"><a href="VlElement.html#hasAttribute">hasAttribute</a></li><li data-type="method" id="VlElement-shadow-nav"><a href="VlElement.html#shadow">shadow</a></li></ul></li><li id="VlFooter-nav"><a href="VlFooter.html">VlFooter</a></li><li id="VlForm-nav"><a href="VlForm.html">VlForm</a></li><li id="VlFormAnnotation-nav"><a href="VlFormAnnotation.html">VlFormAnnotation</a></li><li id="VlFormColumn-nav"><a href="VlFormColumn.html">VlFormColumn</a></li><li id="VlFormGrid-nav"><a href="VlFormGrid.html">VlFormGrid</a></li><li id="VlFormLabel-nav"><a href="VlFormLabel.html">VlFormLabel</a></li><li id="VlFormValidationMessage-nav"><a href="VlFormValidationMessage.html">VlFormValidationMessage</a></li><li id="VlFunctionalHeader-nav"><a href="VlFunctionalHeader.html">VlFunctionalHeader</a></li><li id="VlGrid-nav"><a href="VlGrid.html">VlGrid</a></li><li id="VlHeader-nav"><a href="VlHeader.html">VlHeader</a></li><li id="VlHttpErrorMessage-nav"><a href="VlHttpErrorMessage.html">VlHttpErrorMessage</a></li><li id="VlIcon-nav"><a href="VlIcon.html">VlIcon</a></li><li id="VlIconWrapper-nav"><a href="VlIconWrapper.html">VlIconWrapper</a></li><li id="VlImage-nav"><a href="VlImage.html">VlImage</a></li><li id="VlInfoblock-nav"><a href="VlInfoblock.html">VlInfoblock</a></li><li id="VlInfotext-nav"><a href="VlInfotext.html">VlInfotext</a></li><li id="VlInputAddon-nav"><a href="VlInputAddon.html">VlInputAddon</a></li><li id="VlInputField-nav"><a href="VlInputField.html">VlInputField</a></li><li id="VlInputGroup-nav"><a href="VlInputGroup.html">VlInputGroup</a></li><li id="VlIntroduction-nav"><a href="VlIntroduction.html">VlIntroduction</a></li><li id="VlLayout-nav"><a href="VlLayout.html">VlLayout</a></li><li id="VlLink-nav"><a href="VlLink.html">VlLink</a></li><li id="VlLinkButton-nav"><a href="VlLinkButton.html">VlLinkButton</a></li><li id="VlLinkList-nav"><a href="VlLinkList.html">VlLinkList</a></li><li id="VlLinkListItem-nav"><a href="VlLinkListItem.html">VlLinkListItem</a></li><li id="VlLoader-nav"><a href="VlLoader.html">VlLoader</a></li><li id="VlMap-nav"><a href="VlMap.html">VlMap</a><ul class='methods'><li data-type="method" id="VlMap-addAction-nav"><a href="VlMap.html#addAction">addAction</a></li><li data-type="method" id="VlMap-zoomTo-nav"><a href="VlMap.html#zoomTo">zoomTo</a></li></ul></li><li id="VlMapAction-nav"><a href="VlMapAction.html">VlMapAction</a><ul class='methods'><li data-type="method" id="VlMapAction-actionChanged-nav"><a href="VlMapAction.html#actionChanged">actionChanged</a></li><li data-type="method" id="VlMapAction-activateAction-nav"><a href="VlMapAction.html#activateAction">activateAction</a></li></ul></li><li id="VlMapBaseLayer-nav"><a href="VlMapBaseLayer.html">VlMapBaseLayer</a></li><li id="VlMapBaseLayerGRB-nav"><a href="VlMapBaseLayerGRB.html">VlMapBaseLayerGRB</a></li><li id="VlMapBaseLayerGRBGray-nav"><a href="VlMapBaseLayerGRBGray.html">VlMapBaseLayerGRBGray</a></li><li id="VlMapBaseLayerGRBOrtho-nav"><a href="VlMapBaseLayerGRBOrtho.html">VlMapBaseLayerGRBOrtho</a></li><li id="VlMapLayer-nav"><a href="VlMapLayer.html">VlMapLayer</a><ul class='methods'><li data-type="method" id="VlMapLayer-getCluster-nav"><a href="VlMapLayer.html#getCluster">getCluster</a></li><li data-type="method" id="VlMapLayer-getFeature-nav"><a href="VlMapLayer.html#getFeature">getFeature</a></li><li data-type="method" id="VlMapLayer-rerender-nav"><a href="VlMapLayer.html#rerender">rerender</a></li><li data-type="method" id="VlMapLayer-verwijderFeatureStijlen-nav"><a href="VlMapLayer.html#verwijderFeatureStijlen">verwijderFeatureStijlen</a></li><li data-type="method" id="VlMapLayer-zoomToExtent-nav"><a href="VlMapLayer.html#zoomToExtent">zoomToExtent</a></li></ul></li><li id="VlMapLayerCircleStyle-nav"><a href="VlMapLayerCircleStyle.html">VlMapLayerCircleStyle</a></li><li id="VlMapLayerStyle-nav"><a href="VlMapLayerStyle.html">VlMapLayerStyle</a></li><li id="VlMapOverviewMap-nav"><a href="VlMapOverviewMap.html">VlMapOverviewMap</a></li><li id="VlMapSearch-nav"><a href="VlMapSearch.html">VlMapSearch</a></li><li id="VlMapSelectAction-nav"><a href="VlMapSelectAction.html">VlMapSelectAction</a></li><li id="VlModal-nav"><a href="VlModal.html">VlModal</a><ul class='methods'><li data-type="method" id="VlModal-close-nav"><a href="VlModal.html#close">close</a></li><li data-type="method" id="VlModal-dress-nav"><a href="VlModal.html#dress">dress</a></li><li data-type="method" id="VlModal-on-nav"><a href="VlModal.html#on">on</a></li><li data-type="method" id="VlModal-open-nav"><a href="VlModal.html#open">open</a></li></ul></li><li id="VlMultiSelect-nav"><a href="VlMultiSelect.html">VlMultiSelect</a><ul class='methods'><li data-type="method" id="VlMultiSelect-disable-nav"><a href="VlMultiSelect.html#disable">disable</a></li><li data-type="method" id="VlMultiSelect-dress-nav"><a href="VlMultiSelect.html#dress">dress</a></li><li data-type="method" id="VlMultiSelect-enable-nav"><a href="VlMultiSelect.html#enable">enable</a></li><li data-type="method" id="VlMultiSelect-hideDropdown-nav"><a href="VlMultiSelect.html#hideDropdown">hideDropdown</a></li><li data-type="method" id="VlMultiSelect-ready-nav"><a href="VlMultiSelect.html#ready">ready</a></li><li data-type="method" id="VlMultiSelect-removeActive-nav"><a href="VlMultiSelect.html#removeActive">removeActive</a></li><li data-type="method" id="VlMultiSelect-showDropdown-nav"><a href="VlMultiSelect.html#showDropdown">showDropdown</a></li><li data-type="method" id="VlMultiSelect-undress-nav"><a href="VlMultiSelect.html#undress">undress</a></li></ul></li><li id="VlPager-nav"><a href="VlPager.html">VlPager</a></li><li id="VlPill-nav"><a href="VlPill.html">VlPill</a></li><li id="vlPillElement-nav"><a href="vlPillElement.html">vlPillElement</a></li><li id="VlProgressBar-nav"><a href="VlProgressBar.html">VlProgressBar</a><ul class='methods'><li data-type="method" id="VlProgressBar-updateStep-nav"><a href="VlProgressBar.html#updateStep">updateStep</a></li></ul></li><li id="VlProgressBarStep-nav"><a href="VlProgressBarStep.html">VlProgressBarStep</a></li><li id="VlProperties-nav"><a href="VlProperties.html">VlProperties</a></li><li id="VlPropertiesColumn-nav"><a href="VlPropertiesColumn.html">VlPropertiesColumn</a></li><li id="VlPropertiesList-nav"><a href="VlPropertiesList.html">VlPropertiesList</a></li><li id="VlPropertyTerm-nav"><a href="VlPropertyTerm.html">VlPropertyTerm</a></li><li id="VlPropertyValue-nav"><a href="VlPropertyValue.html">VlPropertyValue</a></li><li id="VlProzaMessage-nav"><a href="VlProzaMessage.html">VlProzaMessage</a></li><li id="VlProzaMessagePreloader-nav"><a href="VlProzaMessagePreloader.html">VlProzaMessagePreloader</a><ul class='methods'><li data-type="method" id="VlProzaMessagePreloader-getMessage-nav"><a href="VlProzaMessagePreloader.html#.getMessage">getMessage</a></li><li data-type="method" id="VlProzaMessagePreloader-isPreloaded-nav"><a href="VlProzaMessagePreloader.html#.isPreloaded">isPreloaded</a></li></ul></li><li id="VlRadio-nav"><a href="VlRadio.html">VlRadio</a></li><li id="VlRadioGroup-nav"><a href="VlRadioGroup_.html">VlRadioGroup</a></li><li id="VlRegion-nav"><a href="VlRegion.html">VlRegion</a></li><li id="VlRichData-nav"><a href="VlRichData.html">VlRichData</a></li><li id="VlRichDataField-nav"><a href="VlRichDataField.html">VlRichDataField</a></li><li id="VlRichDataTable-nav"><a href="VlRichDataTable.html">VlRichDataTable</a></li><li id="VlRichData-nav"><a href="VlRichDataTableVlRichData.html">VlRichData</a></li><li id="VlRichData-nav"><a href="VlRichDataTableVlRichDataTableVlRichData.html">VlRichData</a></li><li id="VlSearch-nav"><a href="VlSearch.html">VlSearch</a></li><li id="VlSearchFilter-nav"><a href="VlSearchFilter.html">VlSearchFilter</a></li><li id="VlSearchResult-nav"><a href="VlSearchResult.html">VlSearchResult</a></li><li id="VlSearchResults-nav"><a href="VlSearchResults.html">VlSearchResults</a></li><li id="VlSelect-nav"><a href="VlSelect.html">VlSelect</a><ul class='methods'><li data-type="method" id="VlSelect-disable-nav"><a href="VlSelect.html#disable">disable</a></li><li data-type="method" id="VlSelect-dress-nav"><a href="VlSelect.html#dress">dress</a></li><li data-type="method" id="VlSelect-enable-nav"><a href="VlSelect.html#enable">enable</a></li><li data-type="method" id="VlSelect-hideDropdown-nav"><a href="VlSelect.html#hideDropdown">hideDropdown</a></li><li data-type="method" id="VlSelect-ready-nav"><a href="VlSelect.html#ready">ready</a></li><li data-type="method" id="VlSelect-removeActive-nav"><a href="VlSelect.html#removeActive">removeActive</a></li><li data-type="method" id="VlSelect-showDropdown-nav"><a href="VlSelect.html#showDropdown">showDropdown</a></li><li data-type="method" id="VlSelect-undress-nav"><a href="VlSelect.html#undress">undress</a></li></ul></li><li id="VlSideSheet-nav"><a href="VlSideSheet.html">VlSideSheet</a><ul class='methods'><li data-type="method" id="VlSideSheet-close-nav"><a href="VlSideSheet.html#close">close</a></li><li data-type="method" id="VlSideSheet-onClose-nav"><a href="VlSideSheet.html#onClose">onClose</a></li><li data-type="method" id="VlSideSheet-open-nav"><a href="VlSideSheet.html#open">open</a></li><li data-type="method" id="VlSideSheet-toggle-nav"><a href="VlSideSheet.html#toggle">toggle</a></li></ul></li><li id="VlStep-nav"><a href="VlStep.html">VlStep</a></li><li id="VlSteps-nav"><a href="VlSteps.html">VlSteps</a></li><li id="VlTemplate-nav"><a href="VlTemplate.html">VlTemplate</a></li><li id="VlTextarea-nav"><a href="VlTextarea.html">VlTextarea</a></li><li id="VlTitle-nav"><a href="VlTitle.html">VlTitle</a></li><li id="VlToaster-nav"><a href="VlToaster.html">VlToaster</a><ul class='methods'><li data-type="method" id="VlToaster-closeAlert-nav"><a href="VlToaster.html#closeAlert">closeAlert</a></li><li data-type="method" id="VlToaster-push-nav"><a href="VlToaster.html#push">push</a></li></ul></li><li id="VlTooltip-nav"><a href="VlTooltip.html">VlTooltip</a></li><li id="VlTypography-nav"><a href="VlTypography.html">VlTypography</a></li><li id="VlUpload-nav"><a href="VlUpload.html">VlUpload</a><ul class='methods'><li data-type="method" id="VlUpload-clear-nav"><a href="VlUpload.html#clear">clear</a></li><li data-type="method" id="VlUpload-dress-nav"><a href="VlUpload.html#dress">dress</a></li><li data-type="method" id="VlUpload-on-nav"><a href="VlUpload.html#on">on</a></li><li data-type="method" id="VlUpload-upload-nav"><a href="VlUpload.html#upload">upload</a></li></ul></li><li id="VlVideoPlayer-nav"><a href="VlVideoPlayer.html">VlVideoPlayer</a></li><li id="VlWizard-nav"><a href="VlWizard.html">VlWizard</a><ul class='methods'><li data-type="method" id="VlWizard-next-nav"><a href="VlWizard.html#next">next</a></li><li data-type="method" id="VlWizard-previous-nav"><a href="VlWizard.html#previous">previous</a></li></ul></li><li id="VlWizardPane-nav"><a href="VlWizardPane.html">VlWizardPane</a><ul class='methods'><li data-type="method" id="VlWizardPane-disableNextPane-nav"><a href="VlWizardPane.html#disableNextPane">disableNextPane</a></li><li data-type="method" id="VlWizardPane-disableNextPanes-nav"><a href="VlWizardPane.html#disableNextPanes">disableNextPanes</a></li><li data-type="method" id="VlWizardPane-disablePreviousPane-nav"><a href="VlWizardPane.html#disablePreviousPane">disablePreviousPane</a></li><li data-type="method" id="VlWizardPane-enableNextPane-nav"><a href="VlWizardPane.html#enableNextPane">enableNextPane</a></li><li data-type="method" id="VlWizardPane-enableNextPanes-nav"><a href="VlWizardPane.html#enableNextPanes">enableNextPanes</a></li><li data-type="method" id="VlWizardPane-enablePreviousPane-nav"><a href="VlWizardPane.html#enablePreviousPane">enablePreviousPane</a></li><li data-type="method" id="VlWizardPane-next-nav"><a href="VlWizardPane.html#next">next</a></li><li data-type="method" id="VlWizardPane-previous-nav"><a href="VlWizardPane.html#previous">previous</a></li></ul></li></ul><h3 id="global-nav">Global</h3><ul><li><a href="global.html#awaitScript">awaitScript</a></li><li><a href="global.html#awaitUntil">awaitUntil</a></li><li><a href="global.html#define">define</a></li><li><a href="global.html#sleep">sleep</a></li></ul>
  </nav>

  <div id="main">
    
      <h1 class="page-title">
        vl-proza-message.js
      </h1>
    

    
      

<section>
  <article>
    <pre class="prettyprint source linenums"><code>import {vlElement, define, awaitUntil} from '/node_modules/vl-ui-core/dist/vl-core.js';
import '/node_modules/vl-ui-button/dist/vl-button.js';
import '/node_modules/vl-ui-icon/dist/vl-icon.js';
import '/node_modules/vl-ui-typography/dist/vl-typography.js';
import '/node_modules/vl-ui-toaster/dist/vl-toaster.js';
import '/node_modules/vl-ui-alert/dist/vl-alert.js';
import '/node_modules/tinymce/tinymce.min.js';

/**
 * VlProzaMessage
 * @class
 * @classdesc De vl-proza-message webcomponent kan gebruikt worden om teksten te laten beheren door de business. De edit modus wordt geactiveerd door op het potlood icoon te klikken. De edit modus kan gedactiveerd worden door op enter te duwen of een focus te geven aan een ander element op de pagina. Wanneer de gebruiker op escape klikt zal de edit modus afgesloten worden en zullen de wijzigingen ongedaan gemaakt worden.
 *
 * @extends HTMLElement
 * @mixes vlElement
 *
 * @property {string} data-vl-domain - Het Proza domein waarin het Proza bericht zit.
 * @property {string} data-vl-code - De code die het Proza bericht identificeert.
 * @property {string} data-vl-block - Attribuut om aan te duiden dat de inhoud van het Proza bericht een block element is.
 * @property {string} data-vl-parameters - De key/value parameters die verwerkt en getoond zullen worden in het content element.
 *
 * @see {@link https://www.github.com/milieuinfo/webcomponent-vl-ui-proza-message/releases/latest|Release notes}
 * @see {@link https://www.github.com/milieuinfo/webcomponent-vl-ui-proza-message/issues|Issues}
 * @see {@link https://webcomponenten.omgeving.vlaanderen.be/demo/vl-proza-message.html|Demo}
 *
 */
export class VlProzaMessage extends vlElement(HTMLElement) {
  static get _observedAttributes() {
    return ['domain', 'code', 'block', 'parameters'];
  }

  constructor() {
    super();
    this.shadow(`
      &lt;style>
        @import '/src/style.css';
        @import '/node_modules/vl-ui-button/dist/style.css';
        @import '/node_modules/vl-ui-icon/dist/style.css';
      &lt;/style>
      &lt;div>
        &lt;slot>&lt;/slot>
      &lt;/div>
    `);
    this._toaster = this.__initProzaMessageToaster();
  }

  __initProzaMessageToaster() {
    const toaster = this.__addToasterElement();
    this.__addToasterStyle();
    return toaster;
  }

  __addToasterElement() {
    const id = 'vl-proza-message-toaster';
    if (!document.getElementById(id)) {
      document.body.appendChild(this._template(`&lt;div is='vl-toaster' data-vl-top-right id=${id}>&lt;/div>`));
    }
    return document.getElementById(id);
  }

  __addToasterStyle() {
    const id = 'vl-proza-message-toaster-style';
    if (!document.getElementById(id)) {
      document.head.appendChild(this._template(`
        &lt;style id=${id}>
          @import '/node_modules/vl-ui-toaster/dist/style.css';
        &lt;/style>
    `));
    }
    return document.getElementById(id);
  }

  connectedCallback() {
    this.appendChild(this.__createWysiwygElement());
    this.__processToegelatenOperaties();
  }

  disconnectedCallback() {
    this.__destroyWysiwyg();
  }

  get _wysiwygElement() {
    return this.querySelector('#wysiwyg');
  }

  get _buttonElement() {
    return this._shadow.querySelector('button');
  }

  get _typographyElement() {
    return this.querySelector('vl-typography');
  }

  _getEditButtonTemplate() {
    const button = this._template(`
      &lt;button id="edit-button" is="vl-button-link" type="button">
        &lt;span is="vl-icon" data-vl-icon="edit">&lt;/span>
      &lt;/button>
    `);
    button.firstElementChild.addEventListener('click', (event) => this.__initWysiwyg(event));
    return button;
  }

  _domainChangedCallback() {
    this._loadMessage();
  }

  _codeChangedCallback() {
    this._loadMessage();
  }

  _blockChangedCallback(oldValue, newValue) {
    const blockClass = 'vl-proza-message__block';
    if (newValue != undefined) {
      this.classList.add(blockClass);
    } else {
      this.classList.remove(blockClass);
    }
  }

  _parametersChangedCallback(oldValue, newValue) {
    if (this._typographyElement &amp;&amp; this.dataset.vlParameters) {
      this._typographyElement.dataset.vlParameters = this.dataset.vlParameters;
    }
  }

  get _domain() {
    return this.dataset.vlDomain;
  }

  get _code() {
    return this.dataset.vlCode;
  }

  get _wysiwygConfig() {
    return {
      target: this._wysiwygElement,
      menubar: false,
      inline: true,
      toolbar: false,
      plugins: ['quickbars'],
      quickbars_selection_toolbar: 'bold italic underline',
      powerpaste_word_import: 'clean',
      powerpaste_html_import: 'clean',
      content_css: '/src/style.css',
      verify_html: false,
      forced_root_block: '',
    };
  }

  get _activeWysiwygEditor() {
    return tinyMCE.activeEditor;
  }

  _loadMessage() {
    awaitUntil(() => this._wysiwygElement).then(() => {
      if (this._domain &amp;&amp; this._code) {
        VlProzaMessage._getMessage(this._domain, this._code).then((message) => {
          this._wysiwygElement.innerHTML = message;
          this.__wrapWysiwygElement();
          if (this.__containsBlockElement(message)) {
            this.setAttribute('data-vl-block', '');
          }
        });
      } else {
        this._wysiwygElement.innerHTML = null;
      }
    });
  }

  static _getMessage(domain, code) {
    const messageCache = VlProzaMessage.__getMessageCacheForDomain(domain);
    if (messageCache[code]) {
      return messageCache[code];
    } else {
      return VlProzaMessage.__getMessageFromPreloaderCache(domain, code).catch(() => {
        return VlProzaMessage.__getSingleMessage(domain, code);
      });
    }
  }

  static __getMessageFromPreloaderCache(domain, code) {
    return VlProzaMessagePreloader.getMessage(domain, code).catch((error) => {
      if (VlProzaMessagePreloader.isPreloaded(domain)) {
        console.warn(`Bericht voor {domein: ${domain}, code: ${code}} kon niet opgevraagd worden uit de preload cache`, error);
      }
      throw error;
    });
  }

  static __getSingleMessage(domain, code) {
    const messageCache = VlProzaMessage.__getMessageCacheForDomain(domain);
    if (!messageCache[code]) {
      VlProzaMessage._putInCache(domain, code, ProzaRestClient.getMessage(domain, code));
    }
    return messageCache[code];
  }

  static _putInCache(domain, code, messagePromise) {
    VlProzaMessage.__getMessageCacheForDomain(domain)[code] = messagePromise;
  }

  static _getToegelatenOperaties(domain) {
    let toegelatenOperatiesCache = VlProzaMessage.__getToegelatenOperatiesCacheForDomain(domain);
    if (!toegelatenOperatiesCache) {
      toegelatenOperatiesCache = ProzaRestClient.getToegelatenOperaties(domain);
      VlProzaMessage.__setToegelatenOperatiesCacheForDomain(domain, toegelatenOperatiesCache);
    }
    return toegelatenOperatiesCache;
  }

  static get __domainCache() {
    if (!VlProzaMessage.__cache) {
      VlProzaMessage.__cache = {};
    }
    return VlProzaMessage.__cache;
  }

  static __getCacheForDomain(domain) {
    const cache = VlProzaMessage.__domainCache;
    if (!cache[domain]) {
      cache[domain] = {};
    }
    return cache[domain];
  }

  static __getToegelatenOperatiesCacheForDomain(domain) {
    return VlProzaMessage.__getCacheForDomain(domain).toegelatenOperaties;
  }

  static __setToegelatenOperatiesCacheForDomain(domain, toegelatenOperaties) {
    VlProzaMessage.__getCacheForDomain(domain).toegelatenOperaties = toegelatenOperaties;
  }

  static __getMessageCacheForDomain(domain) {
    const cache = VlProzaMessage.__getCacheForDomain(domain);
    if (!cache.messages) {
      cache.messages = {};
    }
    return cache.messages;
  }

  async __processToegelatenOperaties() {
    const toegelatenOperaties = await VlProzaMessage._getToegelatenOperaties(this._domain);
    if (toegelatenOperaties.update) {
      this.__setupUpdatableMessage();
    }
  }

  __setupUpdatableMessage() {
    this._element.classList.add('vl-proza-message--updatable');
    this._element.appendChild(this._getEditButtonTemplate());
  }

  __initWysiwyg(event) {
    event.stopPropagation();
    event.preventDefault();
    this.__unwrapWysiwygElement();
    tinyMCE.baseURL = '/node_modules/tinymce';
    this.__hideWysiwygButton();
    tinyMCE.init(this._wysiwygConfig);
    this._activeWysiwygEditor.on('init', () => {
      this.__focusWysiwyg();
      this.__configureWysiwygStyle();
      this.__bindWysiwygEvents();
    });
  }

  __focusWysiwyg() {
    const editor = this._activeWysiwygEditor;
    editor.focus();
    editor.selection.select(editor.getBody(), true);
    editor.selection.collapse(false);
  }

  __configureWysiwygStyle() {
    this._activeWysiwygEditor.bodyElement.classList.add('vl-typography');
  }

  __bindWysiwygEvents() {
    const editor = this._activeWysiwygEditor;
    editor.on('keydown', (e) => this.__processKeydownEvent(e));
    editor.on('blur', (e) => this.__processBlurEvent(e));
  }

  __processKeydownEvent(e) {
    if (this.__isEscapeKey(e)) {
      this.__cancel();
    }
    if (this.__isEnterKey(e) &amp;&amp; !this.__isShiftKey(e)) {
      this.__undoWysiwygChange(); // enter verwijderen
      this.__save();
    }
  }

  __processBlurEvent() {
    this.__save();
  }

  __save() {
    ProzaRestClient.saveMessage(this._domain, this._code, this._activeWysiwygEditor.getContent()).then((message) => {
      VlProzaMessage._putInCache(this._domain, this._code, Promise.resolve(message));
      this.__stopWysiwyg();
    }).catch((error) => {
      this.__showErrorAlert();
      this.__cancel();
    });
  }

  __showErrorAlert() {
    const alert = this.__getProzaSaveErrorAlertTemplate().cloneNode(true);
    this._toaster.push(alert.firstElementChild);
  }

  __getProzaSaveErrorAlertTemplate() {
    return this._template(`
      &lt;vl-alert data-vl-type="error" data-vl-icon="warning" data-vl-title="Technische storing" data-vl-closable>
        &lt;p>Uw wijziging kon niet bewaard worden. Probeer het later opnieuw of neem contact op met de helpdesk als het probleem zich blijft voordoen.&lt;/p>
      &lt;/vl-alert>
    `);
  }

  __cancel() {
    this.__undoAllWysiwygChanges();
    this.__stopWysiwyg();
  }

  __isEscapeKey(e) {
    return e.keyCode === 27;
  }

  __isEnterKey(e) {
    return e.keyCode === 13;
  }

  __isShiftKey(e) {
    return e.shiftKey;
  }

  __undoWysiwygChange() {
    const editor = this._activeWysiwygEditor;
    if (editor &amp;&amp; editor.undoManager.hasUndo()) {
      editor.undoManager.undo();
    }
  }

  __undoAllWysiwygChanges() {
    const editor = this._activeWysiwygEditor;
    while (editor &amp;&amp; editor.undoManager.hasUndo()) {
      editor.undoManager.undo();
    }
  }

  __stopWysiwyg() {
    this.__destroyWysiwyg();
    this.__showWysiwygButton();
    this.__wrapWysiwygElement();
  }

  __destroyWysiwyg() {
    const editor = this._activeWysiwygEditor;
    if (editor) {
      editor.destroy();
    }
  }

  __hideWysiwygButton() {
    this._buttonElement.hidden = true;
  }

  __showWysiwygButton() {
    this._buttonElement.hidden = false;
  }

  __createWysiwygElement() {
    const div = document.createElement('div');
    div.id = 'wysiwyg';
    div.style = 'display: inline;';
    return div;
  }

  __wrapWysiwygElement() {
    if (!this._typographyElement) {
      const typography = document.createElement('vl-typography');
      typography.appendChild(this._wysiwygElement);
      if (this.dataset.vlParameters) {
        typography.dataset.vlParameters = this.dataset.vlParameters;
      }
      this.appendChild(typography);
    }
  }

  __unwrapWysiwygElement() {
    if (this._typographyElement) {
      const typography = this._typographyElement;
      const wysiwyg = typography.firstChild;
      this.appendChild(wysiwyg);
      typography.remove();
    }
  }

  __containsBlockElement() {
    return [...this._wysiwygElement.children].some((element) => {
      return ['block', 'inline-block', 'flex', 'grid', 'table'].includes(window.getComputedStyle(element)['display']);
    });
  }
}

/**
 * VlProzaMessagePreloader
 * @class
 * @classdesc Proza preloader dient om proza codes op voorhand op te halen zodat deze sneller getoond kunnen worden aan de gebruiker.
 *
 * @extends HTMLElement
 * @mixes vlElement
 *
 * @property {string} data-vl-domain - Het Proza domein waarin de Proza berichten zitten.
 *
 * @see {@link https://www.github.com/milieuinfo/webcomponent-vl-ui-proza-message/releases/latest|Release notes}
 * @see {@link https://www.github.com/milieuinfo/webcomponent-vl-ui-proza-message/issues|Issues}
 * @see {@link https://webcomponenten.omgeving.vlaanderen.be/demo/vl-proza-message.html|Demo}
 *
 */
export class VlProzaMessagePreloader extends vlElement(HTMLElement) {
  static get _observedAttributes() {
    return ['domain'];
  }

  constructor() {
    super();
    this._preload();
  }

  _domainChangedCallback() {
    this._preload();
  }

  get _domain() {
    return this.dataset.vlDomain;
  }

  _preload() {
    if (this._domain) {
      VlProzaMessagePreloader._preload(this._domain);
    }
  }

  static _preload(domain) {
    if (!VlProzaMessagePreloader.isPreloaded(domain)) {
      VlProzaMessagePreloader.__setPreloadedMessagesCacheForDomain(domain, ProzaRestClient.getMessages(domain));
    }
  }

  /**
    * Geeft een Proza bericht terug.
    *
    * @param {String} domain - Het Proza domein waarin het Proza bericht zit.
    * @param {String} code - De code die het Proza bericht identificeert.
    * @return {Promise&lt;string>} Resolved naar het Proza bericht indien teruggevonden en anders wordt de Promise rejected.
    */
  static getMessage(domain, code) {
    return VlProzaMessagePreloader._getMessages(domain).then((messages) => {
      const message = messages[code];
      if (message) {
        return message;
      } else {
        throw Error(`Bericht voor {domein: ${domain}, code: ${code}} niet gevonden`);
      }
    });
  }

  /**
    * Geeft terug of het Proza domein al reeds preloaded werd.
    *
    * @param {String} domain - Het Proza domein.
    * @return {boolean}
    */
  static isPreloaded(domain) {
    return !!VlProzaMessagePreloader.__getPreloadedMessagesCacheForDomain(domain);
  }

  static _getMessages(domain) {
    if (VlProzaMessagePreloader.isPreloaded(domain)) {
      return VlProzaMessagePreloader.__getPreloadedMessagesCacheForDomain(domain);
    } else {
      return Promise.reject(new Error(`Berichten voor domein ${domain} zijn niet preloaded`));
    }
  }

  static get __domainCache() {
    if (!VlProzaMessagePreloader.__cache) {
      VlProzaMessagePreloader.__cache = {};
    }
    return VlProzaMessagePreloader.__cache;
  }

  static __getCacheForDomain(domain) {
    const cache = VlProzaMessagePreloader.__domainCache;
    if (!cache[domain]) {
      cache[domain] = {};
    }
    return cache[domain];
  }

  static __getPreloadedMessagesCacheForDomain(domain) {
    return VlProzaMessagePreloader.__getCacheForDomain(domain).messages;
  }

  static __setPreloadedMessagesCacheForDomain(domain, messages) {
    VlProzaMessagePreloader.__getCacheForDomain(domain).messages = messages;
  }
}

export class ProzaRestClient {
  static saveMessage(domain, code, text) {
    return fetch(`proza/domein/${domain}/${code}`, {
      method: 'PUT',
      body: text,
    })
        .then((response) => ProzaRestClient.__handleError(response))
        .then((message) => message.tekst)
        .catch((error) => {
          console.error(`Er is iets fout gelopen bij het bewaren van het Proza bericht voor {domein: ${domain}, code: ${code}}`, error);
          return Promise.reject(error);
        });
  }

  static getMessage(domain, code) {
    return ProzaRestClient.__fetchJson(`proza/domein/${domain}/${code}`)
        .then((message) => message.tekst)
        .catch((error) => {
          console.error(`Er is iets fout gelopen bij het ophalen van het Proza bericht voor {domein: ${domain}, code: ${code}}`, error);
          return Promise.reject(error);
        });
  }

  static getMessages(domain) {
    return ProzaRestClient.__fetchJson(`proza/domein/${domain}`)
        .then((messages) => Object.assign({}, ...(messages.map((message) => ({[message.code]: message.tekst})))))
        .catch((error) => {
          console.error(`Er is iets fout gelopen bij het ophalen van de Proza berichten voor domein ${domain}`, error);
          return Promise.reject(error);
        });
  }

  static getToegelatenOperaties(domain) {
    return ProzaRestClient.__fetchJson(`proza/domein/${domain}/toegelatenoperaties`).catch((error) => {
      console.error(`Er is iets fout gelopen bij het ophalen van de toegelaten Proza operaties voor domein ${domain}`, error);
      return Promise.reject(error);
    });
  }

  static __fetchJson(url) {
    return fetch(url).then(ProzaRestClient.__handleError);
  }

  static __handleError(response) {
    if (response.ok) {
      return response.json();
    } else {
      throw Error(`Response geeft aan dat er een fout is: ${response.statusText}`);
    }
  }
}

define('vl-proza-message-preloader', VlProzaMessagePreloader);
define('vl-proza-message', VlProzaMessage);
</code></pre>
  </article>
</section>

    


  </div>

  <br class="clear">

  <footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.5</a>
  </footer>

  <script src="scripts/linenumber.js"></script>
  <script src="scripts/pagelocation.js"></script>

  

</body>
</html>
