{"version":3,"file":"demo.js","sources":["../../../vl-ui-util/src/js/util.js","../../../vl-ui-core/src/js/feature-detection/js-detection.js","../../../vl-ui-core/node_modules/promise-polyfill/src/index.js","../../../vl-ui-core/node_modules/intersection-observer/intersection-observer.js","../../../vl-ui-core/node_modules/classlist-polyfill/src/index.js","../../../vl-ui-core/src/js/polyfill/array-from.js","../../../vl-ui-core/src/js/polyfill/closest.js","../../../vl-ui-core/src/js/polyfill/foreach.js","../../../vl-ui-core/src/js/polyfill/map.js","../../../vl-ui-core/src/js/polyfill/object-assign.js","../../../vl-ui-core/src/js/polyfill/request-animation-frame.js","../../../vl-ui-core/src/js/polyfill/trunk.js","../../../vl-ui-core/src/js/polyfill/customevent.js","../../../vl-ui-core/src/js/i18n/translations/nl.js","../../../vl-ui-core/src/js/i18n/i18n.js","../../../vl-ui-core/src/js/core.js","../../node_modules/popper.js/dist/esm/popper.js","../../node_modules/tooltip.js/dist/esm/tooltip.js","../../src/js/tooltip.js"],"sourcesContent":["window.vl = window.vl || {ns: 'vl-'};\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nconst debounce = (func, wait, immediate = false) => {\n  let timeout;\n\n  return function() {\n    let context = this,\n      args = arguments,\n      later,\n      callNow;\n\n    later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    callNow = immediate && !timeout;\n    window.clearTimeout(timeout);\n    timeout = window.setTimeout(later, wait);\n\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\n\nconst throttle = (func, threshhold = 250, scope) => {\n  let last, deferTimer;\n\n  return function() {\n    let context = scope || this,\n      now = Number(new Date()),\n      args = arguments;\n\n    if (last && now < last + threshhold) {\n      // hold on to it\n      window.clearTimeout(deferTimer);\n      deferTimer = window.setTimeout(() => {\n        last = now;\n        func.apply(context, args);\n      }, threshhold);\n    } else {\n      last = now;\n      func.apply(context, args);\n    }\n  };\n};\n\nconst addClass = (el, classes) => {\n  el.classList.add(classes);\n};\n\nconst removeClass = (el, classes) => {\n  el.classList.remove(classes);\n};\n\nconst hasClass = (el, classes) => {\n  return el.classList.contains(classes);\n};\n\nconst toggleClass = (el, classes) => {\n  el.classList.toggle(classes);\n};\n\nconst addClassFor = (el, classes, duration) => {\n  addClass(el, classes);\n\n  window.setTimeout(() => {\n    removeClass(el, classes);\n  }, duration);\n};\n\n// Helper function that takes an HTML string & an object to use for\n// \"binding\" its properties to the HTML template above.\nconst parseTemplate = (str, data) => {\n  return str.replace(/\\$\\{(\\w+)\\}/gi, (match, parensMatch) => {\n    if (typeof data[parensMatch] !== 'undefined') {\n      return data[parensMatch];\n    }\n    return match;\n  });\n};\n\n// trigger a custom event on an object\nconst triggerEvent = (obj, evt) => {\n  let fireOnThis = obj,\n    evtObj;\n\n  if (document.createEvent) {\n    evtObj = document.createEvent('MouseEvents');\n\n    evtObj.initEvent(evt, true, false);\n    fireOnThis.dispatchEvent(evtObj);\n  } else if (document.createEventObject) {\n    evtObj = document.createEventObject();\n\n    fireOnThis.fireEvent(`on${evt}`, evtObj);\n  }\n};\n\nconst unique = array => {\n  return array.filter((elem, pos, arr) => {\n    return arr.indexOf(elem) === pos;\n  });\n};\n\nconst closest = (value, to) => {\n  return Math.round(value / to) * to;\n};\n\n// Current position of an element relative to the document.\nconst offset = el => {\n  let rect = el.getBoundingClientRect(),\n    doc = el.ownerDocument,\n    win = doc.defaultView || doc.parentWindow,\n    docElem = doc.documentElement,\n    xOff = win.pageXOffset;\n\n  // getBoundingClientRect contains left scroll in Chrome on Android.\n  // I haven't found a feature detection that proves this. Worst case\n  // scenario on mis-match: the 'tap' feature on horizontal sliders breaks.\n  if (/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)) {\n    xOff = 0;\n  }\n\n  return {\n    top: rect.top + win.pageYOffset - docElem.clientTop,\n    left: rect.left + xOff - docElem.clientLeft\n  };\n};\n\n// Insert after\nconst insertAfter = (newElement, targetElement) => {\n  let parent = targetElement.parentNode;\n\n  // If targetElement is the parents last-child\n  if (parent.lastchild === targetElement) {\n    // Add the newElement after the target element\n    parent.appendChild(newElement);\n  } else {\n    // Target has siblings, insert the new element between the target and its next sibling\n    parent.insertBefore(newElement, targetElement.nextSibling);\n  }\n};\n\nconst removeElement = targetElement => {\n  let parent = targetElement.parentNode;\n\n  parent.removeChild(targetElement);\n};\n\nconst isNumeric = number => {\n  return !isNaN(parseFloat(number)) && isFinite(number);\n};\n\nconst wrap = (el, wrapper) => {\n  // Cache the current parent and sibling\n  let parent = el.parentNode,\n    sibling = el.nextSibling;\n\n  wrapper.appendChild(el);\n\n  /**\n   * If the element had a sibling, insert the wrapper before\n   * the sibling to maintain the HTML structure; otherwise, just\n   * append it to the parent.\n   */\n  if (sibling) {\n    parent.insertBefore(wrapper, sibling);\n  } else {\n    parent.appendChild(wrapper);\n  }\n};\n\n// Strip tags from element\nconst stripTags = html => {\n  let tmp = document.createElement('div');\n\n  tmp.innerHTML = html;\n  return tmp.textContent || tmp.innerText;\n};\n\n// Create a unique ID\nconst uniqueId = () => {\n  // Desired length of Id\n  // Always start with a letter -- base 36 makes for a nice shortcut\n  let idStrLen = 32,\n    idStr = `${(Math.floor(Math.random() * 25) + 10).toString(36)}_`;\n\n  // Add a timestamp in milliseconds (base 36 again) as the base\n  idStr += `${new Date().getTime().toString(36)}_`;\n\n  // Similar to above, complete the Id using random, alphanumeric characters\n  do {\n    idStr += Math.floor(Math.random() * 35).toString(36);\n  } while (idStr.length < idStrLen);\n\n  return idStr;\n};\n\n// Create a unique name\nconst uniqueName = () => {\n  return Math.random()\n    .toString(36)\n    .substring(2, 5);\n};\n\n// Rounds a number to 7 supported decimals\nconst accurateNumber = number => {\n  let p = Math.pow(10, 7);\n\n  return Number((Math.round(number * p) / p).toFixed(7));\n};\n\n// Limits a value to 0 - 100\nconst limit = a => {\n  return Math.max(Math.min(a, 100), 0);\n};\n\n// Wraps a variable as an array, if it isn't one yet.\nconst asArray = a => {\n  return Array.isArray(a) ? a : [a];\n};\n\n// Count decimals\nconst countDecimals = numStr => {\n  let pieces = numStr.split('.');\n\n  return pieces.length > 0 ? pieces[1].length : 0;\n};\n\n// Scroll element to specific position\n// TODO: use element.scrollIntoView instead, maybe with fallback if you want old browser to have a smooth scroll\nconst scrollTo = (el, to, duration, callback = () => {}) => {\n  let scrollTop = el.scrollTop,\n    difference = to - scrollTop,\n    perTick;\n\n  if (duration < 0) {\n    return;\n  }\n\n  perTick = difference / duration * 10;\n\n  window.setTimeout(() => {\n    if (scrollTop === to || duration <= 0) {\n      callback();\n    } else {\n      el.scrollTop = scrollTop + perTick;\n      scrollTo(el, to, duration - 10, callback);\n    }\n  }, 10);\n};\n\n// Gets a random number between min and max\nconst randomIntFromInterval = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n};\n\n// Much faster each loop than a forEach loop\nconst each = (arr, fn) => {\n  let l = arr.length,\n    i = 0;\n\n  for (; i < l; i++) {\n    fn(arr[i], i);\n  }\n};\n\n/**\n * Determines if a certain value exists, is not null, and not empty\n * @method exists\n * @param  {type}  value value to check\n * @param  {Boolean} [nullAllowed = false] optional parameter to allow null\n * @param  {Boolean} [emptyAllowed = false] optional paramet to allow empty values\n * @return {Boolean}\n */\nconst exists = (value, nullAllowed = false, emptyAllowed = false) => {\n  if (typeof value !== 'undefined') {\n    if (nullAllowed || value !== null) {\n      if (emptyAllowed || value !== '') {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\nconst bytesToSize = bytes => {\n  let sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'],\n    i;\n\n  if (bytes === 0) {\n    return '0 Bytes';\n  }\n\n  i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)), 10);\n\n  return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n};\n\nconst getJson = (url, callback) => {\n  let xhr = new XMLHttpRequest();\n\n  xhr.open('get', url, true);\n  xhr.responseType = 'json';\n  xhr.onload = function() {\n    let status = xhr.status;\n\n    if (status === 200) {\n      callback(null, xhr.response);\n    } else {\n      callback(status);\n    }\n  };\n  xhr.send();\n};\n\n/**\n * Get all DOM element up the tree that contain a class, ID, or data attribute\n * @param  {Node} elem The base element\n * @param  {String} selector The class, id, data attribute, or tag to look for\n * @return {Array} Null if no match\n */\nconst getParents = (elem, selector) => {\n  let parents = [],\n    firstChar;\n\n  if (selector) {\n    firstChar = selector.charAt(0);\n  }\n\n  // Get matches\n  for (; elem && elem !== document; elem = elem.parentNode) {\n    if (selector) {\n      // If selector is a class\n      if (firstChar === '.') {\n        if (elem.classList.contains(selector.substr(1))) {\n          parents.push(elem);\n        }\n      }\n\n      // If selector is an ID\n      if (firstChar === '#') {\n        if (elem.id === selector.substr(1)) {\n          parents.push(elem);\n        }\n      }\n\n      // If selector is a data attribute\n      if (firstChar === '[') {\n        if (elem.hasAttribute(selector.substr(1, selector.length - 1))) {\n          parents.push(elem);\n        }\n      }\n\n      // If selector is a tag\n      if (elem.tagName.toLowerCase() === selector) {\n        parents.push(elem);\n      }\n    } else {\n      parents.push(elem);\n    }\n  }\n\n  // Return parents if any exist\n  if (parents.length === 0) {\n    return null;\n  }\n  return parents;\n};\n\nconst getParentsUntil = (elem, parent, selector) => {\n  let parents = [],\n    parentType,\n    selectorType;\n\n  if (parent) {\n    parentType = parent.charAt(0);\n  }\n  if (selector) {\n    selectorType = selector.charAt(0);\n  }\n\n  // Get matches\n  for (; elem && elem !== document; elem = elem.parentNode) {\n    // Check if parent has been reached\n    if (parent) {\n      // If parent is a class\n      if (parentType === '.') {\n        if (elem.classList.contains(parent.substr(1))) {\n          break;\n        }\n      }\n\n      // If parent is an ID\n      if (parentType === '#') {\n        if (elem.id === parent.substr(1)) {\n          break;\n        }\n      }\n\n      // If parent is a data attribute\n      if (parentType === '[') {\n        if (elem.hasAttribute(parent.substr(1, parent.length - 1))) {\n          break;\n        }\n      }\n\n      // If parent is a tag\n      if (elem.tagName.toLowerCase() === parent) {\n        break;\n      }\n    }\n\n    if (selector) {\n      // If selector is a class\n      if (selectorType === '.') {\n        if (elem.classList.contains(selector.substr(1))) {\n          parents.push(elem);\n        }\n      }\n\n      // If selector is an ID\n      if (selectorType === '#') {\n        if (elem.id === selector.substr(1)) {\n          parents.push(elem);\n        }\n      }\n\n      // If selector is a data attribute\n      if (selectorType === '[') {\n        if (elem.hasAttribute(selector.substr(1, selector.length - 1))) {\n          parents.push(elem);\n        }\n      }\n\n      // If selector is a tag\n      if (elem.tagName.toLowerCase() === selector) {\n        parents.push(elem);\n      }\n    } else {\n      parents.push(elem);\n    }\n  }\n\n  // Return parents if any exist\n  if (parents.length === 0) {\n    return null;\n  }\n  return parents;\n};\n\nclass Util {\n  constructor() {\n    this.addClass = addClass;\n    this.removeClass = removeClass;\n    this.hasClass = hasClass;\n    this.toggleClass = toggleClass;\n    this.addClassFor = addClassFor;\n    this.parseTemplate = parseTemplate;\n    this.triggerEvent = triggerEvent;\n    this.unique = unique;\n    this.closest = closest;\n    this.offset = offset;\n    this.insertAfter = insertAfter;\n    this.removeElement = removeElement;\n    this.isNumeric = isNumeric;\n    this.wrap = wrap;\n    this.stripTags = stripTags;\n    this.uniqueId = uniqueId;\n    this.uniqueName = uniqueName;\n    this.accurateNumber = accurateNumber;\n    this.limit = limit;\n    this.asArray = asArray;\n    this.countDecimals = countDecimals;\n    this.scrollTo = scrollTo;\n    this.randomIntFromInterval = randomIntFromInterval;\n    this.debounce = debounce;\n    this.throttle = throttle;\n    this.each = each;\n    this.exists = exists;\n    this.bytesToSize = bytesToSize;\n    this.getJson = getJson;\n    this.getParents = getParents;\n    this.getParentsUntil = getParentsUntil;\n  }\n}\n\nvl.util = new Util();\n\n// Export single utils\nexport default {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  addClassFor,\n  parseTemplate,\n  triggerEvent,\n  unique,\n  closest,\n  offset,\n  insertAfter,\n  removeElement,\n  isNumeric,\n  wrap,\n  stripTags,\n  uniqueId,\n  uniqueName,\n  accurateNumber,\n  limit,\n  asArray,\n  countDecimals,\n  scrollTo,\n  randomIntFromInterval,\n  debounce,\n  throttle,\n  each,\n  exists,\n  bytesToSize,\n  getJson,\n  getParents,\n  getParentsUntil\n};\n","const noJsClass = 'no-js',\n  jSclass = 'js';\n\n// Remove no-js class, add js class\nconst _jsDetection = () => {\n  if (vl.util.hasClass(document.documentElement, noJsClass)) {\n    vl.util.removeClass(document.documentElement, noJsClass);\n  }\n\n  vl.util.addClass(document.documentElement, jSclass);\n};\n\n_jsDetection();\n","// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  this._state = 0;\n  this._handled = false;\n  this._value = undefined;\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nvar _proto = Promise.prototype;\n_proto.catch = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\n_proto.then = function(onFulfilled, onRejected) {\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n\n(function(window, document) {\n'use strict';\n\n\n// Exits early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observering a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = entry.rootBounds;\n  this.boundingClientRect = entry.boundingClientRect;\n  this.intersectionRect = entry.intersectionRect || getEmptyRect();\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    this.intersectionRatio = intersectionArea / targetArea;\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (options.root && options.root.nodeType != 1) {\n    throw new Error('root must be an Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections();\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n\n    return item.element != target;\n  });\n  if (!this._observationTargets.length) {\n    this._unmonitorIntersections();\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibilty state is visible.\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function() {\n  if (!this._monitoringIntersections) {\n    this._monitoringIntersections = true;\n\n    // If a poll interval is set, use polling instead of listening to\n    // resize and scroll events or DOM mutations.\n    if (this.POLL_INTERVAL) {\n      this._monitoringInterval = setInterval(\n          this._checkForIntersections, this.POLL_INTERVAL);\n    }\n    else {\n      addEvent(window, 'resize', this._checkForIntersections, true);\n      addEvent(document, 'scroll', this._checkForIntersections, true);\n\n      if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in window) {\n        this._domObserver = new MutationObserver(this._checkForIntersections);\n        this._domObserver.observe(document, {\n          attributes: true,\n          childList: true,\n          characterData: true,\n          subtree: true\n        });\n      }\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function() {\n  if (this._monitoringIntersections) {\n    this._monitoringIntersections = false;\n\n    clearInterval(this._monitoringInterval);\n    this._monitoringInterval = null;\n\n    removeEvent(window, 'resize', this._checkForIntersections, true);\n    removeEvent(document, 'scroll', this._checkForIntersections, true);\n\n    if (this._domObserver) {\n      this._domObserver.disconnect();\n      this._domObserver = null;\n    }\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, rootRect);\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootRect,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, rootRect) {\n\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var targetRect = getBoundingClientRect(target);\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return;\n\n    if (parent == this.root || parent == document) {\n      atRoot = true;\n      parentRect = rootRect;\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      if (parent != document.body &&\n          parent != document.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n\n      if (!intersectionRect) break;\n    }\n    parent = getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {Object} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var html = document.documentElement;\n    var body = document.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {Object} rect The rect object to expand.\n * @return {Object} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  return containsDeep(this.root || document, target);\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its executiong, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detatchEvent == 'function') {\n    node.detatchEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object} The intersection rect or undefined if no intersection\n *     is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {Object} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {Object} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n/**\n * Checks to see if a parent element contains a child elemnt (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n  return parent;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}(window, document));\n","/*\n * classList.js: Cross-browser full element.classList implementation.\n * 1.1.20170427\n *\n * By Eli Grey, http://eligrey.com\n * License: Dedicated to the public domain.\n *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md\n */\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\nif (\"document\" in window.self) {\n\n// Full polyfill for browsers with no classList support\n// Including IE < Edge missing SVGElement.classList\nif (!(\"classList\" in document.createElement(\"_\")) \n\t|| document.createElementNS && !(\"classList\" in document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\"))) {\n\n(function (view) {\n\n\"use strict\";\n\nif (!('Element' in view)) return;\n\nvar\n\t  classListProp = \"classList\"\n\t, protoProp = \"prototype\"\n\t, elemCtrProto = view.Element[protoProp]\n\t, objCtr = Object\n\t, strTrim = String[protoProp].trim || function () {\n\t\treturn this.replace(/^\\s+|\\s+$/g, \"\");\n\t}\n\t, arrIndexOf = Array[protoProp].indexOf || function (item) {\n\t\tvar\n\t\t\t  i = 0\n\t\t\t, len = this.length\n\t\t;\n\t\tfor (; i < len; i++) {\n\t\t\tif (i in this && this[i] === item) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\t// Vendors: please allow content code to instantiate DOMExceptions\n\t, DOMEx = function (type, message) {\n\t\tthis.name = type;\n\t\tthis.code = DOMException[type];\n\t\tthis.message = message;\n\t}\n\t, checkTokenAndGetIndex = function (classList, token) {\n\t\tif (token === \"\") {\n\t\t\tthrow new DOMEx(\n\t\t\t\t  \"SYNTAX_ERR\"\n\t\t\t\t, \"An invalid or illegal string was specified\"\n\t\t\t);\n\t\t}\n\t\tif (/\\s/.test(token)) {\n\t\t\tthrow new DOMEx(\n\t\t\t\t  \"INVALID_CHARACTER_ERR\"\n\t\t\t\t, \"String contains an invalid character\"\n\t\t\t);\n\t\t}\n\t\treturn arrIndexOf.call(classList, token);\n\t}\n\t, ClassList = function (elem) {\n\t\tvar\n\t\t\t  trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\")\n\t\t\t, classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\n\t\t\t, i = 0\n\t\t\t, len = classes.length\n\t\t;\n\t\tfor (; i < len; i++) {\n\t\t\tthis.push(classes[i]);\n\t\t}\n\t\tthis._updateClassName = function () {\n\t\t\telem.setAttribute(\"class\", this.toString());\n\t\t};\n\t}\n\t, classListProto = ClassList[protoProp] = []\n\t, classListGetter = function () {\n\t\treturn new ClassList(this);\n\t}\n;\n// Most DOMException implementations don't allow calling DOMException's toString()\n// on non-DOMExceptions. Error's toString() is sufficient here.\nDOMEx[protoProp] = Error[protoProp];\nclassListProto.item = function (i) {\n\treturn this[i] || null;\n};\nclassListProto.contains = function (token) {\n\ttoken += \"\";\n\treturn checkTokenAndGetIndex(this, token) !== -1;\n};\nclassListProto.add = function () {\n\tvar\n\t\t  tokens = arguments\n\t\t, i = 0\n\t\t, l = tokens.length\n\t\t, token\n\t\t, updated = false\n\t;\n\tdo {\n\t\ttoken = tokens[i] + \"\";\n\t\tif (checkTokenAndGetIndex(this, token) === -1) {\n\t\t\tthis.push(token);\n\t\t\tupdated = true;\n\t\t}\n\t}\n\twhile (++i < l);\n\n\tif (updated) {\n\t\tthis._updateClassName();\n\t}\n};\nclassListProto.remove = function () {\n\tvar\n\t\t  tokens = arguments\n\t\t, i = 0\n\t\t, l = tokens.length\n\t\t, token\n\t\t, updated = false\n\t\t, index\n\t;\n\tdo {\n\t\ttoken = tokens[i] + \"\";\n\t\tindex = checkTokenAndGetIndex(this, token);\n\t\twhile (index !== -1) {\n\t\t\tthis.splice(index, 1);\n\t\t\tupdated = true;\n\t\t\tindex = checkTokenAndGetIndex(this, token);\n\t\t}\n\t}\n\twhile (++i < l);\n\n\tif (updated) {\n\t\tthis._updateClassName();\n\t}\n};\nclassListProto.toggle = function (token, force) {\n\ttoken += \"\";\n\n\tvar\n\t\t  result = this.contains(token)\n\t\t, method = result ?\n\t\t\tforce !== true && \"remove\"\n\t\t:\n\t\t\tforce !== false && \"add\"\n\t;\n\n\tif (method) {\n\t\tthis[method](token);\n\t}\n\n\tif (force === true || force === false) {\n\t\treturn force;\n\t} else {\n\t\treturn !result;\n\t}\n};\nclassListProto.toString = function () {\n\treturn this.join(\" \");\n};\n\nif (objCtr.defineProperty) {\n\tvar classListPropDesc = {\n\t\t  get: classListGetter\n\t\t, enumerable: true\n\t\t, configurable: true\n\t};\n\ttry {\n\t\tobjCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n\t} catch (ex) { // IE 8 doesn't support enumerable:true\n\t\t// adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n\t\t// modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n\t\tif (ex.number === undefined || ex.number === -0x7FF5EC54) {\n\t\t\tclassListPropDesc.enumerable = false;\n\t\t\tobjCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n\t\t}\n\t}\n} else if (objCtr[protoProp].__defineGetter__) {\n\telemCtrProto.__defineGetter__(classListProp, classListGetter);\n}\n\n}(window.self));\n\n}\n\n// There is full or partial native classList support, so just check if we need\n// to normalize the add/remove and toggle APIs.\n\n(function () {\n\t\"use strict\";\n\n\tvar testElement = document.createElement(\"_\");\n\n\ttestElement.classList.add(\"c1\", \"c2\");\n\n\t// Polyfill for IE 10/11 and Firefox <26, where classList.add and\n\t// classList.remove exist but support only one argument at a time.\n\tif (!testElement.classList.contains(\"c2\")) {\n\t\tvar createMethod = function(method) {\n\t\t\tvar original = DOMTokenList.prototype[method];\n\n\t\t\tDOMTokenList.prototype[method] = function(token) {\n\t\t\t\tvar i, len = arguments.length;\n\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\ttoken = arguments[i];\n\t\t\t\t\toriginal.call(this, token);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\tcreateMethod('add');\n\t\tcreateMethod('remove');\n\t}\n\n\ttestElement.classList.toggle(\"c3\", false);\n\n\t// Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n\t// support the second argument.\n\tif (testElement.classList.contains(\"c3\")) {\n\t\tvar _toggle = DOMTokenList.prototype.toggle;\n\n\t\tDOMTokenList.prototype.toggle = function(token, force) {\n\t\t\tif (1 in arguments && !this.contains(token) === !force) {\n\t\t\t\treturn force;\n\t\t\t} else {\n\t\t\t\treturn _toggle.call(this, token);\n\t\t\t}\n\t\t};\n\n\t}\n\n\ttestElement = null;\n}());\n\n}\n","/* eslint-disable */\n// Production steps of ECMA-262, Edition 6, 22.1.2.1\nif (!Array.from) {\n  Array.from = (function() {\n    var toStr = Object.prototype.toString;\n    var isCallable = function(fn) {\n      return typeof fn === 'function' || toStr.call(fn) === '[object Function]';\n    };\n    var toInteger = function(value) {\n      var number = Number(value);\n      if (isNaN(number)) {\n        return 0;\n      }\n      if (number === 0 || !isFinite(number)) {\n        return number;\n      }\n      return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n    };\n    var maxSafeInteger = Math.pow(2, 53) - 1;\n    var toLength = function(value) {\n      var len = toInteger(value);\n      return Math.min(Math.max(len, 0), maxSafeInteger);\n    };\n\n    // The length property of the from method is 1.\n    return function from(arrayLike /*, mapFn, thisArg */) {\n      // 1. Let C be the this value.\n      var C = this;\n\n      // 2. Let items be ToObject(arrayLike).\n      var items = Object(arrayLike);\n\n      // 3. ReturnIfAbrupt(items).\n      if (arrayLike == null) {\n        throw new TypeError(\n          'Array.from requires an array-like object - not null or undefined'\n        );\n      }\n\n      // 4. If mapfn is undefined, then let mapping be false.\n      var mapFn = arguments.length > 1 ? arguments[1] : void undefined;\n      var T;\n      if (typeof mapFn !== 'undefined') {\n        // 5. else\n        // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\n        if (!isCallable(mapFn)) {\n          throw new TypeError(\n            'Array.from: when provided, the second argument must be a function'\n          );\n        }\n\n        // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if (arguments.length > 2) {\n          T = arguments[2];\n        }\n      }\n\n      // 10. Let lenValue be Get(items, \"length\").\n      // 11. Let len be ToLength(lenValue).\n      var len = toLength(items.length);\n\n      // 13. If IsConstructor(C) is true, then\n      // 13. a. Let A be the result of calling the [[Construct]] internal method\n      // of C with an argument list containing the single item len.\n      // 14. a. Else, Let A be ArrayCreate(len).\n      var A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n      // 16. Let k be 0.\n      var k = 0;\n      // 17. Repeat, while k < len… (also steps a - h)\n      var kValue;\n      while (k < len) {\n        kValue = items[k];\n        if (mapFn) {\n          A[k] =\n            typeof T === 'undefined'\n              ? mapFn(kValue, k)\n              : mapFn.call(T, kValue, k);\n        } else {\n          A[k] = kValue;\n        }\n        k += 1;\n      }\n      // 18. Let putStatus be Put(A, \"length\", len, true).\n      A.length = len;\n      // 20. Return A.\n      return A;\n    };\n  })();\n}\n","/* eslint-disable */\n// closest polyfill\n(function(ElementProto) {\n  if (typeof ElementProto.matches !== 'function') {\n    ElementProto.matches =\n      ElementProto.msMatchesSelector ||\n      ElementProto.mozMatchesSelector ||\n      ElementProto.webkitMatchesSelector ||\n      function matches(selector) {\n        var element = this;\n        var elements = (\n          element.document || element.ownerDocument\n        ).querySelectorAll(selector);\n        var index = 0;\n\n        while (elements[index] && elements[index] !== element) {\n          ++index;\n        }\n\n        return Boolean(elements[index]);\n      };\n  }\n\n  if (typeof ElementProto.closest !== 'function') {\n    ElementProto.closest = function closest(selector) {\n      var element = this;\n\n      while (element && element.nodeType === 1) {\n        if (element.matches(selector)) {\n          return element;\n        }\n\n        element = element.parentNode;\n      }\n\n      return null;\n    };\n  }\n})(window.Element.prototype);\n","/* eslint-disable no-extend-native */\n// falback for foreach\nif (!Array.prototype.forEach) {\n  Array.prototype.forEach = function(callback, thisArg) {\n    let T, k;\n\n    if (this === null) {\n      throw new TypeError(' this is null or not defined');\n    }\n\n    // 1. Let O be the result of calling ToObject passing the |this| value as the argument.\n    const O = Object(this);\n\n    // 2. Let lenValue be the result of calling the Get internal method of O with the argument \"length\".\n    // 3. Let len be ToUint32(lenValue).\n    const len = O.length >>> 0;\n\n    // 4. If IsCallable(callback) is false, throw a TypeError exception.\n    // See: http://es5.github.com/#x9.11\n    if (typeof callback !== 'function') {\n      throw new TypeError(`${callback} is not a function`);\n    }\n\n    // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n    if (arguments.length > 1) {\n      T = thisArg;\n    }\n\n    // 6. Let k be 0\n    k = 0;\n\n    // 7. Repeat, while k < len\n    while (k < len) {\n      let kValue;\n\n      // a. Let Pk be ToString(k).\n      //   This is implicit for LHS operands of the in operator\n      // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.\n      //   This step can be combined with c\n      // c. If kPresent is true, then\n      if (k in O) {\n        // i. Let kValue be the result of calling the Get internal method of O with argument Pk.\n        kValue = O[k];\n\n        // ii. Call the Call internal method of callback with T as the this value and\n        // argument list containing kValue, k, and O.\n        callback.call(T, kValue, k, O);\n      }\n      // d. Increase k by 1.\n      k++;\n    }\n    // 8. return undefined\n  };\n}\n","/* eslint-disable */\n\n// Array.prototype.map polyfill\n// code from https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/map\nif (!Array.prototype.map) {\n  Array.prototype.map = function(fun /* , thisArg */) {\n    'use strict';\n\n    if (this === void 0 || this === null) {\n      throw new TypeError();\n    }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n\n    if (typeof fun !== 'function') {\n      throw new TypeError();\n    }\n\n    var res = new Array(len);\n    var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n\n    for (var i = 0; i < len; i++) {\n      // NOTE: Absolute correctness would demand Object.defineProperty\n      //       be used.  But this method is fairly new, and failure is\n      //       possible only if Object.prototype or Array.prototype\n      //       has a property |i| (very unlikely), so use a less-correct\n      //       but more portable alternative.\n      if (i in t) {\n        res[i] = fun.call(thisArg, t[i], i, t);\n      }\n    }\n\n    return res;\n  };\n}\n","/* eslint-disable */\nif (typeof Object.assign !== 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, 'assign', {\n    value: function assign(target, varArgs) {\n      // .length of function is 2\n\n      if (target == null) {\n        // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) {\n          // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n}\n","/* eslint-disable */\n\n(function() {\n  var lastTime = 0;\n  var vendors = ['webkit', 'moz'];\n\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame =\n      window[vendors[x] + 'CancelAnimationFrame'] ||\n      window[vendors[x] + 'CancelRequestAnimationFrame'];\n  }\n\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = function(callback, element) {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      var id = window.setTimeout(function() {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n  }\n\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = function(id) {\n      window.clearTimeout(id);\n    };\n  }\n}());\n","// trunc polyfill\nMath.trunc =\n  Math.trunc ||\n  function(x) {\n    return x < 0 ? Math.ceil(x) : Math.floor(x);\n  };\n","// source: https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n(function() {\n  if (typeof window.CustomEvent === 'function') {\n    return false;\n  }\n\n  function CustomEvent(event, params) {\n    params = params || {bubbles: false, cancelable: false, detail: undefined};\n    var evt = document.createEvent('CustomEvent');\n\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent;\n}());\n","export default {\n  'drilldown.close_menu': 'Sluit menu',\n  'drilldown.search': 'Zoek',\n  'drilldown.back_to_level': 'Terug naar niveau $1',\n  'drilldown.no_results': 'Geen resultaten gevonden',\n  'slider.next_slide': 'volgende slide',\n  'slider.prev_slide': 'vorige slide',\n  'lightbox.next_slide': 'Volgende (Pijltje naar rechts)',\n  'lightbox.prev_slide': 'Vorige (Pijltje naar links)',\n  'lightbox.zoom_in_out': 'Zoom in/uit',\n  'lightbox.close': 'Esc/sluiten',\n  'codepreview.copy': 'Copy',\n  'codepreview.copied': 'Copied',\n  'codepreview.copy_to_clipboard': 'Copy to clipboard',\n  'autocomplete.my_location': 'Mijn Locatie',\n  'autocomplete.loading_location': 'Locatie ophalen...',\n  'autocomplete.no_results': 'Geen resultaten',\n  'select.search_placeholder_value': 'Zoek item',\n  'select.placeholder_value': 'Selecteer item',\n  'select.no_results': 'Geen resultaten gevonden',\n  'select.no_more_options': 'Geen resterende opties gevonden'\n};\n","import nl from './translations/nl';\n\nclass Translation {\n  constructor() {\n    this.i18n = nl;\n  }\n\n  t(key, ...args) {\n    let trans = this.i18n[key];\n\n    if(trans) {\n      let i = 0;\n\n      for (let arg of args) {\n        i++;\n        trans = trans.replace('$' + i, arg.toString());\n      }\n    } else {\n      return key;\n    }\n    return trans;\n  }\n}\n\nexport default Translation;\n","window.vl = window.vl || {};\nvl.ns = vl.ns || 'vl-';\n\nimport '@govflanders/vl-ui-util/src/js/util';\n\n// importing feature-detection\nimport './feature-detection/js-detection';\nimport Promise from 'promise-polyfill';\nimport 'intersection-observer';\n\n// To add to window\nif (!window.Promise) {\n  window.Promise = Promise;\n}\n// importing polyfill\n\nimport 'classlist-polyfill';\nimport './polyfill/array-from';\nimport './polyfill/closest';\nimport './polyfill/foreach';\nimport './polyfill/map';\n// import './polyfill/matches'; // Needs to be looked at, not working\nimport './polyfill/object-assign';\nimport './polyfill/request-animation-frame';\nimport './polyfill/trunk';\nimport './polyfill/customevent';\n\n// setup translation helper\nimport Translation from './i18n/i18n';\nvl.i18n = new Translation();\n","/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.14.3\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nvar longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\nvar timeoutDuration = 0;\nfor (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n  if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n    timeoutDuration = 1;\n    break;\n  }\n}\n\nfunction microtaskDebounce(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n    called = true;\n    window.Promise.resolve().then(function () {\n      called = false;\n      fn();\n    });\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nvar supportsMicroTasks = isBrowser && window.Promise;\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var css = getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body;\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body;\n    case '#document':\n      return element.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\nvar isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nvar isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nfunction isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  var noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  var offsetParent = element.offsetParent;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = element.ownerDocument.documentElement;\n    var scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return parseFloat(styles['border' + sideA + 'Width'], 10) + parseFloat(styles['border' + sideB + 'Width'], 10);\n}\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? html['offset' + axis] + computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')] + computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')] : 0);\n}\n\nfunction getWindowSizes() {\n  var body = document.body;\n  var html = document.documentElement;\n  var computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n  } catch (e) {}\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes() : {};\n  var width = sizes.width || element.clientWidth || result.right - result.left;\n  var height = sizes.height || element.clientHeight || result.bottom - result.top;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var isIE10 = isIE(10);\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = parseFloat(styles.borderTopWidth, 10);\n  var borderLeftWidth = parseFloat(styles.borderLeftWidth, 10);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if (fixedPosition && parent.nodeName === 'HTML') {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = parseFloat(styles.marginTop, 10);\n    var marginLeft = parseFloat(styles.marginLeft, 10);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var html = element.ownerDocument.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = !excludeScroll ? getScroll(html) : 0;\n  var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  return isFixed(getParentNode(element));\n}\n\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nfunction getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  var el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  // NOTE: 1 DOM access here\n\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  boundaries.left += padding;\n  boundaries.top += padding;\n  boundaries.right -= padding;\n  boundaries.bottom -= padding;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, reference);\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var styles = getComputedStyle(element);\n  var x = parseFloat(styles.marginTop) + parseFloat(styles.marginBottom);\n  var y = parseFloat(styles.marginLeft) + parseFloat(styles.marginRight);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier['function']) {\n      // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n\n  data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroy the popper\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicity asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\n/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nfunction getWindow(element) {\n  var ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger onUpdate callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  // Avoid blurry text by using full pixel integers.\n  // For pixel-perfect positioning, top/bottom prefers rounded\n  // values, while left/right prefers floored values.\n  var offsets = {\n    left: Math.floor(popper.left),\n    top: Math.round(popper.top),\n    bottom: Math.round(popper.bottom),\n    right: Math.floor(popper.right)\n  };\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    top = -offsetParentRect.height + offsets.bottom;\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    left = -offsetParentRect.width + offsets.right;\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  var _data$offsets$arrow;\n\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjuction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var css = getStyleComputedProperty(data.instance.popper);\n  var popperMarginSide = parseFloat(css['margin' + sideCapitalized], 10);\n  var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width'], 10);\n  var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-right` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n    var flippedVariation = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  var transformProp = getSupportedPropertyName('transform');\n  var popperStyles = data.instance.popper.style; // assignment to help minification\n  var top = popperStyles.top,\n      left = popperStyles.left,\n      transform = popperStyles[transformProp];\n\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unitless, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the height.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > More on this [reading this issue](https://github.com/FezVrasta/popper.js/issues/373)\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * An scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\" — or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper this makes sure the popper has always a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier, can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near eachothers\n   * without leaving any gap between the two. Expecially useful when the arrow is\n   * enabled and you want to assure it to point to its reference element.\n   * It cares only about the first axis, you can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjuction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations).\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position,\n     * the popper will never be placed outside of the defined boundaries\n     * (except if keepTogether is enabled)\n     */\n    boundariesElement: 'viewport'\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3d transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties.\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define you own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3d transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties.\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the informations used by Popper.js\n * this object get passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper.\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper, it expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow, it expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements.\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overriden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass as 3rd argument an object with the same\n * structure of this object, example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated, this callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Create a new Popper.js instance\n   * @class Popper\n   * @param {HTMLElement|referenceObject} reference - The reference element used to position the popper\n   * @param {HTMLElement} popper - The HTML element used as popper.\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedule an update, it will run on the next UI update available\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\nexport default Popper;\n//# sourceMappingURL=popper.js.map\n","/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.2.0\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport Popper from 'popper.js';\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar DEFAULT_OPTIONS = {\n  container: false,\n  delay: 0,\n  html: false,\n  placement: 'top',\n  title: '',\n  template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n  trigger: 'hover focus',\n  offset: 0\n};\n\nvar Tooltip = function () {\n  /**\n   * Create a new Tooltip.js instance\n   * @class Tooltip\n   * @param {HTMLElement} reference - The DOM node used as reference of the tooltip (it can be a jQuery element).\n   * @param {Object} options\n   * @param {String|PlacementFunction} options.placement=top\n   *      Placement of the popper accepted values: `top(-start, -end), right(-start, -end), bottom(-start, -end),\n   *      left(-start, -end)`\n   * @param {HTMLElement|String|false} options.container=false - Append the tooltip to a specific element.\n   * @param {Number|Object} options.delay=0\n   *      Delay showing and hiding the tooltip (ms) - does not apply to manual trigger type.\n   *      If a number is supplied, delay is applied to both hide/show.\n   *      Object structure is: `{ show: 500, hide: 100 }`\n   * @param {Boolean} options.html=false - Insert HTML into the tooltip. If false, the content will inserted with `textContent`.\n   * @param {String|PlacementFunction} options.placement='top' - One of the allowed placements, or a function returning one of them.\n   * @param {String} [options.template='<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>']\n   *      Base HTML to used when creating the tooltip.\n   *      The tooltip's `title` will be injected into the `.tooltip-inner` or `.tooltip__inner`.\n   *      `.tooltip-arrow` or `.tooltip__arrow` will become the tooltip's arrow.\n   *      The outermost wrapper element should have the `.tooltip` class.\n   * @param {String|HTMLElement|TitleFunction} options.title='' - Default title value if `title` attribute isn't present.\n   * @param {String} [options.trigger='hover focus']\n   *      How tooltip is triggered - click, hover, focus, manual.\n   *      You may pass multiple triggers; separate them with a space. `manual` cannot be combined with any other trigger.\n   * @param {String|HTMLElement} options.boundariesElement\n   *      The element used as boundaries for the tooltip. For more information refer to Popper.js'\n   *      [boundariesElement docs](https://popper.js.org/popper-documentation.html)\n   * @param {Number|String} options.offset=0 - Offset of the tooltip relative to its reference. For more information refer to Popper.js'\n   *      [offset docs](https://popper.js.org/popper-documentation.html)\n   * @param {Object} options.popperOptions={} - Popper options, will be passed directly to popper instance. For more information refer to Popper.js'\n   *      [options docs](https://popper.js.org/popper-documentation.html)\n   * @return {Object} instance - The generated tooltip instance\n   */\n  function Tooltip(reference, options) {\n    classCallCheck(this, Tooltip);\n\n    _initialiseProps.call(this);\n\n    // apply user options over default ones\n    options = _extends({}, DEFAULT_OPTIONS, options);\n\n    reference.jquery && (reference = reference[0]);\n\n    // cache reference and options\n    this.reference = reference;\n    this.options = options;\n\n    // get events list\n    var events = typeof options.trigger === 'string' ? options.trigger.split(' ').filter(function (trigger) {\n      return ['click', 'hover', 'focus'].indexOf(trigger) !== -1;\n    }) : [];\n\n    // set initial state\n    this._isOpen = false;\n    this._popperOptions = {};\n\n    // set event listeners\n    this._setEventListeners(reference, events, options);\n  }\n\n  //\n  // Public methods\n  //\n\n  /**\n   * Reveals an element's tooltip. This is considered a \"manual\" triggering of the tooltip.\n   * Tooltips with zero-length titles are never displayed.\n   * @method Tooltip#show\n   * @memberof Tooltip\n   */\n\n\n  /**\n   * Hides an element’s tooltip. This is considered a “manual” triggering of the tooltip.\n   * @method Tooltip#hide\n   * @memberof Tooltip\n   */\n\n\n  /**\n   * Hides and destroys an element’s tooltip.\n   * @method Tooltip#dispose\n   * @memberof Tooltip\n   */\n\n\n  /**\n   * Toggles an element’s tooltip. This is considered a “manual” triggering of the tooltip.\n   * @method Tooltip#toggle\n   * @memberof Tooltip\n   */\n\n\n  /**\n   * Updates the tooltip's title content\n   * @method Tooltip#updateTitleContent\n   * @memberof Tooltip\n   * @param {String|HTMLElement} title - The new content to use for the title\n   */\n\n\n  //\n  // Defaults\n  //\n\n\n  //\n  // Private methods\n  //\n\n  createClass(Tooltip, [{\n    key: '_create',\n\n\n    /**\n     * Creates a new tooltip node\n     * @memberof Tooltip\n     * @private\n     * @param {HTMLElement} reference\n     * @param {String} template\n     * @param {String|HTMLElement|TitleFunction} title\n     * @param {Boolean} allowHtml\n     * @return {HTMLElement} tooltipNode\n     */\n    value: function _create(reference, template, title, allowHtml) {\n      // create tooltip element\n      var tooltipGenerator = window.document.createElement('div');\n      tooltipGenerator.innerHTML = template.trim();\n      var tooltipNode = tooltipGenerator.childNodes[0];\n\n      // add unique ID to our tooltip (needed for accessibility reasons)\n      tooltipNode.id = 'tooltip_' + Math.random().toString(36).substr(2, 10);\n\n      // set initial `aria-hidden` state to `false` (it's visible!)\n      tooltipNode.setAttribute('aria-hidden', 'false');\n\n      // add title to tooltip\n      var titleNode = tooltipGenerator.querySelector(this.innerSelector);\n      this._addTitleContent(reference, title, allowHtml, titleNode);\n\n      // return the generated tooltip node\n      return tooltipNode;\n    }\n  }, {\n    key: '_addTitleContent',\n    value: function _addTitleContent(reference, title, allowHtml, titleNode) {\n      if (title.nodeType === 1 || title.nodeType === 11) {\n        // if title is a element node or document fragment, append it only if allowHtml is true\n        allowHtml && titleNode.appendChild(title);\n      } else if (isFunction(title)) {\n        // if title is a function, call it and set textContent or innerHtml depending by `allowHtml` value\n        var titleText = title.call(reference);\n        allowHtml ? titleNode.innerHTML = titleText : titleNode.textContent = titleText;\n      } else {\n        // if it's just a simple text, set textContent or innerHtml depending by `allowHtml` value\n        allowHtml ? titleNode.innerHTML = title : titleNode.textContent = title;\n      }\n    }\n  }, {\n    key: '_show',\n    value: function _show(reference, options) {\n      // don't show if it's already visible\n      // or if it's not being showed\n      if (this._isOpen && !this._isOpening) {\n        return this;\n      }\n      this._isOpen = true;\n\n      // if the tooltipNode already exists, just show it\n      if (this._tooltipNode) {\n        this._tooltipNode.style.display = '';\n        this._tooltipNode.setAttribute('aria-hidden', 'false');\n        this.popperInstance.update();\n        return this;\n      }\n\n      // get title\n      var title = reference.getAttribute('title') || options.title;\n\n      // don't show tooltip if no title is defined\n      if (!title) {\n        return this;\n      }\n\n      // create tooltip node\n      var tooltipNode = this._create(reference, options.template, title, options.html);\n\n      // Add `aria-describedby` to our reference element for accessibility reasons\n      reference.setAttribute('aria-describedby', tooltipNode.id);\n\n      // append tooltip to container\n      var container = this._findContainer(options.container, reference);\n\n      this._append(tooltipNode, container);\n\n      this._popperOptions = _extends({}, options.popperOptions, {\n        placement: options.placement\n      });\n\n      this._popperOptions.modifiers = _extends({}, this._popperOptions.modifiers, {\n        arrow: {\n          element: this.arrowSelector\n        },\n        offset: {\n          offset: options.offset\n        }\n      });\n\n      if (options.boundariesElement) {\n        this._popperOptions.modifiers.preventOverflow = {\n          boundariesElement: options.boundariesElement\n        };\n      }\n\n      this.popperInstance = new Popper(reference, tooltipNode, this._popperOptions);\n\n      this._tooltipNode = tooltipNode;\n\n      return this;\n    }\n  }, {\n    key: '_hide',\n    value: function _hide() /*reference, options*/{\n      // don't hide if it's already hidden\n      if (!this._isOpen) {\n        return this;\n      }\n\n      this._isOpen = false;\n\n      // hide tooltipNode\n      this._tooltipNode.style.display = 'none';\n      this._tooltipNode.setAttribute('aria-hidden', 'true');\n\n      return this;\n    }\n  }, {\n    key: '_dispose',\n    value: function _dispose() {\n      var _this = this;\n\n      // remove event listeners first to prevent any unexpected behaviour\n      this._events.forEach(function (_ref) {\n        var func = _ref.func,\n            event = _ref.event;\n\n        _this.reference.removeEventListener(event, func);\n      });\n      this._events = [];\n\n      if (this._tooltipNode) {\n        this._hide();\n\n        // destroy instance\n        this.popperInstance.destroy();\n\n        // destroy tooltipNode if removeOnDestroy is not set, as popperInstance.destroy() already removes the element\n        if (!this.popperInstance.options.removeOnDestroy) {\n          this._tooltipNode.parentNode.removeChild(this._tooltipNode);\n          this._tooltipNode = null;\n        }\n      }\n      return this;\n    }\n  }, {\n    key: '_findContainer',\n    value: function _findContainer(container, reference) {\n      // if container is a query, get the relative element\n      if (typeof container === 'string') {\n        container = window.document.querySelector(container);\n      } else if (container === false) {\n        // if container is `false`, set it to reference parent\n        container = reference.parentNode;\n      }\n      return container;\n    }\n\n    /**\n     * Append tooltip to container\n     * @memberof Tooltip\n     * @private\n     * @param {HTMLElement} tooltipNode\n     * @param {HTMLElement|String|false} container\n     */\n\n  }, {\n    key: '_append',\n    value: function _append(tooltipNode, container) {\n      container.appendChild(tooltipNode);\n    }\n  }, {\n    key: '_setEventListeners',\n    value: function _setEventListeners(reference, events, options) {\n      var _this2 = this;\n\n      var directEvents = [];\n      var oppositeEvents = [];\n\n      events.forEach(function (event) {\n        switch (event) {\n          case 'hover':\n            directEvents.push('mouseenter');\n            oppositeEvents.push('mouseleave');\n            break;\n          case 'focus':\n            directEvents.push('focus');\n            oppositeEvents.push('blur');\n            break;\n          case 'click':\n            directEvents.push('click');\n            oppositeEvents.push('click');\n            break;\n        }\n      });\n\n      // schedule show tooltip\n      directEvents.forEach(function (event) {\n        var func = function func(evt) {\n          if (_this2._isOpening === true) {\n            return;\n          }\n          evt.usedByTooltip = true;\n          _this2._scheduleShow(reference, options.delay, options, evt);\n        };\n        _this2._events.push({ event: event, func: func });\n        reference.addEventListener(event, func);\n      });\n\n      // schedule hide tooltip\n      oppositeEvents.forEach(function (event) {\n        var func = function func(evt) {\n          if (evt.usedByTooltip === true) {\n            return;\n          }\n          _this2._scheduleHide(reference, options.delay, options, evt);\n        };\n        _this2._events.push({ event: event, func: func });\n        reference.addEventListener(event, func);\n      });\n    }\n  }, {\n    key: '_scheduleShow',\n    value: function _scheduleShow(reference, delay, options /*, evt */) {\n      var _this3 = this;\n\n      this._isOpening = true;\n      // defaults to 0\n      var computedDelay = delay && delay.show || delay || 0;\n      this._showTimeout = window.setTimeout(function () {\n        return _this3._show(reference, options);\n      }, computedDelay);\n    }\n  }, {\n    key: '_scheduleHide',\n    value: function _scheduleHide(reference, delay, options, evt) {\n      var _this4 = this;\n\n      this._isOpening = false;\n      // defaults to 0\n      var computedDelay = delay && delay.hide || delay || 0;\n      window.setTimeout(function () {\n        window.clearTimeout(_this4._showTimeout);\n        if (_this4._isOpen === false) {\n          return;\n        }\n        if (!document.body.contains(_this4._tooltipNode)) {\n          return;\n        }\n\n        // if we are hiding because of a mouseleave, we must check that the new\n        // reference isn't the tooltip, because in this case we don't want to hide it\n        if (evt.type === 'mouseleave') {\n          var isSet = _this4._setTooltipNodeEvent(evt, reference, delay, options);\n\n          // if we set the new event, don't hide the tooltip yet\n          // the new event will take care to hide it if necessary\n          if (isSet) {\n            return;\n          }\n        }\n\n        _this4._hide(reference, options);\n      }, computedDelay);\n    }\n  }, {\n    key: '_updateTitleContent',\n    value: function _updateTitleContent(title) {\n      if (typeof this._tooltipNode === 'undefined') {\n        if (typeof this.options.title !== 'undefined') {\n          this.options.title = title;\n        }\n        return;\n      }\n      var titleNode = this._tooltipNode.parentNode.querySelector(this.innerSelector);\n      this._clearTitleContent(titleNode, this.options.html, this.reference.getAttribute('title') || this.options.title);\n      this._addTitleContent(this.reference, title, this.options.html, titleNode);\n      this.options.title = title;\n      this.popperInstance.update();\n    }\n  }, {\n    key: '_clearTitleContent',\n    value: function _clearTitleContent(titleNode, allowHtml, lastTitle) {\n      if (lastTitle.nodeType === 1 || lastTitle.nodeType === 11) {\n        allowHtml && titleNode.removeChild(lastTitle);\n      } else {\n        allowHtml ? titleNode.innerHTML = '' : titleNode.textContent = '';\n      }\n    }\n  }]);\n  return Tooltip;\n}();\n\n/**\n * Placement function, its context is the Tooltip instance.\n * @memberof Tooltip\n * @callback PlacementFunction\n * @param {HTMLElement} tooltip - tooltip DOM node.\n * @param {HTMLElement} reference - reference DOM node.\n * @return {String} placement - One of the allowed placement options.\n */\n\n/**\n * Title function, its context is the Tooltip instance.\n * @memberof Tooltip\n * @callback TitleFunction\n * @return {String} placement - The desired title.\n */\n\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.show = function () {\n    return _this5._show(_this5.reference, _this5.options);\n  };\n\n  this.hide = function () {\n    return _this5._hide();\n  };\n\n  this.dispose = function () {\n    return _this5._dispose();\n  };\n\n  this.toggle = function () {\n    if (_this5._isOpen) {\n      return _this5.hide();\n    } else {\n      return _this5.show();\n    }\n  };\n\n  this.updateTitleContent = function (title) {\n    return _this5._updateTitleContent(title);\n  };\n\n  this.arrowSelector = '.tooltip-arrow, .tooltip__arrow';\n  this.innerSelector = '.tooltip-inner, .tooltip__inner';\n  this._events = [];\n\n  this._setTooltipNodeEvent = function (evt, reference, delay, options) {\n    var relatedreference = evt.relatedreference || evt.toElement || evt.relatedTarget;\n\n    var callback = function callback(evt2) {\n      var relatedreference2 = evt2.relatedreference || evt2.toElement || evt2.relatedTarget;\n\n      // Remove event listener after call\n      _this5._tooltipNode.removeEventListener(evt.type, callback);\n\n      // If the new reference is not the reference element\n      if (!reference.contains(relatedreference2)) {\n        // Schedule to hide tooltip\n        _this5._scheduleHide(reference, options.delay, options, evt2);\n      }\n    };\n\n    if (_this5._tooltipNode.contains(relatedreference)) {\n      // listen to mouseleave on the tooltip element to be able to hide the tooltip\n      _this5._tooltipNode.addEventListener(evt.type, callback);\n      return true;\n    }\n\n    return false;\n  };\n};\n\nexport default Tooltip;\n//# sourceMappingURL=tooltip.js.map\n","/**\n * Tooltip\n **/\nimport TooltipJS from 'tooltip.js';\n\n/**\n * Private Variables\n */\n\nconst ttClass = `js-${vl.ns}tooltip`,\n  dataPrefix = `data-${vl.ns}`,\n  ttAtt = `${dataPrefix}tooltip`,\n  ttPlacementAtt = `${ttAtt}-placement`,\n  ttContentAtt = `${ttAtt}-content`,\n  tooltips = [];\n\nconst ttTemplate =\n  '<div class=\"vl-tooltip vl-typography\" role=\"tooltip\" aria-hidden=\"true\">' +\n  '<div class=\"vl-tooltip__arrow\"></div>' +\n  '<div class=\"tooltip__inner\">' +\n  '</div></div>';\n\nconst ttTemplateLarge =\n  '<div class=\"vl-tooltip vl-tooltip--large vl-typography\" role=\"tooltip\" aria-hidden=\"true\">' +\n  '<div class=\"vl-tooltip__arrow\"></div>' +\n  '<div class=\"tooltip__inner\">' +\n  '</div></div>';\n\n/**\n * Private Functions\n */\n\n/**\n * add close by escape support\n * @param tooltip\n * @private\n */\nconst _addEscapeSupport = tooltip => {\n  document.addEventListener('keyup', evt => {\n    evt = evt || window.event;\n    let isEscape = false;\n\n    if ('key' in evt) {\n      isEscape = evt.key === 'Escape' || evt.key === 'Esc';\n    } else {\n      isEscape = evt.keyCode === 27;\n    }\n\n    if (isEscape) {\n      tooltip.hide();\n    }\n  });\n};\n\n/**\n * create a tooltip instance\n * @param element\n * @private\n */\nconst _createTooltip = element => {\n  let placement = element.getAttribute(ttPlacementAtt),\n    title = element.getAttribute(ttContentAtt),\n    template = title.length > 80 ? ttTemplateLarge : ttTemplate,\n    offset = '0,10';\n\n  placement = placement === null ? 'top' : placement;\n\n  const options = {\n    placement: placement,\n    template: template,\n    offset: offset,\n    html: true,\n    title: title\n  };\n\n  const tooltip = new TooltipJS(element, options);\n\n  tooltips.push({element: element, tooltipRef: tooltip});\n\n  _addEscapeSupport(tooltip);\n};\n\nclass Tooltip {\n  /**\n   * dress one element\n   * @param element\n   */\n  dress(element) {\n    _createTooltip(element);\n  }\n\n  /**\n   * dressAll function for the accordion functionality\n   * @return {false}\n   */\n  dressAll() {\n    // get all elements\n    const elements = document.querySelectorAll(\n      `.${ttClass}:not([data-${vl.ns}js-dress=\"false\"]),\n      [${ttAtt}]:not([data-${vl.ns}js-dress=\"false\"])`\n    );\n\n    // add functionality to the map\n    vl.util.each(elements, element => {\n      this.dress(element);\n    });\n  }\n\n  /**\n   * updates the content of the tooltip\n   * @param target\n   * @param content\n   */\n  updateTitleContent(target, content) {\n    vl.util.each(tooltips, tooltip => {\n      if (target === tooltip.element) {\n        tooltip.tooltipRef.updateTitleContent(content);\n      }\n    });\n  }\n}\n\nif(!('tooltip' in vl)) {\n  vl.tooltip = new Tooltip();\n  vl.tooltip.dressAll();\n}\n\nexport default Tooltip;\n"],"names":["window","vl","ns","debounce","func","wait","immediate","timeout","context","args","arguments","later","callNow","apply","clearTimeout","setTimeout","throttle","threshhold","scope","last","deferTimer","now","Number","Date","addClass","el","classes","classList","add","removeClass","remove","hasClass","contains","toggleClass","toggle","addClassFor","duration","parseTemplate","str","data","replace","match","parensMatch","triggerEvent","obj","evt","fireOnThis","evtObj","document","createEvent","initEvent","dispatchEvent","createEventObject","fireEvent","unique","array","filter","elem","pos","arr","indexOf","closest","value","to","Math","round","offset","rect","getBoundingClientRect","doc","ownerDocument","win","defaultView","parentWindow","docElem","documentElement","xOff","pageXOffset","test","navigator","userAgent","top","pageYOffset","clientTop","left","clientLeft","insertAfter","newElement","targetElement","parent","parentNode","lastchild","appendChild","insertBefore","nextSibling","removeElement","removeChild","isNumeric","isNaN","parseFloat","number","isFinite","wrap","wrapper","sibling","stripTags","tmp","createElement","innerHTML","html","textContent","innerText","uniqueId","idStrLen","idStr","floor","random","toString","getTime","length","uniqueName","substring","accurateNumber","p","pow","toFixed","limit","max","min","a","asArray","Array","isArray","countDecimals","pieces","numStr","split","scrollTo","callback","scrollTop","difference","perTick","randomIntFromInterval","each","fn","l","i","exists","nullAllowed","emptyAllowed","bytesToSize","sizes","bytes","parseInt","log","getJson","url","xhr","XMLHttpRequest","open","responseType","onload","status","response","send","getParents","selector","parents","firstChar","charAt","substr","push","id","hasAttribute","tagName","toLowerCase","getParentsUntil","parentType","selectorType","Util","util","noJsClass","jSclass","_jsDetection","setTimeoutFunc","noop","bind","thisArg","handle","self","deferred","_state","_value","_deferreds","_handled","Promise","_immediateFn","cb","onFulfilled","onRejected","resolve","reject","promise","ret","e","newValue","TypeError","then","finale","doResolve","_unhandledRejectionFn","len","Handler","done","reason","ex","undefined","_proto","prototype","catch","prom","constructor","all","slice","call","remaining","res","val","race","values","setImmediate","err","console","warn","IntersectionObserverEntry","Object","defineProperty","get","intersectionRatio","entry","time","target","rootBounds","boundingClientRect","intersectionRect","getEmptyRect","isIntersecting","targetRect","targetArea","width","height","intersectionArea","IntersectionObserver","opt_options","options","Error","root","nodeType","_checkForIntersections","THROTTLE_TIMEOUT","_callback","_observationTargets","_queuedEntries","_rootMarginValues","_parseRootMargin","rootMargin","thresholds","_initThresholds","threshold","map","margin","unit","join","POLL_INTERVAL","USE_MUTATION_OBSERVER","observe","isTargetAlreadyObserved","some","item","element","_registerInstance","_monitorIntersections","unobserve","_unmonitorIntersections","_unregisterInstance","disconnect","takeRecords","records","opt_threshold","sort","t","opt_rootMargin","marginString","margins","parts","exec","_monitoringIntersections","_monitoringInterval","setInterval","addEvent","_domObserver","MutationObserver","attributes","childList","characterData","subtree","clearInterval","removeEvent","rootIsInDom","_rootIsInDom","rootRect","_getRootRect","forEach","rootContainsTarget","_rootContainsTarget","oldEntry","_computeTargetAndRootIntersection","newEntry","_hasCrossedThreshold","getComputedStyle","display","getParentNode","atRoot","parentRect","parentComputedStyle","body","overflow","computeRectIntersection","right","clientWidth","bottom","clientHeight","_expandRectByRootMargin","newRect","oldRatio","newRatio","containsDeep","performance","timer","node","event","opt_useCapture","addEventListener","attachEvent","removeEventListener","detatchEvent","rect1","rect2","child","host","createElementNS","view","classListProp","protoProp","elemCtrProto","Element","objCtr","strTrim","String","trim","arrIndexOf","DOMEx","type","message","name","code","DOMException","checkTokenAndGetIndex","token","ClassList","trimmedClasses","getAttribute","_updateClassName","setAttribute","classListProto","classListGetter","tokens","updated","index","splice","force","result","method","classListPropDesc","enumerable","configurable","__defineGetter__","testElement","createMethod","original","DOMTokenList","_toggle","from","toStr","isCallable","toInteger","abs","maxSafeInteger","toLength","arrayLike","C","items","mapFn","T","A","k","kValue","ElementProto","matches","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","elements","querySelectorAll","Boolean","O","fun","assign","varArgs","nextSource","nextKey","hasOwnProperty","writable","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","currTime","timeToCall","trunc","ceil","CustomEvent","params","bubbles","cancelable","detail","initCustomEvent","Event","Translation","i18n","nl","key","trans","arg","isBrowser","longerTimeoutBrowsers","timeoutDuration","microtaskDebounce","called","taskDebounce","scheduled","supportsMicroTasks","isFunction","functionToCheck","getType","getStyleComputedProperty","property","css","nodeName","getScrollParent","_getStyleComputedProp","overflowX","overflowY","isIE11","MSInputMethodContext","documentMode","isIE10","isIE","version","getOffsetParent","noOffsetParent","offsetParent","nextElementSibling","isOffsetContainer","firstElementChild","getRoot","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","start","end","range","createRange","setStart","setEnd","commonAncestorContainer","element1root","getScroll","side","upperSide","scrollingElement","includeScroll","subtract","scrollLeft","modifier","getBordersSize","styles","axis","sideA","sideB","getSize","computedStyle","getWindowSizes","classCallCheck","instance","Constructor","createClass","defineProperties","props","descriptor","protoProps","staticProps","_extends","source","getClientRect","offsets","horizScrollbar","offsetWidth","vertScrollbar","offsetHeight","getOffsetRectRelativeToArbitraryNode","children","fixedPosition","isHTML","childrenRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","innerWidth","innerHeight","isFixed","getFixedPositionOffsetParent","parentElement","getBoundaries","popper","reference","padding","boundariesElement","boundaries","boundariesNode","_getWindowSizes","getArea","_ref","computeAutoPlacement","placement","refRect","rects","sortedAreas","keys","area","b","filteredAreas","_ref2","computedPlacement","variation","getReferenceOffsets","state","commonOffsetParent","getOuterSizes","marginBottom","y","marginRight","getOppositePlacement","hash","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","find","check","findIndex","prop","cur","runModifiers","modifiers","ends","modifiersToRun","enabled","update","isDestroyed","arrowStyles","flipped","positionFixed","flip","originalPlacement","position","isCreated","onCreate","onUpdate","isModifierEnabled","modifierName","getSupportedPropertyName","prefixes","upperProp","toUpperCase","prefix","toCheck","style","destroy","removeAttribute","willChange","disableEventListeners","removeOnDestroy","getWindow","attachToScrollParents","scrollParents","isBody","passive","setupEventListeners","updateBound","scrollElement","eventsEnabled","enableEventListeners","scheduleUpdate","removeEventListeners","n","setStyles","setAttributes","applyStyle","arrowElement","applyStyleOnLoad","modifierOptions","computeStyle","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","prefixedProperty","invertTop","invertLeft","arrow","isModifierRequired","requestingName","requestedName","requesting","isRequired","_requesting","requested","_data$offsets$arrow","querySelector","_data$offsets","isVertical","sideCapitalized","altSide","opSide","arrowElementSize","center","popperMarginSide","popperBorderSide","sideValue","getOppositeVariation","placements","validPlacements","clockwise","counter","concat","reverse","BEHAVIORS","FLIP","CLOCKWISE","COUNTERCLOCKWISE","placementOpposite","flipOrder","behavior","step","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariation","flipVariations","keepTogether","toValue","size","parseOffset","basePlacement","useHeight","fragments","frag","divider","search","splitRegex","ops","op","mergeWithPrevious","reduce","index2","preventOverflow","transformProp","popperStyles","transform","priority","primary","escapeWithReference","secondary","shift","shiftvariation","shiftOffsets","hide","bound","inner","subtractLength","onLoad","Defaults","Popper","_this","jquery","update$$1","destroy$$1","enableEventListeners$$1","disableEventListeners$$1","Utils","global","PopperUtils","DEFAULT_OPTIONS","container","delay","title","template","trigger","Tooltip","_initialiseProps","events","_isOpen","_popperOptions","_setEventListeners","_create","allowHtml","tooltipGenerator","tooltipNode","childNodes","titleNode","innerSelector","_addTitleContent","titleText","_show","_isOpening","_tooltipNode","popperInstance","_findContainer","_append","popperOptions","arrowSelector","_hide","_dispose","_events","_this2","directEvents","oppositeEvents","usedByTooltip","_scheduleShow","_scheduleHide","_this3","computedDelay","show","_showTimeout","_this4","isSet","_setTooltipNodeEvent","_updateTitleContent","_clearTitleContent","lastTitle","_this5","dispose","updateTitleContent","relatedreference","toElement","relatedTarget","evt2","relatedreference2","ttClass","dataPrefix","ttAtt","ttPlacementAtt","ttContentAtt","tooltips","ttTemplate","ttTemplateLarge","_addEscapeSupport","isEscape","keyCode","tooltip","_createTooltip","TooltipJS","tooltipRef","dress","content","dressAll"],"mappings":"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"}