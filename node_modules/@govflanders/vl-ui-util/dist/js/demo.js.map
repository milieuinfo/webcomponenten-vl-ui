{"version":3,"file":"demo.js","sources":["../../src/js/util.js","../../../vl-ui-core/src/js/feature-detection/js-detection.js","../../../vl-ui-core/node_modules/promise-polyfill/src/index.js","../../../vl-ui-core/node_modules/intersection-observer/intersection-observer.js","../../../vl-ui-core/node_modules/classlist-polyfill/src/index.js","../../../vl-ui-core/src/js/polyfill/array-from.js","../../../vl-ui-core/src/js/polyfill/closest.js","../../../vl-ui-core/src/js/polyfill/foreach.js","../../../vl-ui-core/src/js/polyfill/map.js","../../../vl-ui-core/src/js/polyfill/object-assign.js","../../../vl-ui-core/src/js/polyfill/request-animation-frame.js","../../../vl-ui-core/src/js/polyfill/template.js","../../../vl-ui-core/src/js/polyfill/trunk.js","../../../vl-ui-core/src/js/polyfill/customevent.js","../../../vl-ui-core/src/js/i18n/translations/nl.js","../../../vl-ui-core/src/js/i18n/i18n.js","../../../vl-ui-core/src/js/core.js","../../src/js/breakpoint.js","../../node_modules/multi-clamp/MultiClamp.js","../../node_modules/multi-clamp/index.js","../../src/js/textclamp.js","../../src/js/demo.js"],"sourcesContent":["window.vl = window.vl || {ns: 'vl-'};\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\nconst debounce = (func, wait, immediate = false) => {\n  let timeout;\n\n  return function() {\n    let context = this,\n      args = arguments,\n      later,\n      callNow;\n\n    later = () => {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    callNow = immediate && !timeout;\n    window.clearTimeout(timeout);\n    timeout = window.setTimeout(later, wait);\n\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\n\nconst throttle = (func, threshhold = 250, scope) => {\n  let last, deferTimer;\n\n  return function() {\n    let context = scope || this,\n      now = Number(new Date()),\n      args = arguments;\n\n    if (last && now < last + threshhold) {\n      // hold on to it\n      window.clearTimeout(deferTimer);\n      deferTimer = window.setTimeout(() => {\n        last = now;\n        func.apply(context, args);\n      }, threshhold);\n    } else {\n      last = now;\n      func.apply(context, args);\n    }\n  };\n};\n\nconst addClass = (el, classes) => {\n  el.classList.add(classes);\n};\n\nconst removeClass = (el, classes) => {\n  el.classList.remove(classes);\n};\n\nconst hasClass = (el, classes) => {\n  return el.classList.contains(classes);\n};\n\nconst toggleClass = (el, classes) => {\n  el.classList.toggle(classes);\n};\n\nconst addClassFor = (el, classes, duration) => {\n  addClass(el, classes);\n\n  window.setTimeout(() => {\n    removeClass(el, classes);\n  }, duration);\n};\n\n// Helper function that takes an HTML string & an object to use for\n// \"binding\" its properties to the HTML template above.\nconst parseTemplate = (str, data) => {\n  return str.replace(/\\$\\{(\\w+)\\}/gi, (match, parensMatch) => {\n    if (typeof data[parensMatch] !== 'undefined') {\n      return data[parensMatch];\n    }\n    return match;\n  });\n};\n\n// trigger a custom event on an object\nconst triggerEvent = (obj, evt) => {\n  let fireOnThis = obj,\n    evtObj;\n\n  if (document.createEvent) {\n    evtObj = document.createEvent('MouseEvents');\n\n    evtObj.initEvent(evt, true, false);\n    fireOnThis.dispatchEvent(evtObj);\n  } else if (document.createEventObject) {\n    evtObj = document.createEventObject();\n\n    fireOnThis.fireEvent(`on${evt}`, evtObj);\n  }\n};\n\nconst unique = array => {\n  return array.filter((elem, pos, arr) => {\n    return arr.indexOf(elem) === pos;\n  });\n};\n\nconst closest = (value, to) => {\n  return Math.round(value / to) * to;\n};\n\n// Current position of an element relative to the document.\nconst offset = el => {\n  let rect = el.getBoundingClientRect(),\n    doc = el.ownerDocument,\n    win = doc.defaultView || doc.parentWindow,\n    docElem = doc.documentElement,\n    xOff = win.pageXOffset;\n\n  // getBoundingClientRect contains left scroll in Chrome on Android.\n  // I haven't found a feature detection that proves this. Worst case\n  // scenario on mis-match: the 'tap' feature on horizontal sliders breaks.\n  if (/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)) {\n    xOff = 0;\n  }\n\n  return {\n    top: rect.top + win.pageYOffset - docElem.clientTop,\n    left: rect.left + xOff - docElem.clientLeft\n  };\n};\n\n// Insert after\nconst insertAfter = (newElement, targetElement) => {\n  let parent = targetElement.parentNode;\n\n  // If targetElement is the parents last-child\n  if (parent.lastchild === targetElement) {\n    // Add the newElement after the target element\n    parent.appendChild(newElement);\n  } else {\n    // Target has siblings, insert the new element between the target and its next sibling\n    parent.insertBefore(newElement, targetElement.nextSibling);\n  }\n};\n\nconst removeElement = targetElement => {\n  let parent = targetElement.parentNode;\n\n  parent.removeChild(targetElement);\n};\n\nconst isNumeric = number => {\n  return !isNaN(parseFloat(number)) && isFinite(number);\n};\n\nconst wrap = (el, wrapper) => {\n  // Cache the current parent and sibling\n  let parent = el.parentNode,\n    sibling = el.nextSibling;\n\n  wrapper.appendChild(el);\n\n  /**\n   * If the element had a sibling, insert the wrapper before\n   * the sibling to maintain the HTML structure; otherwise, just\n   * append it to the parent.\n   */\n  if (sibling) {\n    parent.insertBefore(wrapper, sibling);\n  } else {\n    parent.appendChild(wrapper);\n  }\n};\n\n// Strip tags from element\nconst stripTags = html => {\n  let tmp = document.createElement('div');\n\n  tmp.innerHTML = html;\n  return tmp.textContent || tmp.innerText;\n};\n\n// Create a unique ID\nconst uniqueId = () => {\n  // Desired length of Id\n  // Always start with a letter -- base 36 makes for a nice shortcut\n  let idStrLen = 32,\n    idStr = `${(Math.floor(Math.random() * 25) + 10).toString(36)}_`;\n\n  // Add a timestamp in milliseconds (base 36 again) as the base\n  idStr += `${new Date().getTime().toString(36)}_`;\n\n  // Similar to above, complete the Id using random, alphanumeric characters\n  do {\n    idStr += Math.floor(Math.random() * 35).toString(36);\n  } while (idStr.length < idStrLen);\n\n  return idStr;\n};\n\n// Create a unique name\nconst uniqueName = () => {\n  return Math.random()\n    .toString(36)\n    .substring(2, 5);\n};\n\n// Rounds a number to 7 supported decimals\nconst accurateNumber = number => {\n  let p = Math.pow(10, 7);\n\n  return Number((Math.round(number * p) / p).toFixed(7));\n};\n\n// Limits a value to 0 - 100\nconst limit = a => {\n  return Math.max(Math.min(a, 100), 0);\n};\n\n// Wraps a variable as an array, if it isn't one yet.\nconst asArray = a => {\n  return Array.isArray(a) ? a : [a];\n};\n\n// Count decimals\nconst countDecimals = numStr => {\n  let pieces = numStr.split('.');\n\n  return pieces.length > 0 ? pieces[1].length : 0;\n};\n\n// Scroll element to specific position\n// TODO: use element.scrollIntoView instead, maybe with fallback if you want old browser to have a smooth scroll\nconst scrollTo = (el, to, duration, callback = () => {}) => {\n  let scrollTop = el.scrollTop,\n    difference = to - scrollTop,\n    perTick;\n\n  if (duration < 0) {\n    return;\n  }\n\n  perTick = difference / duration * 10;\n\n  window.setTimeout(() => {\n    if (scrollTop === to || duration <= 0) {\n      callback();\n    } else {\n      el.scrollTop = scrollTop + perTick;\n      scrollTo(el, to, duration - 10, callback);\n    }\n  }, 10);\n};\n\n// Gets a random number between min and max\nconst randomIntFromInterval = (min, max) => {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n};\n\n// Much faster each loop than a forEach loop\nconst each = (arr, fn) => {\n  let l = arr.length,\n    i = 0;\n\n  for (; i < l; i++) {\n    fn(arr[i], i);\n  }\n};\n\n/**\n * Determines if a certain value exists, is not null, and not empty\n * @method exists\n * @param  {type}  value value to check\n * @param  {Boolean} [nullAllowed = false] optional parameter to allow null\n * @param  {Boolean} [emptyAllowed = false] optional paramet to allow empty values\n * @return {Boolean}\n */\nconst exists = (value, nullAllowed = false, emptyAllowed = false) => {\n  if (typeof value !== 'undefined') {\n    if (nullAllowed || value !== null) {\n      if (emptyAllowed || value !== '') {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\nconst bytesToSize = (bytes, addUnits = true, base = 1024) => {\n  let sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'],\n    value = null,\n    i;\n\n  if (bytes === 0) {\n    value = addUnits ? '0 bytes' : 0;\n  } else {\n    i = parseInt(Math.floor(Math.log(bytes) / Math.log(base)), 10);\n\n    if (!addUnits) {\n      value =  Math.round(bytes / Math.pow(base, i), 2);\n    }\n\n    value = addUnits ? Math.round(bytes / Math.pow(base, i), 2) + ' ' + sizes[i] : Math.round(bytes / Math.pow(base, i), 2);\n  }\n\n  return value;\n};\n\nconst getJson = (url, callback) => {\n  let xhr = new XMLHttpRequest();\n\n  xhr.open('get', url, true);\n  xhr.responseType = 'json';\n  xhr.onload = function() {\n    let status = xhr.status;\n\n    if (status === 200) {\n      callback(null, xhr.response);\n    } else {\n      callback(status);\n    }\n  };\n  xhr.send();\n};\n\n/**\n * Get all DOM element up the tree that contain a class, ID, or data attribute\n * @param  {Node} elem The base element\n * @param  {String} selector The class, id, data attribute, or tag to look for\n * @return {Array} Null if no match\n */\nconst getParents = (elem, selector) => {\n  let parents = [],\n    firstChar;\n\n  if (selector) {\n    firstChar = selector.charAt(0);\n  }\n\n  // Get matches\n  for (; elem && elem !== document; elem = elem.parentNode) {\n    if (selector) {\n      // If selector is a class\n      if (firstChar === '.') {\n        if (elem.classList.contains(selector.substr(1))) {\n          parents.push(elem);\n        }\n      }\n\n      // If selector is an ID\n      if (firstChar === '#') {\n        if (elem.id === selector.substr(1)) {\n          parents.push(elem);\n        }\n      }\n\n      // If selector is a data attribute\n      if (firstChar === '[') {\n        if (elem.hasAttribute(selector.substr(1, selector.length - 1))) {\n          parents.push(elem);\n        }\n      }\n\n      // If selector is a tag\n      if (elem.tagName.toLowerCase() === selector) {\n        parents.push(elem);\n      }\n    } else {\n      parents.push(elem);\n    }\n  }\n\n  // Return parents if any exist\n  if (parents.length === 0) {\n    return null;\n  }\n  return parents;\n};\n\nconst getParentsUntil = (elem, parent, selector) => {\n  let parents = [],\n    parentType,\n    selectorType;\n\n  if (parent) {\n    parentType = parent.charAt(0);\n  }\n  if (selector) {\n    selectorType = selector.charAt(0);\n  }\n\n  // Get matches\n  for (; elem && elem !== document; elem = elem.parentNode) {\n    // Check if parent has been reached\n    if (parent) {\n      // If parent is a class\n      if (parentType === '.') {\n        if (elem.classList.contains(parent.substr(1))) {\n          break;\n        }\n      }\n\n      // If parent is an ID\n      if (parentType === '#') {\n        if (elem.id === parent.substr(1)) {\n          break;\n        }\n      }\n\n      // If parent is a data attribute\n      if (parentType === '[') {\n        if (elem.hasAttribute(parent.substr(1, parent.length - 1))) {\n          break;\n        }\n      }\n\n      // If parent is a tag\n      if (elem.tagName.toLowerCase() === parent) {\n        break;\n      }\n    }\n\n    if (selector) {\n      // If selector is a class\n      if (selectorType === '.') {\n        if (elem.classList.contains(selector.substr(1))) {\n          parents.push(elem);\n        }\n      }\n\n      // If selector is an ID\n      if (selectorType === '#') {\n        if (elem.id === selector.substr(1)) {\n          parents.push(elem);\n        }\n      }\n\n      // If selector is a data attribute\n      if (selectorType === '[') {\n        if (elem.hasAttribute(selector.substr(1, selector.length - 1))) {\n          parents.push(elem);\n        }\n      }\n\n      // If selector is a tag\n      if (elem.tagName.toLowerCase() === selector) {\n        parents.push(elem);\n      }\n    } else {\n      parents.push(elem);\n    }\n  }\n\n  // Return parents if any exist\n  if (parents.length === 0) {\n    return null;\n  }\n  return parents;\n};\n\nclass Util {\n  constructor() {\n    this.addClass = addClass;\n    this.removeClass = removeClass;\n    this.hasClass = hasClass;\n    this.toggleClass = toggleClass;\n    this.addClassFor = addClassFor;\n    this.parseTemplate = parseTemplate;\n    this.triggerEvent = triggerEvent;\n    this.unique = unique;\n    this.closest = closest;\n    this.offset = offset;\n    this.insertAfter = insertAfter;\n    this.removeElement = removeElement;\n    this.isNumeric = isNumeric;\n    this.wrap = wrap;\n    this.stripTags = stripTags;\n    this.uniqueId = uniqueId;\n    this.uniqueName = uniqueName;\n    this.accurateNumber = accurateNumber;\n    this.limit = limit;\n    this.asArray = asArray;\n    this.countDecimals = countDecimals;\n    this.scrollTo = scrollTo;\n    this.randomIntFromInterval = randomIntFromInterval;\n    this.debounce = debounce;\n    this.throttle = throttle;\n    this.each = each;\n    this.exists = exists;\n    this.bytesToSize = bytesToSize;\n    this.getJson = getJson;\n    this.getParents = getParents;\n    this.getParentsUntil = getParentsUntil;\n  }\n}\n\nvl.util = new Util();\n\n// Export single utils\nexport default {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  addClassFor,\n  parseTemplate,\n  triggerEvent,\n  unique,\n  closest,\n  offset,\n  insertAfter,\n  removeElement,\n  isNumeric,\n  wrap,\n  stripTags,\n  uniqueId,\n  uniqueName,\n  accurateNumber,\n  limit,\n  asArray,\n  countDecimals,\n  scrollTo,\n  randomIntFromInterval,\n  debounce,\n  throttle,\n  each,\n  exists,\n  bytesToSize,\n  getJson,\n  getParents,\n  getParentsUntil\n};\n","const noJsClass = 'no-js',\n  jSclass = 'js';\n\n// Remove no-js class, add js class\nconst _jsDetection = () => {\n  if (vl.util.hasClass(document.documentElement, noJsClass)) {\n    vl.util.removeClass(document.documentElement, noJsClass);\n  }\n\n  vl.util.addClass(document.documentElement, jSclass);\n};\n\n_jsDetection();\n","// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  this._state = 0;\n  this._handled = false;\n  this._value = undefined;\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nvar _proto = Promise.prototype;\n_proto.catch = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\n_proto.then = function(onFulfilled, onRejected) {\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n\n(function(window, document) {\n'use strict';\n\n\n// Exits early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observering a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = entry.rootBounds;\n  this.boundingClientRect = entry.boundingClientRect;\n  this.intersectionRect = entry.intersectionRect || getEmptyRect();\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    this.intersectionRatio = intersectionArea / targetArea;\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (options.root && options.root.nodeType != 1) {\n    throw new Error('root must be an Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections();\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n\n    return item.element != target;\n  });\n  if (!this._observationTargets.length) {\n    this._unmonitorIntersections();\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibilty state is visible.\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function() {\n  if (!this._monitoringIntersections) {\n    this._monitoringIntersections = true;\n\n    // If a poll interval is set, use polling instead of listening to\n    // resize and scroll events or DOM mutations.\n    if (this.POLL_INTERVAL) {\n      this._monitoringInterval = setInterval(\n          this._checkForIntersections, this.POLL_INTERVAL);\n    }\n    else {\n      addEvent(window, 'resize', this._checkForIntersections, true);\n      addEvent(document, 'scroll', this._checkForIntersections, true);\n\n      if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in window) {\n        this._domObserver = new MutationObserver(this._checkForIntersections);\n        this._domObserver.observe(document, {\n          attributes: true,\n          childList: true,\n          characterData: true,\n          subtree: true\n        });\n      }\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function() {\n  if (this._monitoringIntersections) {\n    this._monitoringIntersections = false;\n\n    clearInterval(this._monitoringInterval);\n    this._monitoringInterval = null;\n\n    removeEvent(window, 'resize', this._checkForIntersections, true);\n    removeEvent(document, 'scroll', this._checkForIntersections, true);\n\n    if (this._domObserver) {\n      this._domObserver.disconnect();\n      this._domObserver = null;\n    }\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, rootRect);\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootRect,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, rootRect) {\n\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var targetRect = getBoundingClientRect(target);\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return;\n\n    if (parent == this.root || parent == document) {\n      atRoot = true;\n      parentRect = rootRect;\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      if (parent != document.body &&\n          parent != document.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n\n      if (!intersectionRect) break;\n    }\n    parent = getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {Object} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var html = document.documentElement;\n    var body = document.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {Object} rect The rect object to expand.\n * @return {Object} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  return containsDeep(this.root || document, target);\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its executiong, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detatchEvent == 'function') {\n    node.detatchEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object} The intersection rect or undefined if no intersection\n *     is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {Object} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {Object} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n/**\n * Checks to see if a parent element contains a child elemnt (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n  return parent;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}(window, document));\n","/*\n * classList.js: Cross-browser full element.classList implementation.\n * 1.1.20170427\n *\n * By Eli Grey, http://eligrey.com\n * License: Dedicated to the public domain.\n *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md\n */\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\nif (\"document\" in window.self) {\n\n// Full polyfill for browsers with no classList support\n// Including IE < Edge missing SVGElement.classList\nif (!(\"classList\" in document.createElement(\"_\")) \n\t|| document.createElementNS && !(\"classList\" in document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\"))) {\n\n(function (view) {\n\n\"use strict\";\n\nif (!('Element' in view)) return;\n\nvar\n\t  classListProp = \"classList\"\n\t, protoProp = \"prototype\"\n\t, elemCtrProto = view.Element[protoProp]\n\t, objCtr = Object\n\t, strTrim = String[protoProp].trim || function () {\n\t\treturn this.replace(/^\\s+|\\s+$/g, \"\");\n\t}\n\t, arrIndexOf = Array[protoProp].indexOf || function (item) {\n\t\tvar\n\t\t\t  i = 0\n\t\t\t, len = this.length\n\t\t;\n\t\tfor (; i < len; i++) {\n\t\t\tif (i in this && this[i] === item) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\t// Vendors: please allow content code to instantiate DOMExceptions\n\t, DOMEx = function (type, message) {\n\t\tthis.name = type;\n\t\tthis.code = DOMException[type];\n\t\tthis.message = message;\n\t}\n\t, checkTokenAndGetIndex = function (classList, token) {\n\t\tif (token === \"\") {\n\t\t\tthrow new DOMEx(\n\t\t\t\t  \"SYNTAX_ERR\"\n\t\t\t\t, \"An invalid or illegal string was specified\"\n\t\t\t);\n\t\t}\n\t\tif (/\\s/.test(token)) {\n\t\t\tthrow new DOMEx(\n\t\t\t\t  \"INVALID_CHARACTER_ERR\"\n\t\t\t\t, \"String contains an invalid character\"\n\t\t\t);\n\t\t}\n\t\treturn arrIndexOf.call(classList, token);\n\t}\n\t, ClassList = function (elem) {\n\t\tvar\n\t\t\t  trimmedClasses = strTrim.call(elem.getAttribute(\"class\") || \"\")\n\t\t\t, classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\n\t\t\t, i = 0\n\t\t\t, len = classes.length\n\t\t;\n\t\tfor (; i < len; i++) {\n\t\t\tthis.push(classes[i]);\n\t\t}\n\t\tthis._updateClassName = function () {\n\t\t\telem.setAttribute(\"class\", this.toString());\n\t\t};\n\t}\n\t, classListProto = ClassList[protoProp] = []\n\t, classListGetter = function () {\n\t\treturn new ClassList(this);\n\t}\n;\n// Most DOMException implementations don't allow calling DOMException's toString()\n// on non-DOMExceptions. Error's toString() is sufficient here.\nDOMEx[protoProp] = Error[protoProp];\nclassListProto.item = function (i) {\n\treturn this[i] || null;\n};\nclassListProto.contains = function (token) {\n\ttoken += \"\";\n\treturn checkTokenAndGetIndex(this, token) !== -1;\n};\nclassListProto.add = function () {\n\tvar\n\t\t  tokens = arguments\n\t\t, i = 0\n\t\t, l = tokens.length\n\t\t, token\n\t\t, updated = false\n\t;\n\tdo {\n\t\ttoken = tokens[i] + \"\";\n\t\tif (checkTokenAndGetIndex(this, token) === -1) {\n\t\t\tthis.push(token);\n\t\t\tupdated = true;\n\t\t}\n\t}\n\twhile (++i < l);\n\n\tif (updated) {\n\t\tthis._updateClassName();\n\t}\n};\nclassListProto.remove = function () {\n\tvar\n\t\t  tokens = arguments\n\t\t, i = 0\n\t\t, l = tokens.length\n\t\t, token\n\t\t, updated = false\n\t\t, index\n\t;\n\tdo {\n\t\ttoken = tokens[i] + \"\";\n\t\tindex = checkTokenAndGetIndex(this, token);\n\t\twhile (index !== -1) {\n\t\t\tthis.splice(index, 1);\n\t\t\tupdated = true;\n\t\t\tindex = checkTokenAndGetIndex(this, token);\n\t\t}\n\t}\n\twhile (++i < l);\n\n\tif (updated) {\n\t\tthis._updateClassName();\n\t}\n};\nclassListProto.toggle = function (token, force) {\n\ttoken += \"\";\n\n\tvar\n\t\t  result = this.contains(token)\n\t\t, method = result ?\n\t\t\tforce !== true && \"remove\"\n\t\t:\n\t\t\tforce !== false && \"add\"\n\t;\n\n\tif (method) {\n\t\tthis[method](token);\n\t}\n\n\tif (force === true || force === false) {\n\t\treturn force;\n\t} else {\n\t\treturn !result;\n\t}\n};\nclassListProto.toString = function () {\n\treturn this.join(\" \");\n};\n\nif (objCtr.defineProperty) {\n\tvar classListPropDesc = {\n\t\t  get: classListGetter\n\t\t, enumerable: true\n\t\t, configurable: true\n\t};\n\ttry {\n\t\tobjCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n\t} catch (ex) { // IE 8 doesn't support enumerable:true\n\t\t// adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n\t\t// modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n\t\tif (ex.number === undefined || ex.number === -0x7FF5EC54) {\n\t\t\tclassListPropDesc.enumerable = false;\n\t\t\tobjCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n\t\t}\n\t}\n} else if (objCtr[protoProp].__defineGetter__) {\n\telemCtrProto.__defineGetter__(classListProp, classListGetter);\n}\n\n}(window.self));\n\n}\n\n// There is full or partial native classList support, so just check if we need\n// to normalize the add/remove and toggle APIs.\n\n(function () {\n\t\"use strict\";\n\n\tvar testElement = document.createElement(\"_\");\n\n\ttestElement.classList.add(\"c1\", \"c2\");\n\n\t// Polyfill for IE 10/11 and Firefox <26, where classList.add and\n\t// classList.remove exist but support only one argument at a time.\n\tif (!testElement.classList.contains(\"c2\")) {\n\t\tvar createMethod = function(method) {\n\t\t\tvar original = DOMTokenList.prototype[method];\n\n\t\t\tDOMTokenList.prototype[method] = function(token) {\n\t\t\t\tvar i, len = arguments.length;\n\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\ttoken = arguments[i];\n\t\t\t\t\toriginal.call(this, token);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t\tcreateMethod('add');\n\t\tcreateMethod('remove');\n\t}\n\n\ttestElement.classList.toggle(\"c3\", false);\n\n\t// Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n\t// support the second argument.\n\tif (testElement.classList.contains(\"c3\")) {\n\t\tvar _toggle = DOMTokenList.prototype.toggle;\n\n\t\tDOMTokenList.prototype.toggle = function(token, force) {\n\t\t\tif (1 in arguments && !this.contains(token) === !force) {\n\t\t\t\treturn force;\n\t\t\t} else {\n\t\t\t\treturn _toggle.call(this, token);\n\t\t\t}\n\t\t};\n\n\t}\n\n\ttestElement = null;\n}());\n\n}\n","/* eslint-disable */\n// Production steps of ECMA-262, Edition 6, 22.1.2.1\nif (!Array.from) {\n  Array.from = (function() {\n    var toStr = Object.prototype.toString;\n    var isCallable = function(fn) {\n      return typeof fn === 'function' || toStr.call(fn) === '[object Function]';\n    };\n    var toInteger = function(value) {\n      var number = Number(value);\n      if (isNaN(number)) {\n        return 0;\n      }\n      if (number === 0 || !isFinite(number)) {\n        return number;\n      }\n      return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n    };\n    var maxSafeInteger = Math.pow(2, 53) - 1;\n    var toLength = function(value) {\n      var len = toInteger(value);\n      return Math.min(Math.max(len, 0), maxSafeInteger);\n    };\n\n    // The length property of the from method is 1.\n    return function from(arrayLike /*, mapFn, thisArg */) {\n      // 1. Let C be the this value.\n      var C = this;\n\n      // 2. Let items be ToObject(arrayLike).\n      var items = Object(arrayLike);\n\n      // 3. ReturnIfAbrupt(items).\n      if (arrayLike == null) {\n        throw new TypeError(\n          'Array.from requires an array-like object - not null or undefined'\n        );\n      }\n\n      // 4. If mapfn is undefined, then let mapping be false.\n      var mapFn = arguments.length > 1 ? arguments[1] : void undefined;\n      var T;\n      if (typeof mapFn !== 'undefined') {\n        // 5. else\n        // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.\n        if (!isCallable(mapFn)) {\n          throw new TypeError(\n            'Array.from: when provided, the second argument must be a function'\n          );\n        }\n\n        // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if (arguments.length > 2) {\n          T = arguments[2];\n        }\n      }\n\n      // 10. Let lenValue be Get(items, \"length\").\n      // 11. Let len be ToLength(lenValue).\n      var len = toLength(items.length);\n\n      // 13. If IsConstructor(C) is true, then\n      // 13. a. Let A be the result of calling the [[Construct]] internal method\n      // of C with an argument list containing the single item len.\n      // 14. a. Else, Let A be ArrayCreate(len).\n      var A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n      // 16. Let k be 0.\n      var k = 0;\n      // 17. Repeat, while k < len… (also steps a - h)\n      var kValue;\n      while (k < len) {\n        kValue = items[k];\n        if (mapFn) {\n          A[k] =\n            typeof T === 'undefined'\n              ? mapFn(kValue, k)\n              : mapFn.call(T, kValue, k);\n        } else {\n          A[k] = kValue;\n        }\n        k += 1;\n      }\n      // 18. Let putStatus be Put(A, \"length\", len, true).\n      A.length = len;\n      // 20. Return A.\n      return A;\n    };\n  })();\n}\n","/* eslint-disable */\n// closest polyfill\n(function(ElementProto) {\n  if (typeof ElementProto.matches !== 'function') {\n    ElementProto.matches =\n      ElementProto.msMatchesSelector ||\n      ElementProto.mozMatchesSelector ||\n      ElementProto.webkitMatchesSelector ||\n      function matches(selector) {\n        var element = this;\n        var elements = (\n          element.document || element.ownerDocument\n        ).querySelectorAll(selector);\n        var index = 0;\n\n        while (elements[index] && elements[index] !== element) {\n          ++index;\n        }\n\n        return Boolean(elements[index]);\n      };\n  }\n\n  if (typeof ElementProto.closest !== 'function') {\n    ElementProto.closest = function closest(selector) {\n      var element = this;\n\n      while (element && element.nodeType === 1) {\n        if (element.matches(selector)) {\n          return element;\n        }\n\n        element = element.parentNode;\n      }\n\n      return null;\n    };\n  }\n})(window.Element.prototype);\n","/* eslint-disable no-extend-native */\n// falback for foreach\nif (!Array.prototype.forEach) {\n  Array.prototype.forEach = function(callback, thisArg) {\n    let T, k;\n\n    if (this === null) {\n      throw new TypeError(' this is null or not defined');\n    }\n\n    // 1. Let O be the result of calling ToObject passing the |this| value as the argument.\n    const O = Object(this);\n\n    // 2. Let lenValue be the result of calling the Get internal method of O with the argument \"length\".\n    // 3. Let len be ToUint32(lenValue).\n    const len = O.length >>> 0;\n\n    // 4. If IsCallable(callback) is false, throw a TypeError exception.\n    // See: http://es5.github.com/#x9.11\n    if (typeof callback !== 'function') {\n      throw new TypeError(`${callback} is not a function`);\n    }\n\n    // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n    if (arguments.length > 1) {\n      T = thisArg;\n    }\n\n    // 6. Let k be 0\n    k = 0;\n\n    // 7. Repeat, while k < len\n    while (k < len) {\n      let kValue;\n\n      // a. Let Pk be ToString(k).\n      //   This is implicit for LHS operands of the in operator\n      // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.\n      //   This step can be combined with c\n      // c. If kPresent is true, then\n      if (k in O) {\n        // i. Let kValue be the result of calling the Get internal method of O with argument Pk.\n        kValue = O[k];\n\n        // ii. Call the Call internal method of callback with T as the this value and\n        // argument list containing kValue, k, and O.\n        callback.call(T, kValue, k, O);\n      }\n      // d. Increase k by 1.\n      k++;\n    }\n    // 8. return undefined\n  };\n}\n","/* eslint-disable */\n\n// Array.prototype.map polyfill\n// code from https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/map\nif (!Array.prototype.map) {\n  Array.prototype.map = function(fun /* , thisArg */) {\n    'use strict';\n\n    if (this === void 0 || this === null) {\n      throw new TypeError();\n    }\n\n    var t = Object(this);\n    var len = t.length >>> 0;\n\n    if (typeof fun !== 'function') {\n      throw new TypeError();\n    }\n\n    var res = new Array(len);\n    var thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n\n    for (var i = 0; i < len; i++) {\n      // NOTE: Absolute correctness would demand Object.defineProperty\n      //       be used.  But this method is fairly new, and failure is\n      //       possible only if Object.prototype or Array.prototype\n      //       has a property |i| (very unlikely), so use a less-correct\n      //       but more portable alternative.\n      if (i in t) {\n        res[i] = fun.call(thisArg, t[i], i, t);\n      }\n    }\n\n    return res;\n  };\n}\n","/* eslint-disable */\nif (typeof Object.assign !== 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, 'assign', {\n    value: function assign(target, varArgs) {\n      // .length of function is 2\n\n      if (target == null) {\n        // TypeError if undefined or null\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) {\n          // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n}\n","/* eslint-disable */\n\n(function() {\n  var lastTime = 0;\n  var vendors = ['webkit', 'moz'];\n\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n    window.cancelAnimationFrame =\n      window[vendors[x] + 'CancelAnimationFrame'] ||\n      window[vendors[x] + 'CancelRequestAnimationFrame'];\n  }\n\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = function(callback, element) {\n      var currTime = new Date().getTime();\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      var id = window.setTimeout(function() {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n\n      lastTime = currTime + timeToCall;\n      return id;\n    };\n  }\n\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = function(id) {\n      window.clearTimeout(id);\n    };\n  }\n}());\n","/* eslint-disable */\n\n(function() {\n  if ('content' in document.createElement('template')) {\n    return false;\n  }\n\n  var templates = document.getElementsByTagName('template');\n  var plateLen = templates.length;\n\n  for (var x = 0; x < plateLen; ++x) {\n    var template = templates[x];\n    var content = template.childNodes;\n    var fragment = document.createDocumentFragment();\n\n    while (content[0]) {\n      fragment.appendChild(content[0]);\n    }\n\n    template.content = fragment;\n  }\n}());\n","// trunc polyfill\nMath.trunc =\n  Math.trunc ||\n  function(x) {\n    return x < 0 ? Math.ceil(x) : Math.floor(x);\n  };\n","// source: https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n(function() {\n  if (typeof window.CustomEvent === 'function') {\n    return false;\n  }\n\n  function CustomEvent(event, params) {\n    params = params || {bubbles: false, cancelable: false, detail: undefined};\n    var evt = document.createEvent('CustomEvent');\n\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n\n  CustomEvent.prototype = window.Event.prototype;\n\n  window.CustomEvent = CustomEvent;\n}());\n","export default {\n  'drilldown.close_menu': 'Sluit menu',\n  'drilldown.search': 'Zoek',\n  'drilldown.back_to_level': 'Terug naar niveau $1',\n  'drilldown.no_results': 'Geen resultaten gevonden',\n  'slider.next_slide': 'volgende slide',\n  'slider.prev_slide': 'vorige slide',\n  'lightbox.next_slide': 'Volgende (Pijltje naar rechts)',\n  'lightbox.prev_slide': 'Vorige (Pijltje naar links)',\n  'lightbox.zoom_in_out': 'Zoom in/uit',\n  'lightbox.close': 'Esc/sluiten',\n  'codepreview.copy': 'Copy',\n  'codepreview.copied': 'Copied',\n  'codepreview.copy_to_clipboard': 'Copy to clipboard',\n  'autocomplete.my_location': 'Mijn Locatie',\n  'autocomplete.loading_location': 'Locatie ophalen...',\n  'autocomplete.no_results': 'Geen resultaten',\n  'select.search_placeholder_value': 'Zoek item',\n  'select.placeholder_value': 'Selecteer item',\n  'select.no_results': 'Geen resultaten gevonden',\n  'select.no_more_options': 'Geen resterende opties gevonden',\n  'upload.add_files': 'Bijlage toevoegen',\n  'upload.add_files_subtitle': 'Sleep de bijlage naar hier om toe te voegen',\n  'upload.file_to_big': 'Het bestand mag maximaal $1 zijn.',\n  'upload.file-type_not_allowed': 'Dit bestandstype is niet toegestaan.',\n  'upload.to_many_files': 'Je kan maximaal 2 bestand(en) uploaden.',\n  'upload.response_error': 'Er liep iets fout bij het uploaden.',\n};\n","import nl from './translations/nl';\n\nclass Translation {\n  constructor() {\n    this.i18n = nl;\n  }\n\n  t(key, ...args) {\n    let trans = this.i18n[key];\n\n    if(trans) {\n      let i = 0;\n\n      for (let arg of args) {\n        i++;\n        trans = trans.replace('$' + i, arg.toString());\n      }\n    } else {\n      return key;\n    }\n    return trans;\n  }\n}\n\nexport default Translation;\n","window.vl = window.vl || {};\nvl.ns = vl.ns || 'vl-';\n\nimport '@govflanders/vl-ui-util/src/js/util';\n\n// importing feature-detection\nimport './feature-detection/js-detection';\nimport Promise from 'promise-polyfill';\nimport 'intersection-observer';\n\n// To add to window\nif (!window.Promise) {\n  window.Promise = Promise;\n}\n// importing polyfill\nimport 'classlist-polyfill';\nimport './polyfill/array-from';\nimport './polyfill/closest';\nimport './polyfill/foreach';\nimport './polyfill/map';\n// import './polyfill/matches'; // Needs to be looked at, not working\nimport './polyfill/object-assign';\nimport './polyfill/request-animation-frame';\nimport './polyfill/template';\nimport './polyfill/trunk';\nimport './polyfill/customevent';\n\n// setup translation helper\nimport Translation from './i18n/i18n';\nvl.i18n = new Translation();\n","class Breakpoint {\n  constructor() {\n    this.value = null;\n  }\n\n  // Private functions\n  _getBreakpoint() {\n    // transfer css breakpoints to JS\n    return window\n      .getComputedStyle(document.body, ':before')\n      .getPropertyValue('content')\n      .replace(/\"/g, '');\n  }\n\n  // Public functions\n  dress() {\n    this.value = this._getBreakpoint();\n\n    /**\n     * Add eventlisteners to window\n     */\n    window.addEventListener(\n      'resize',\n      vl.util.debounce(() => {\n        this.refreshValue();\n      }),\n      50\n    );\n  }\n\n  refreshValue() {\n    this.value = this._getBreakpoint();\n  }\n}\n\n\nif(!('breakpoint' in vl)) {\n  vl.breakpoint = new Breakpoint();\n  vl.breakpoint.dress();\n}\n\nexport default Breakpoint;\n","'use strict';\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.MultiClamp = root.MultiClamp || factory();\n  }\n}(this, function() {\n  function int(str) {\n    return parseInt(str, 10);\n  }\n  function num(str) {\n    return (str + '').replace(/[^\\d.]/g, '') - 0;\n  }\n  function setText(elm, text) {\n    return elm.textContent ? elm.textContent = text : elm.innerText = text;\n  }\n  function getText(elm) {\n    return elm.textContent ? elm.textContent : elm.innerText;\n  }\n  function getStyle(elm, style) {\n    if (window.getComputedStyle) return window.getComputedStyle(elm, null).getPropertyValue(style);\n    return elm.currentStyle.getAttribute(style.replace(/-(\\w)/g, function(v, v1) {\n      return v1.toUpperCase();\n    }));\n  }\n  function getHeight(elm) {\n    var height = getStyle(elm, 'height');\n    if (height.indexOf('px') > -1) return num(height);\n    return num(elm.clientHeight) - num(getStyle(elm, 'padding-top')) - num(getStyle(elm, 'padding-bottom'));\n  }\n\n  var MultiClamp = function(element, option) {\n    if (!element) return;\n    this.element = element.length ? element[0] : element;\n    var _option = option || {};\n\n    this.option = {\n      ellipsis: 'ellipsis' in _option ? _option.ellipsis : '...',\n      clamp: 'clamp' in _option ? _option.clamp : 3,\n      reverse: 'reverse' in _option ? !!_option.reverse : false,\n      splitByWords: 'splitByWords' in _option ? !!_option.splitByWords : false,\n      disableCssClamp: 'disableCssClamp' in _option ? !!_option.disableCssClamp : false\n    };\n    if ('lineTextLen' in _option) this.option.lineTextLen = _option.lineTextLen;\n    \n    if (this.option.clamp === 'auto') {\n      this.autoClamp = true;\n    } else {\n      this.option.clamp = int(this.option.clamp);\n      if (isNaN(this.option.clamp) || this.option.clamp < 1) {\n        throw new Error('Invaild clamp number!');\n      }\n      this.autoClamp = false;\n    }\n\n    this.useCssClamp = !this.option.disableCssClamp\n      && !this.autoClamp\n      && !this.option.reverse\n      && !this.option.splitByWords\n      && this.option.ellipsis === '...'\n      && typeof document.body.style.webkitLineClamp !== 'undefined';\n\n    this.init();\n    this.clamp();\n  };\n  MultiClamp.prototype = {\n    constructor: MultiClamp,\n    reload: function() {\n      this.init();\n      this.clamp();\n    },\n    init: function() {\n      if (this.useCssClamp) {\n        var cssClampStyle = {\n          display: '-webkit-box',\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n          WebkitLineClamp: this.option.clamp,\n          WebkitBoxOrient: 'vertical'\n        };\n        for (var i in cssClampStyle) {\n          this.element.style[i] = cssClampStyle[i];\n        }\n      } else {\n        this.ellipsis = document.createElement('span');\n        this.ellipsis.style.display = 'none';\n        this.ellipsis.innerHTML = this.option.ellipsis;\n        this.content = document.createElement('span');\n        this.wrapper = document.createElement('div');\n        setText(this.content, getText(this.element));\n        this.element.innerHTML = '';\n        this.element.appendChild(this.wrapper);\n        if (this.option.reverse) {\n          this.wrapper.appendChild(this.ellipsis);\n          this.wrapper.appendChild(this.content);\n        } else {\n          this.wrapper.appendChild(this.content);\n          this.wrapper.appendChild(this.ellipsis);\n        }\n      }\n    },\n    getSingleLineHeight: function() {  \n      var lineHeight = getStyle(this.wrapper, 'line-height');\n      var self = this;\n\n      if (lineHeight.indexOf('px') > -1) {\n        return num(lineHeight);\n      } else if (!isNaN(lineHeight)) {\n        var fontSize = getStyle(this.wrapper, 'font-size');\n        if (fontSize.indexOf('px') > -1) return num(fontSize) * (lineHeight * 100) / 100;\n        if (fontSize.indexOf('pt') > -1) return num(fontSize) * 400 / 300 * (lineHeight * 100) / 100;\n        return createSingleLineAndGetHeight();\n      } else {\n        return createSingleLineAndGetHeight();\n      }\n\n      function createSingleLineAndGetHeight() {\n        var tempText = getText(self.content);\n        setText(self.content, '.');\n        var height = getHeight(self.wrapper);\n        setText(self.content, tempText);\n        return height;\n      }\n    },\n    clamp: function() {\n      if (this.useCssClamp) return;\n      var text = getText(this.content);\n      var currentHeight = getHeight(this.wrapper);\n      var singleLineHeight = this.getSingleLineHeight();\n      if (text === '' || !currentHeight || !singleLineHeight) return;\n      \n      var maxHeight;\n      if (this.autoClamp) {\n        maxHeight = getHeight(this.element);\n        this.option.clamp = int(maxHeight / singleLineHeight);\n      } else {\n        maxHeight = singleLineHeight * this.option.clamp;\n      }\n      if (!maxHeight) return;\n\n      if (currentHeight > maxHeight) {\n        this.ellipsis.style.display = '';\n        var trunk = this.option.splitByWords ? text.match(/\\w+|\\W+?/g) : text;\n        var defaultIncrease = (this.option.lineTextLen || Math.min(20, text.length / this.option.clamp)) * this.option.clamp;\n        this.trunkSlice(trunk, maxHeight, defaultIncrease, 0, false);\n      } else {\n        this.element.innerHTML = getText(this.content);\n      }\n    },\n    trunkSlice: function(trunk, maxHeight, increase, len, isDecrease) {\n      var slicedTrunk = this.option.reverse ? trunk.slice(trunk.length - len) : trunk.slice(0, len);\n  \n      setText(this.content, this.option.splitByWords ? slicedTrunk.join('') : slicedTrunk);\n  \n      var i;\n      if (getHeight(this.wrapper) > maxHeight) {\n        i = isDecrease ? increase : int(increase / 2) || 1;\n        this.trunkSlice(trunk, maxHeight, i, len - i, true);\n      } else {\n        if (increase === 1 && isDecrease) {\n          if (this.option.splitByWords && /\\s/.test(slicedTrunk[this.option.reverse ? 0 : slicedTrunk.length - 1])) {\n            setText(this.content, (this.option.reverse ? slicedTrunk.slice(1) : slicedTrunk.slice(0, slicedTrunk.length - 1)).join(''));\n          }\n          this.clean();\n          return;\n        }\n        i = isDecrease ? int(increase / 2) || 1 : increase;\n        this.trunkSlice(trunk, maxHeight, i, len + i, false);\n      }\n    },\n    clean: function () {\n      if (this.option.reverse) {\n        this.element.innerHTML = this.ellipsis.innerHTML + getText(this.content);\n      } else {\n        this.element.innerHTML = getText(this.content) + this.ellipsis.innerHTML;\n      }\n      this.wrapper = null;\n      this.ellipsis = null;\n      this.content = null;\n      delete this.wrapper;\n      delete this.ellipsis;\n      delete this.content;\n    }\n  };\n  return MultiClamp;\n}));\n","var MultiClamp = require('./MultiClamp');\n\nmodule.exports = MultiClamp;\n","import MultiClamp from 'multi-clamp';\n\nconst tcAtt = 'data-' + vl.ns + 'clamp';\n\nclass Textclamp {\n  constructor() {\n    this.elementsToClamp;\n  }\n\n  // Public functions\n  dress(element) {\n    let clampSize = parseInt(element.getAttribute(tcAtt), 10);\n    const fontsize = Math.round(parseFloat(window.getComputedStyle(element, null).getPropertyValue('font-size')));\n\n    if(/MSIE \\d|Trident.*rv:/.test(navigator.userAgent)) { // apply only in IE\n      element.setAttribute('style', `font-size:${fontsize}px;`);\n    }\n\n    if(clampSize <= 0){\n      return;\n    }\n    new MultiClamp(element, {\n      clamp: clampSize\n    });\n  }\n\n  dressAll() {\n    this.elementsToClamp = document.querySelectorAll(`[${tcAtt}]`);\n\n    vl.util.each(this.elementsToClamp, element => {\n      this.dress(element);\n    });\n  }\n}\n\nif(!('textclamp' in vl)) {\n  vl.textclamp = new Textclamp();\n  vl.textclamp.dressAll();\n}\n\nexport default Textclamp;\n","import '@govflanders/vl-ui-core/src/js/core';\n\nimport util from './util';\nimport './breakpoint';\nimport './textclamp';\n\nvl.util = util;\n"],"names":["window","vl","ns","debounce","func","wait","immediate","timeout","context","args","arguments","later","callNow","apply","clearTimeout","setTimeout","throttle","threshhold","scope","last","deferTimer","now","Number","Date","addClass","el","classes","classList","add","removeClass","remove","hasClass","contains","toggleClass","toggle","addClassFor","duration","parseTemplate","str","data","replace","match","parensMatch","triggerEvent","obj","evt","fireOnThis","evtObj","document","createEvent","initEvent","dispatchEvent","createEventObject","fireEvent","unique","array","filter","elem","pos","arr","indexOf","closest","value","to","Math","round","offset","rect","getBoundingClientRect","doc","ownerDocument","win","defaultView","parentWindow","docElem","documentElement","xOff","pageXOffset","test","navigator","userAgent","top","pageYOffset","clientTop","left","clientLeft","insertAfter","newElement","targetElement","parent","parentNode","lastchild","appendChild","insertBefore","nextSibling","removeElement","removeChild","isNumeric","isNaN","parseFloat","number","isFinite","wrap","wrapper","sibling","stripTags","tmp","createElement","innerHTML","html","textContent","innerText","uniqueId","idStrLen","idStr","floor","random","toString","getTime","length","uniqueName","substring","accurateNumber","p","pow","toFixed","limit","max","min","a","asArray","Array","isArray","countDecimals","pieces","numStr","split","scrollTo","callback","scrollTop","difference","perTick","randomIntFromInterval","each","fn","l","i","exists","nullAllowed","emptyAllowed","bytesToSize","bytes","addUnits","base","sizes","parseInt","log","getJson","url","xhr","XMLHttpRequest","open","responseType","onload","status","response","send","getParents","selector","parents","firstChar","charAt","substr","push","id","hasAttribute","tagName","toLowerCase","getParentsUntil","parentType","selectorType","Util","util","noJsClass","jSclass","_jsDetection","setTimeoutFunc","noop","bind","thisArg","handle","self","deferred","_state","_value","_deferreds","_handled","Promise","_immediateFn","cb","onFulfilled","onRejected","resolve","reject","promise","ret","e","newValue","TypeError","then","finale","doResolve","_unhandledRejectionFn","len","Handler","done","reason","ex","undefined","_proto","prototype","catch","prom","constructor","all","slice","call","remaining","res","val","race","values","setImmediate","err","console","warn","IntersectionObserverEntry","Object","defineProperty","get","intersectionRatio","entry","time","target","rootBounds","boundingClientRect","intersectionRect","getEmptyRect","isIntersecting","targetRect","targetArea","width","height","intersectionArea","IntersectionObserver","opt_options","options","Error","root","nodeType","_checkForIntersections","THROTTLE_TIMEOUT","_callback","_observationTargets","_queuedEntries","_rootMarginValues","_parseRootMargin","rootMargin","thresholds","_initThresholds","threshold","map","margin","unit","join","POLL_INTERVAL","USE_MUTATION_OBSERVER","observe","isTargetAlreadyObserved","some","item","element","_registerInstance","_monitorIntersections","unobserve","_unmonitorIntersections","_unregisterInstance","disconnect","takeRecords","records","opt_threshold","sort","t","opt_rootMargin","marginString","margins","parts","exec","_monitoringIntersections","_monitoringInterval","setInterval","addEvent","_domObserver","MutationObserver","attributes","childList","characterData","subtree","clearInterval","removeEvent","rootIsInDom","_rootIsInDom","rootRect","_getRootRect","forEach","rootContainsTarget","_rootContainsTarget","oldEntry","_computeTargetAndRootIntersection","newEntry","_hasCrossedThreshold","getComputedStyle","display","getParentNode","atRoot","parentRect","parentComputedStyle","body","overflow","computeRectIntersection","right","clientWidth","bottom","clientHeight","_expandRectByRootMargin","newRect","oldRatio","newRatio","containsDeep","performance","timer","node","event","opt_useCapture","addEventListener","attachEvent","removeEventListener","detatchEvent","rect1","rect2","child","host","createElementNS","view","classListProp","protoProp","elemCtrProto","Element","objCtr","strTrim","String","trim","arrIndexOf","DOMEx","type","message","name","code","DOMException","checkTokenAndGetIndex","token","ClassList","trimmedClasses","getAttribute","_updateClassName","setAttribute","classListProto","classListGetter","tokens","updated","index","splice","force","result","method","classListPropDesc","enumerable","configurable","__defineGetter__","testElement","createMethod","original","DOMTokenList","_toggle","from","toStr","isCallable","toInteger","abs","maxSafeInteger","toLength","arrayLike","C","items","mapFn","T","A","k","kValue","ElementProto","matches","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","elements","querySelectorAll","Boolean","O","fun","assign","varArgs","nextSource","nextKey","hasOwnProperty","writable","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","currTime","timeToCall","templates","getElementsByTagName","plateLen","template","content","childNodes","fragment","createDocumentFragment","trunc","ceil","CustomEvent","params","bubbles","cancelable","detail","initCustomEvent","Event","Translation","i18n","nl","key","trans","arg","Breakpoint","getPropertyValue","_getBreakpoint","refreshValue","breakpoint","dress","factory","module","this","int","num","setText","elm","text","getText","getStyle","style","currentStyle","v","v1","toUpperCase","getHeight","MultiClamp","option","_option","ellipsis","clamp","reverse","splitByWords","disableCssClamp","lineTextLen","autoClamp","useCssClamp","webkitLineClamp","init","reload","cssClampStyle","textOverflow","WebkitLineClamp","WebkitBoxOrient","getSingleLineHeight","lineHeight","fontSize","createSingleLineAndGetHeight","tempText","currentHeight","singleLineHeight","maxHeight","trunk","defaultIncrease","trunkSlice","increase","isDecrease","slicedTrunk","clean","tcAtt","Textclamp","elementsToClamp","clampSize","fontsize","textclamp","dressAll"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAAA,OAAOC,EAAP,GAAYD,OAAOC,EAAP,IAAa;EAACC,MAAI;EAAL,CAAzB;EAGA;EACA;EACA;;EACA,IAAMC,WAAW,SAAXA,QAAW,CAACC,IAAD,EAAOC,IAAP,EAAmC;EAAA,MAAtBC,SAAsB,uEAAV,KAAU;EAClD,MAAIC,OAAJ;EAEA,SAAO,YAAW;EAChB,QAAIC,UAAU,IAAd;EAAA,QACEC,OAAOC,SADT;EAAA,QAEEC,KAFF;EAAA,QAGEC,OAHF;;EAKAD,YAAQ,iBAAM;EACZJ,gBAAU,IAAV;;EACA,UAAI,CAACD,SAAL,EAAgB;EACdF,aAAKS,KAAL,CAAWL,OAAX,EAAoBC,IAApB;EACD;EACF,KALD;;EAOAG,cAAUN,aAAa,CAACC,OAAxB;EACAP,WAAOc,YAAP,CAAoBP,OAApB;EACAA,cAAUP,OAAOe,UAAP,CAAkBJ,KAAlB,EAAyBN,IAAzB,CAAV;;EAEA,QAAIO,OAAJ,EAAa;EACXR,WAAKS,KAAL,CAAWL,OAAX,EAAoBC,IAApB;EACD;EACF,GApBD;EAqBD,CAxBD;;EA0BA,IAAMO,WAAW,SAAXA,QAAW,CAACZ,IAAD,EAAmC;EAAA,MAA5Ba,UAA4B,uEAAf,GAAe;EAAA,MAAVC,KAAU;EAClD,MAAIC,IAAJ,EAAUC,UAAV;EAEA,SAAO,YAAW;EAChB,QAAIZ,UAAUU,SAAS,IAAvB;EAAA,QACEG,MAAMC,OAAO,IAAIC,IAAJ,EAAP,CADR;EAAA,QAEEd,OAAOC,SAFT;;EAIA,QAAIS,QAAQE,MAAMF,OAAOF,UAAzB,EAAqC;EACnC;EACAjB,aAAOc,YAAP,CAAoBM,UAApB;EACAA,mBAAapB,OAAOe,UAAP,CAAkB,YAAM;EACnCI,eAAOE,GAAP;EACAjB,aAAKS,KAAL,CAAWL,OAAX,EAAoBC,IAApB;EACD,OAHY,EAGVQ,UAHU,CAAb;EAID,KAPD,MAOO;EACLE,aAAOE,GAAP;EACAjB,WAAKS,KAAL,CAAWL,OAAX,EAAoBC,IAApB;EACD;EACF,GAhBD;EAiBD,CApBD;;EAsBA,IAAMe,WAAW,SAAXA,QAAW,CAACC,EAAD,EAAKC,OAAL,EAAiB;EAChCD,KAAGE,SAAH,CAAaC,GAAb,CAAiBF,OAAjB;EACD,CAFD;;EAIA,IAAMG,cAAc,SAAdA,WAAc,CAACJ,EAAD,EAAKC,OAAL,EAAiB;EACnCD,KAAGE,SAAH,CAAaG,MAAb,CAAoBJ,OAApB;EACD,CAFD;;EAIA,IAAMK,WAAW,SAAXA,QAAW,CAACN,EAAD,EAAKC,OAAL,EAAiB;EAChC,SAAOD,GAAGE,SAAH,CAAaK,QAAb,CAAsBN,OAAtB,CAAP;EACD,CAFD;;EAIA,IAAMO,cAAc,SAAdA,WAAc,CAACR,EAAD,EAAKC,OAAL,EAAiB;EACnCD,KAAGE,SAAH,CAAaO,MAAb,CAAoBR,OAApB;EACD,CAFD;;EAIA,IAAMS,cAAc,SAAdA,WAAc,CAACV,EAAD,EAAKC,OAAL,EAAcU,QAAd,EAA2B;EAC7CZ,WAASC,EAAT,EAAaC,OAAb;EAEA1B,SAAOe,UAAP,CAAkB,YAAM;EACtBc,gBAAYJ,EAAZ,EAAgBC,OAAhB;EACD,GAFD,EAEGU,QAFH;EAGD,CAND;EASA;;;EACA,IAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,GAAD,EAAMC,IAAN,EAAe;EACnC,SAAOD,IAAIE,OAAJ,CAAY,eAAZ,EAA6B,UAACC,KAAD,EAAQC,WAAR,EAAwB;EAC1D,QAAI,OAAOH,KAAKG,WAAL,CAAP,KAA6B,WAAjC,EAA8C;EAC5C,aAAOH,KAAKG,WAAL,CAAP;EACD;;EACD,WAAOD,KAAP;EACD,GALM,CAAP;EAMD,CAPD;;;EAUA,IAAME,eAAe,SAAfA,YAAe,CAACC,GAAD,EAAMC,GAAN,EAAc;EACjC,MAAIC,aAAaF,GAAjB;EAAA,MACEG,MADF;;EAGA,MAAIC,SAASC,WAAb,EAA0B;EACxBF,aAASC,SAASC,WAAT,CAAqB,aAArB,CAAT;EAEAF,WAAOG,SAAP,CAAiBL,GAAjB,EAAsB,IAAtB,EAA4B,KAA5B;EACAC,eAAWK,aAAX,CAAyBJ,MAAzB;EACD,GALD,MAKO,IAAIC,SAASI,iBAAb,EAAgC;EACrCL,aAASC,SAASI,iBAAT,EAAT;EAEAN,eAAWO,SAAX,aAA0BR,GAA1B,GAAiCE,MAAjC;EACD;EACF,CAdD;;EAgBA,IAAMO,SAAS,SAATA,MAAS,QAAS;EACtB,SAAOC,MAAMC,MAAN,CAAa,UAACC,IAAD,EAAOC,GAAP,EAAYC,GAAZ,EAAoB;EACtC,WAAOA,IAAIC,OAAJ,CAAYH,IAAZ,MAAsBC,GAA7B;EACD,GAFM,CAAP;EAGD,CAJD;;EAMA,IAAMG,UAAU,SAAVA,OAAU,CAACC,KAAD,EAAQC,EAAR,EAAe;EAC7B,SAAOC,KAAKC,KAAL,CAAWH,QAAQC,EAAnB,IAAyBA,EAAhC;EACD,CAFD;;;EAKA,IAAMG,SAAS,SAATA,MAAS,KAAM;EACnB,MAAIC,OAAO1C,GAAG2C,qBAAH,EAAX;EAAA,MACEC,MAAM5C,GAAG6C,aADX;EAAA,MAEEC,MAAMF,IAAIG,WAAJ,IAAmBH,IAAII,YAF/B;EAAA,MAGEC,UAAUL,IAAIM,eAHhB;EAAA,MAIEC,OAAOL,IAAIM,WAJb,CADmB;EAQnB;EACA;;EACA,MAAI,0BAA0BC,IAA1B,CAA+BC,UAAUC,SAAzC,CAAJ,EAAyD;EACvDJ,WAAO,CAAP;EACD;;EAED,SAAO;EACLK,SAAKd,KAAKc,GAAL,GAAWV,IAAIW,WAAf,GAA6BR,QAAQS,SADrC;EAELC,UAAMjB,KAAKiB,IAAL,GAAYR,IAAZ,GAAmBF,QAAQW;EAF5B,GAAP;EAID,CAlBD;;;EAqBA,IAAMC,cAAc,SAAdA,WAAc,CAACC,UAAD,EAAaC,aAAb,EAA+B;EACjD,MAAIC,SAASD,cAAcE,UAA3B,CADiD;;EAIjD,MAAID,OAAOE,SAAP,KAAqBH,aAAzB,EAAwC;EACtC;EACAC,WAAOG,WAAP,CAAmBL,UAAnB;EACD,GAHD,MAGO;EACL;EACAE,WAAOI,YAAP,CAAoBN,UAApB,EAAgCC,cAAcM,WAA9C;EACD;EACF,CAXD;;EAaA,IAAMC,gBAAgB,SAAhBA,aAAgB,gBAAiB;EACrC,MAAIN,SAASD,cAAcE,UAA3B;EAEAD,SAAOO,WAAP,CAAmBR,aAAnB;EACD,CAJD;;EAMA,IAAMS,YAAY,SAAZA,SAAY,SAAU;EAC1B,SAAO,CAACC,MAAMC,WAAWC,MAAX,CAAN,CAAD,IAA8BC,SAASD,MAAT,CAArC;EACD,CAFD;;EAIA,IAAME,OAAO,SAAPA,IAAO,CAAC7E,EAAD,EAAK8E,OAAL,EAAiB;EAC5B;EACA,MAAId,SAAShE,GAAGiE,UAAhB;EAAA,MACEc,UAAU/E,GAAGqE,WADf;EAGAS,UAAQX,WAAR,CAAoBnE,EAApB;EAEA;;;;;;EAKA,MAAI+E,OAAJ,EAAa;EACXf,WAAOI,YAAP,CAAoBU,OAApB,EAA6BC,OAA7B;EACD,GAFD,MAEO;EACLf,WAAOG,WAAP,CAAmBW,OAAnB;EACD;EACF,CAjBD;;;EAoBA,IAAME,YAAY,SAAZA,SAAY,OAAQ;EACxB,MAAIC,MAAM1D,SAAS2D,aAAT,CAAuB,KAAvB,CAAV;EAEAD,MAAIE,SAAJ,GAAgBC,IAAhB;EACA,SAAOH,IAAII,WAAJ,IAAmBJ,IAAIK,SAA9B;EACD,CALD;;;EAQA,IAAMC,WAAW,SAAXA,QAAW,GAAM;EACrB;EACA;EACA,MAAIC,WAAW,EAAf;EAAA,MACEC,kBAAW,CAAClD,KAAKmD,KAAL,CAAWnD,KAAKoD,MAAL,KAAgB,EAA3B,IAAiC,EAAlC,EAAsCC,QAAtC,CAA+C,EAA/C,CAAX,MADF,CAHqB;;EAOrBH,qBAAY,IAAI3F,IAAJ,GAAW+F,OAAX,GAAqBD,QAArB,CAA8B,EAA9B,CAAZ,OAPqB;;EAUrB,KAAG;EACDH,aAASlD,KAAKmD,KAAL,CAAWnD,KAAKoD,MAAL,KAAgB,EAA3B,EAA+BC,QAA/B,CAAwC,EAAxC,CAAT;EACD,GAFD,QAESH,MAAMK,MAAN,GAAeN,QAFxB;;EAIA,SAAOC,KAAP;EACD,CAfD;;;EAkBA,IAAMM,aAAa,SAAbA,UAAa,GAAM;EACvB,SAAOxD,KAAKoD,MAAL,GACJC,QADI,CACK,EADL,EAEJI,SAFI,CAEM,CAFN,EAES,CAFT,CAAP;EAGD,CAJD;;;EAOA,IAAMC,iBAAiB,SAAjBA,cAAiB,SAAU;EAC/B,MAAIC,IAAI3D,KAAK4D,GAAL,CAAS,EAAT,EAAa,CAAb,CAAR;EAEA,SAAOtG,OAAO,CAAC0C,KAAKC,KAAL,CAAWmC,SAASuB,CAApB,IAAyBA,CAA1B,EAA6BE,OAA7B,CAAqC,CAArC,CAAP,CAAP;EACD,CAJD;;;EAOA,IAAMC,QAAQ,SAARA,KAAQ,IAAK;EACjB,SAAO9D,KAAK+D,GAAL,CAAS/D,KAAKgE,GAAL,CAASC,CAAT,EAAY,GAAZ,CAAT,EAA2B,CAA3B,CAAP;EACD,CAFD;;;EAKA,IAAMC,UAAU,SAAVA,OAAU,IAAK;EACnB,SAAOC,MAAMC,OAAN,CAAcH,CAAd,IAAmBA,CAAnB,GAAuB,CAACA,CAAD,CAA9B;EACD,CAFD;;;EAKA,IAAMI,gBAAgB,SAAhBA,aAAgB,SAAU;EAC9B,MAAIC,SAASC,OAAOC,KAAP,CAAa,GAAb,CAAb;EAEA,SAAOF,OAAOf,MAAP,GAAgB,CAAhB,GAAoBe,OAAO,CAAP,EAAUf,MAA9B,GAAuC,CAA9C;EACD,CAJD;EAOA;;;EACA,IAAMkB,WAAW,SAAXA,QAAW,CAAChH,EAAD,EAAKsC,EAAL,EAAS3B,QAAT,EAA2C;EAAA,MAAxBsG,QAAwB,uEAAb,YAAM,EAAO;EAC1D,MAAIC,YAAYlH,GAAGkH,SAAnB;EAAA,MACEC,aAAa7E,KAAK4E,SADpB;EAAA,MAEEE,OAFF;;EAIA,MAAIzG,WAAW,CAAf,EAAkB;EAChB;EACD;;EAEDyG,YAAUD,aAAaxG,QAAb,GAAwB,EAAlC;EAEApC,SAAOe,UAAP,CAAkB,YAAM;EACtB,QAAI4H,cAAc5E,EAAd,IAAoB3B,YAAY,CAApC,EAAuC;EACrCsG;EACD,KAFD,MAEO;EACLjH,SAAGkH,SAAH,GAAeA,YAAYE,OAA3B;EACAJ,eAAShH,EAAT,EAAasC,EAAb,EAAiB3B,WAAW,EAA5B,EAAgCsG,QAAhC;EACD;EACF,GAPD,EAOG,EAPH;EAQD,CAnBD;;;EAsBA,IAAMI,wBAAwB,SAAxBA,qBAAwB,CAACd,GAAD,EAAMD,GAAN,EAAc;EAC1C,SAAO/D,KAAKmD,KAAL,CAAWnD,KAAKoD,MAAL,MAAiBW,MAAMC,GAAN,GAAY,CAA7B,IAAkCA,GAA7C,CAAP;EACD,CAFD;;;EAKA,IAAMe,OAAO,SAAPA,IAAO,CAACpF,GAAD,EAAMqF,EAAN,EAAa;EACxB,MAAIC,IAAItF,IAAI4D,MAAZ;EAAA,MACE2B,IAAI,CADN;;EAGA,SAAOA,IAAID,CAAX,EAAcC,GAAd,EAAmB;EACjBF,OAAGrF,IAAIuF,CAAJ,CAAH,EAAWA,CAAX;EACD;EACF,CAPD;EASA;;;;;;;;;;EAQA,IAAMC,SAAS,SAATA,MAAS,CAACrF,KAAD,EAAsD;EAAA,MAA9CsF,WAA8C,uEAAhC,KAAgC;EAAA,MAAzBC,YAAyB,uEAAV,KAAU;;EACnE,MAAI,OAAOvF,KAAP,KAAiB,WAArB,EAAkC;EAChC,QAAIsF,eAAetF,UAAU,IAA7B,EAAmC;EACjC,UAAIuF,gBAAgBvF,UAAU,EAA9B,EAAkC;EAChC,eAAO,IAAP;EACD;EACF;EACF;;EAED,SAAO,KAAP;EACD,CAVD;;EAYA,IAAMwF,cAAc,SAAdA,WAAc,CAACC,KAAD,EAAyC;EAAA,MAAjCC,QAAiC,uEAAtB,IAAsB;EAAA,MAAhBC,IAAgB,uEAAT,IAAS;EAC3D,MAAIC,QAAQ,CAAC,OAAD,EAAU,IAAV,EAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,CAAZ;EAAA,MACE5F,QAAQ,IADV;EAAA,MAEEoF,CAFF;;EAIA,MAAIK,UAAU,CAAd,EAAiB;EACfzF,YAAQ0F,WAAW,SAAX,GAAuB,CAA/B;EACD,GAFD,MAEO;EACLN,QAAIS,SAAS3F,KAAKmD,KAAL,CAAWnD,KAAK4F,GAAL,CAASL,KAAT,IAAkBvF,KAAK4F,GAAL,CAASH,IAAT,CAA7B,CAAT,EAAuD,EAAvD,CAAJ;;EAEA,QAAI,CAACD,QAAL,EAAe;EACb1F,cAASE,KAAKC,KAAL,CAAWsF,QAAQvF,KAAK4D,GAAL,CAAS6B,IAAT,EAAeP,CAAf,CAAnB,EAAsC,CAAtC,CAAT;EACD;;EAEDpF,YAAQ0F,WAAWxF,KAAKC,KAAL,CAAWsF,QAAQvF,KAAK4D,GAAL,CAAS6B,IAAT,EAAeP,CAAf,CAAnB,EAAsC,CAAtC,IAA2C,GAA3C,GAAiDQ,MAAMR,CAAN,CAA5D,GAAuElF,KAAKC,KAAL,CAAWsF,QAAQvF,KAAK4D,GAAL,CAAS6B,IAAT,EAAeP,CAAf,CAAnB,EAAsC,CAAtC,CAA/E;EACD;;EAED,SAAOpF,KAAP;EACD,CAlBD;;EAoBA,IAAM+F,UAAU,SAAVA,OAAU,CAACC,GAAD,EAAMpB,QAAN,EAAmB;EACjC,MAAIqB,MAAM,IAAIC,cAAJ,EAAV;EAEAD,MAAIE,IAAJ,CAAS,KAAT,EAAgBH,GAAhB,EAAqB,IAArB;EACAC,MAAIG,YAAJ,GAAmB,MAAnB;;EACAH,MAAII,MAAJ,GAAa,YAAW;EACtB,QAAIC,SAASL,IAAIK,MAAjB;;EAEA,QAAIA,WAAW,GAAf,EAAoB;EAClB1B,eAAS,IAAT,EAAeqB,IAAIM,QAAnB;EACD,KAFD,MAEO;EACL3B,eAAS0B,MAAT;EACD;EACF,GARD;;EASAL,MAAIO,IAAJ;EACD,CAfD;EAiBA;;;;;;;;EAMA,IAAMC,aAAa,SAAbA,UAAa,CAAC9G,IAAD,EAAO+G,QAAP,EAAoB;EACrC,MAAIC,UAAU,EAAd;EAAA,MACEC,SADF;;EAGA,MAAIF,QAAJ,EAAc;EACZE,gBAAYF,SAASG,MAAT,CAAgB,CAAhB,CAAZ;EACD,GANoC;;;EASrC,SAAOlH,QAAQA,SAAST,QAAxB,EAAkCS,OAAOA,KAAKiC,UAA9C,EAA0D;EACxD,QAAI8E,QAAJ,EAAc;EACZ;EACA,UAAIE,cAAc,GAAlB,EAAuB;EACrB,YAAIjH,KAAK9B,SAAL,CAAeK,QAAf,CAAwBwI,SAASI,MAAT,CAAgB,CAAhB,CAAxB,CAAJ,EAAiD;EAC/CH,kBAAQI,IAAR,CAAapH,IAAb;EACD;EACF,OANW;;;EASZ,UAAIiH,cAAc,GAAlB,EAAuB;EACrB,YAAIjH,KAAKqH,EAAL,KAAYN,SAASI,MAAT,CAAgB,CAAhB,CAAhB,EAAoC;EAClCH,kBAAQI,IAAR,CAAapH,IAAb;EACD;EACF,OAbW;;;EAgBZ,UAAIiH,cAAc,GAAlB,EAAuB;EACrB,YAAIjH,KAAKsH,YAAL,CAAkBP,SAASI,MAAT,CAAgB,CAAhB,EAAmBJ,SAASjD,MAAT,GAAkB,CAArC,CAAlB,CAAJ,EAAgE;EAC9DkD,kBAAQI,IAAR,CAAapH,IAAb;EACD;EACF,OApBW;;;EAuBZ,UAAIA,KAAKuH,OAAL,CAAaC,WAAb,OAA+BT,QAAnC,EAA6C;EAC3CC,gBAAQI,IAAR,CAAapH,IAAb;EACD;EACF,KA1BD,MA0BO;EACLgH,cAAQI,IAAR,CAAapH,IAAb;EACD;EACF,GAvCoC;;;EA0CrC,MAAIgH,QAAQlD,MAAR,KAAmB,CAAvB,EAA0B;EACxB,WAAO,IAAP;EACD;;EACD,SAAOkD,OAAP;EACD,CA9CD;;EAgDA,IAAMS,kBAAkB,SAAlBA,eAAkB,CAACzH,IAAD,EAAOgC,MAAP,EAAe+E,QAAf,EAA4B;EAClD,MAAIC,UAAU,EAAd;EAAA,MACEU,UADF;EAAA,MAEEC,YAFF;;EAIA,MAAI3F,MAAJ,EAAY;EACV0F,iBAAa1F,OAAOkF,MAAP,CAAc,CAAd,CAAb;EACD;;EACD,MAAIH,QAAJ,EAAc;EACZY,mBAAeZ,SAASG,MAAT,CAAgB,CAAhB,CAAf;EACD,GAViD;;;EAalD,SAAOlH,QAAQA,SAAST,QAAxB,EAAkCS,OAAOA,KAAKiC,UAA9C,EAA0D;EACxD;EACA,QAAID,MAAJ,EAAY;EACV;EACA,UAAI0F,eAAe,GAAnB,EAAwB;EACtB,YAAI1H,KAAK9B,SAAL,CAAeK,QAAf,CAAwByD,OAAOmF,MAAP,CAAc,CAAd,CAAxB,CAAJ,EAA+C;EAC7C;EACD;EACF,OANS;;;EASV,UAAIO,eAAe,GAAnB,EAAwB;EACtB,YAAI1H,KAAKqH,EAAL,KAAYrF,OAAOmF,MAAP,CAAc,CAAd,CAAhB,EAAkC;EAChC;EACD;EACF,OAbS;;;EAgBV,UAAIO,eAAe,GAAnB,EAAwB;EACtB,YAAI1H,KAAKsH,YAAL,CAAkBtF,OAAOmF,MAAP,CAAc,CAAd,EAAiBnF,OAAO8B,MAAP,GAAgB,CAAjC,CAAlB,CAAJ,EAA4D;EAC1D;EACD;EACF,OApBS;;;EAuBV,UAAI9D,KAAKuH,OAAL,CAAaC,WAAb,OAA+BxF,MAAnC,EAA2C;EACzC;EACD;EACF;;EAED,QAAI+E,QAAJ,EAAc;EACZ;EACA,UAAIY,iBAAiB,GAArB,EAA0B;EACxB,YAAI3H,KAAK9B,SAAL,CAAeK,QAAf,CAAwBwI,SAASI,MAAT,CAAgB,CAAhB,CAAxB,CAAJ,EAAiD;EAC/CH,kBAAQI,IAAR,CAAapH,IAAb;EACD;EACF,OANW;;;EASZ,UAAI2H,iBAAiB,GAArB,EAA0B;EACxB,YAAI3H,KAAKqH,EAAL,KAAYN,SAASI,MAAT,CAAgB,CAAhB,CAAhB,EAAoC;EAClCH,kBAAQI,IAAR,CAAapH,IAAb;EACD;EACF,OAbW;;;EAgBZ,UAAI2H,iBAAiB,GAArB,EAA0B;EACxB,YAAI3H,KAAKsH,YAAL,CAAkBP,SAASI,MAAT,CAAgB,CAAhB,EAAmBJ,SAASjD,MAAT,GAAkB,CAArC,CAAlB,CAAJ,EAAgE;EAC9DkD,kBAAQI,IAAR,CAAapH,IAAb;EACD;EACF,OApBW;;;EAuBZ,UAAIA,KAAKuH,OAAL,CAAaC,WAAb,OAA+BT,QAAnC,EAA6C;EAC3CC,gBAAQI,IAAR,CAAapH,IAAb;EACD;EACF,KA1BD,MA0BO;EACLgH,cAAQI,IAAR,CAAapH,IAAb;EACD;EACF,GAxEiD;;;EA2ElD,MAAIgH,QAAQlD,MAAR,KAAmB,CAAvB,EAA0B;EACxB,WAAO,IAAP;EACD;;EACD,SAAOkD,OAAP;EACD,CA/ED;;MAiFMY,OACJ,gBAAc;EAAA;;EACZ,OAAK7J,QAAL,GAAgBA,QAAhB;EACA,OAAKK,WAAL,GAAmBA,WAAnB;EACA,OAAKE,QAAL,GAAgBA,QAAhB;EACA,OAAKE,WAAL,GAAmBA,WAAnB;EACA,OAAKE,WAAL,GAAmBA,WAAnB;EACA,OAAKE,aAAL,GAAqBA,aAArB;EACA,OAAKM,YAAL,GAAoBA,YAApB;EACA,OAAKW,MAAL,GAAcA,MAAd;EACA,OAAKO,OAAL,GAAeA,OAAf;EACA,OAAKK,MAAL,GAAcA,MAAd;EACA,OAAKoB,WAAL,GAAmBA,WAAnB;EACA,OAAKS,aAAL,GAAqBA,aAArB;EACA,OAAKE,SAAL,GAAiBA,SAAjB;EACA,OAAKK,IAAL,GAAYA,IAAZ;EACA,OAAKG,SAAL,GAAiBA,SAAjB;EACA,OAAKO,QAAL,GAAgBA,QAAhB;EACA,OAAKQ,UAAL,GAAkBA,UAAlB;EACA,OAAKE,cAAL,GAAsBA,cAAtB;EACA,OAAKI,KAAL,GAAaA,KAAb;EACA,OAAKI,OAAL,GAAeA,OAAf;EACA,OAAKG,aAAL,GAAqBA,aAArB;EACA,OAAKI,QAAL,GAAgBA,QAAhB;EACA,OAAKK,qBAAL,GAA6BA,qBAA7B;EACA,OAAK3I,QAAL,GAAgBA,QAAhB;EACA,OAAKa,QAAL,GAAgBA,QAAhB;EACA,OAAK+H,IAAL,GAAYA,IAAZ;EACA,OAAKI,MAAL,GAAcA,MAAd;EACA,OAAKG,WAAL,GAAmBA,WAAnB;EACA,OAAKO,OAAL,GAAeA,OAAf;EACA,OAAKU,UAAL,GAAkBA,UAAlB;EACA,OAAKW,eAAL,GAAuBA,eAAvB;EACD;;EAGHjL,GAAGqL,IAAH,GAAU,IAAID,IAAJ,EAAV;;AAGA,aAAe;EACb7J,oBADa;EAEbK,0BAFa;EAGbE,oBAHa;EAIbE,0BAJa;EAKbE,0BALa;EAMbE,8BANa;EAObM,4BAPa;EAQbW,gBARa;EASbO,kBATa;EAUbK,gBAVa;EAWboB,0BAXa;EAYbS,8BAZa;EAabE,sBAba;EAcbK,YAda;EAebG,sBAfa;EAgBbO,oBAhBa;EAiBbQ,wBAjBa;EAkBbE,gCAlBa;EAmBbI,cAnBa;EAoBbI,kBApBa;EAqBbG,8BArBa;EAsBbI,oBAtBa;EAuBbK,8CAvBa;EAwBb3I,oBAxBa;EAyBba,oBAzBa;EA0Bb+H,YA1Ba;EA2BbI,gBA3Ba;EA4BbG,0BA5Ba;EA6BbO,kBA7Ba;EA8BbU,wBA9Ba;EA+BbW;EA/Ba,CAAf;;EC1fA,IAAMK,YAAY,OAAlB;EAAA,IACEC,UAAU,IADZ;;EAIA,IAAMC,eAAe,SAAfA,YAAe,GAAM;EACzB,MAAIxL,GAAGqL,IAAH,CAAQvJ,QAAR,CAAiBiB,SAAS2B,eAA1B,EAA2C4G,SAA3C,CAAJ,EAA2D;EACzDtL,OAAGqL,IAAH,CAAQzJ,WAAR,CAAoBmB,SAAS2B,eAA7B,EAA8C4G,SAA9C;EACD;;EAEDtL,KAAGqL,IAAH,CAAQ9J,QAAR,CAAiBwB,SAAS2B,eAA1B,EAA2C6G,OAA3C;EACD,CAND;;EAQAC;;ECZA;EACA;EACA,IAAIC,iBAAiB3K,UAArB;;EAEA,SAAS4K,IAAT,GAAgB;;;EAGhB,SAASC,IAAT,CAAc5C,EAAd,EAAkB6C,OAAlB,EAA2B;EACzB,SAAO,YAAW;EAChB7C,OAAGnI,KAAH,CAASgL,OAAT,EAAkBnL,SAAlB;EACD,GAFD;EAGD;;EAED,SAASoL,MAAT,CAAgBC,IAAhB,EAAsBC,QAAtB,EAAgC;EAC9B,SAAOD,KAAKE,MAAL,KAAgB,CAAvB,EAA0B;EACxBF,WAAOA,KAAKG,MAAZ;EACD;;EACD,MAAIH,KAAKE,MAAL,KAAgB,CAApB,EAAuB;EACrBF,SAAKI,UAAL,CAAgBtB,IAAhB,CAAqBmB,QAArB;;EACA;EACD;;EACDD,OAAKK,QAAL,GAAgB,IAAhB;;EACAC,YAAQC,YAAR,CAAqB,YAAW;EAC9B,QAAIC,KAAKR,KAAKE,MAAL,KAAgB,CAAhB,GAAoBD,SAASQ,WAA7B,GAA2CR,SAASS,UAA7D;;EACA,QAAIF,OAAO,IAAX,EAAiB;EACf,OAACR,KAAKE,MAAL,KAAgB,CAAhB,GAAoBS,OAApB,GAA8BC,MAA/B,EAAuCX,SAASY,OAAhD,EAAyDb,KAAKG,MAA9D;EACA;EACD;;EACD,QAAIW,GAAJ;;EACA,QAAI;EACFA,YAAMN,GAAGR,KAAKG,MAAR,CAAN;EACD,KAFD,CAEE,OAAOY,CAAP,EAAU;EACVH,aAAOX,SAASY,OAAhB,EAAyBE,CAAzB;EACA;EACD;;EACDJ,YAAQV,SAASY,OAAjB,EAA0BC,GAA1B;EACD,GAdD;EAeD;;EAED,SAASH,OAAT,CAAiBX,IAAjB,EAAuBgB,QAAvB,EAAiC;EAC/B,MAAI;EACF;EACA,QAAIA,aAAahB,IAAjB,EACE,MAAM,IAAIiB,SAAJ,CAAc,2CAAd,CAAN;;EACF,QACED,aACC,QAAOA,QAAP,MAAoB,QAApB,IAAgC,OAAOA,QAAP,KAAoB,UADrD,CADF,EAGE;EACA,UAAIE,OAAOF,SAASE,IAApB;;EACA,UAAIF,oBAAoBV,SAAxB,EAAiC;EAC/BN,aAAKE,MAAL,GAAc,CAAd;EACAF,aAAKG,MAAL,GAAca,QAAd;EACAG,eAAOnB,IAAP;EACA;EACD,OALD,MAKO,IAAI,OAAOkB,IAAP,KAAgB,UAApB,EAAgC;EACrCE,kBAAUvB,KAAKqB,IAAL,EAAWF,QAAX,CAAV,EAAgChB,IAAhC;EACA;EACD;EACF;;EACDA,SAAKE,MAAL,GAAc,CAAd;EACAF,SAAKG,MAAL,GAAca,QAAd;EACAG,WAAOnB,IAAP;EACD,GAtBD,CAsBE,OAAOe,CAAP,EAAU;EACVH,WAAOZ,IAAP,EAAae,CAAb;EACD;EACF;;EAED,SAASH,MAAT,CAAgBZ,IAAhB,EAAsBgB,QAAtB,EAAgC;EAC9BhB,OAAKE,MAAL,GAAc,CAAd;EACAF,OAAKG,MAAL,GAAca,QAAd;EACAG,SAAOnB,IAAP;EACD;;EAED,SAASmB,MAAT,CAAgBnB,IAAhB,EAAsB;EACpB,MAAIA,KAAKE,MAAL,KAAgB,CAAhB,IAAqBF,KAAKI,UAAL,CAAgB5E,MAAhB,KAA2B,CAApD,EAAuD;EACrD8E,cAAQC,YAAR,CAAqB,YAAW;EAC9B,UAAI,CAACP,KAAKK,QAAV,EAAoB;EAClBC,kBAAQe,qBAAR,CAA8BrB,KAAKG,MAAnC;EACD;EACF,KAJD;EAKD;;EAED,OAAK,IAAIhD,IAAI,CAAR,EAAWmE,MAAMtB,KAAKI,UAAL,CAAgB5E,MAAtC,EAA8C2B,IAAImE,GAAlD,EAAuDnE,GAAvD,EAA4D;EAC1D4C,WAAOC,IAAP,EAAaA,KAAKI,UAAL,CAAgBjD,CAAhB,CAAb;EACD;;EACD6C,OAAKI,UAAL,GAAkB,IAAlB;EACD;;EAED,SAASmB,OAAT,CAAiBd,WAAjB,EAA8BC,UAA9B,EAA0CG,OAA1C,EAAmD;EACjD,OAAKJ,WAAL,GAAmB,OAAOA,WAAP,KAAuB,UAAvB,GAAoCA,WAApC,GAAkD,IAArE;EACA,OAAKC,UAAL,GAAkB,OAAOA,UAAP,KAAsB,UAAtB,GAAmCA,UAAnC,GAAgD,IAAlE;EACA,OAAKG,OAAL,GAAeA,OAAf;EACD;EAED;;;;;;;;EAMA,SAASO,SAAT,CAAmBnE,EAAnB,EAAuB+C,IAAvB,EAA6B;EAC3B,MAAIwB,OAAO,KAAX;;EACA,MAAI;EACFvE,OACE,UAASlF,KAAT,EAAgB;EACd,UAAIyJ,IAAJ,EAAU;EACVA,aAAO,IAAP;EACAb,cAAQX,IAAR,EAAcjI,KAAd;EACD,KALH,EAME,UAAS0J,MAAT,EAAiB;EACf,UAAID,IAAJ,EAAU;EACVA,aAAO,IAAP;EACAZ,aAAOZ,IAAP,EAAayB,MAAb;EACD,KAVH;EAYD,GAbD,CAaE,OAAOC,EAAP,EAAW;EACX,QAAIF,IAAJ,EAAU;EACVA,WAAO,IAAP;EACAZ,WAAOZ,IAAP,EAAa0B,EAAb;EACD;EACF;;EAED,SAASpB,SAAT,CAAiBrD,EAAjB,EAAqB;EACnB,MAAI,EAAE,gBAAgBqD,SAAlB,CAAJ,EACE,MAAM,IAAIW,SAAJ,CAAc,sCAAd,CAAN;EACF,MAAI,OAAOhE,EAAP,KAAc,UAAlB,EAA8B,MAAM,IAAIgE,SAAJ,CAAc,gBAAd,CAAN;EAC9B,OAAKf,MAAL,GAAc,CAAd;EACA,OAAKG,QAAL,GAAgB,KAAhB;EACA,OAAKF,MAAL,GAAcwB,SAAd;EACA,OAAKvB,UAAL,GAAkB,EAAlB;EAEAgB,YAAUnE,EAAV,EAAc,IAAd;EACD;;EAED,IAAI2E,SAAStB,UAAQuB,SAArB;;EACAD,OAAOE,KAAP,GAAe,UAASpB,UAAT,EAAqB;EAClC,SAAO,KAAKQ,IAAL,CAAU,IAAV,EAAgBR,UAAhB,CAAP;EACD,CAFD;;EAIAkB,OAAOV,IAAP,GAAc,UAAST,WAAT,EAAsBC,UAAtB,EAAkC;EAC9C,MAAIqB,OAAO,IAAI,KAAKC,WAAT,CAAqBpC,IAArB,CAAX;EAEAG,SAAO,IAAP,EAAa,IAAIwB,OAAJ,CAAYd,WAAZ,EAAyBC,UAAzB,EAAqCqB,IAArC,CAAb;EACA,SAAOA,IAAP;EACD,CALD;;AAOAzB,YAAQ2B,GAAR,GAAc,UAASrK,GAAT,EAAc;EAC1B,SAAO,IAAI0I,SAAJ,CAAY,UAASK,OAAT,EAAkBC,MAAlB,EAA0B;EAC3C,QAAI,CAAChJ,GAAD,IAAQ,OAAOA,IAAI4D,MAAX,KAAsB,WAAlC,EACE,MAAM,IAAIyF,SAAJ,CAAc,8BAAd,CAAN;EACF,QAAIvM,OAAO0H,MAAMyF,SAAN,CAAgBK,KAAhB,CAAsBC,IAAtB,CAA2BvK,GAA3B,CAAX;EACA,QAAIlD,KAAK8G,MAAL,KAAgB,CAApB,EAAuB,OAAOmF,QAAQ,EAAR,CAAP;EACvB,QAAIyB,YAAY1N,KAAK8G,MAArB;;EAEA,aAAS6G,GAAT,CAAalF,CAAb,EAAgBmF,GAAhB,EAAqB;EACnB,UAAI;EACF,YAAIA,QAAQ,QAAOA,GAAP,MAAe,QAAf,IAA2B,OAAOA,GAAP,KAAe,UAAlD,CAAJ,EAAmE;EACjE,cAAIpB,OAAOoB,IAAIpB,IAAf;;EACA,cAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;EAC9BA,iBAAKiB,IAAL,CACEG,GADF,EAEE,UAASA,GAAT,EAAc;EACZD,kBAAIlF,CAAJ,EAAOmF,GAAP;EACD,aAJH,EAKE1B,MALF;EAOA;EACD;EACF;;EACDlM,aAAKyI,CAAL,IAAUmF,GAAV;;EACA,YAAI,EAAEF,SAAF,KAAgB,CAApB,EAAuB;EACrBzB,kBAAQjM,IAAR;EACD;EACF,OAlBD,CAkBE,OAAOgN,EAAP,EAAW;EACXd,eAAOc,EAAP;EACD;EACF;;EAED,SAAK,IAAIvE,IAAI,CAAb,EAAgBA,IAAIzI,KAAK8G,MAAzB,EAAiC2B,GAAjC,EAAsC;EACpCkF,UAAIlF,CAAJ,EAAOzI,KAAKyI,CAAL,CAAP;EACD;EACF,GAlCM,CAAP;EAmCD,CApCD;;AAsCAmD,YAAQK,OAAR,GAAkB,UAAS5I,KAAT,EAAgB;EAChC,MAAIA,SAAS,QAAOA,KAAP,MAAiB,QAA1B,IAAsCA,MAAMiK,WAAN,KAAsB1B,SAAhE,EAAyE;EACvE,WAAOvI,KAAP;EACD;;EAED,SAAO,IAAIuI,SAAJ,CAAY,UAASK,OAAT,EAAkB;EACnCA,YAAQ5I,KAAR;EACD,GAFM,CAAP;EAGD,CARD;;AAUAuI,YAAQM,MAAR,GAAiB,UAAS7I,KAAT,EAAgB;EAC/B,SAAO,IAAIuI,SAAJ,CAAY,UAASK,OAAT,EAAkBC,MAAlB,EAA0B;EAC3CA,WAAO7I,KAAP;EACD,GAFM,CAAP;EAGD,CAJD;;AAMAuI,YAAQiC,IAAR,GAAe,UAASC,MAAT,EAAiB;EAC9B,SAAO,IAAIlC,SAAJ,CAAY,UAASK,OAAT,EAAkBC,MAAlB,EAA0B;EAC3C,SAAK,IAAIzD,IAAI,CAAR,EAAWmE,MAAMkB,OAAOhH,MAA7B,EAAqC2B,IAAImE,GAAzC,EAA8CnE,GAA9C,EAAmD;EACjDqF,aAAOrF,CAAP,EAAU+D,IAAV,CAAeP,OAAf,EAAwBC,MAAxB;EACD;EACF,GAJM,CAAP;EAKD,CAND;;;AASAN,YAAQC,YAAR,GACG,OAAOkC,YAAP,KAAwB,UAAxB,IACC,UAASxF,EAAT,EAAa;EACXwF,eAAaxF,EAAb;EACD,CAHH,IAIA,UAASA,EAAT,EAAa;EACX0C,iBAAe1C,EAAf,EAAmB,CAAnB;EACD,CAPH;;AASAqD,YAAQe,qBAAR,GAAgC,SAASA,qBAAT,CAA+BqB,GAA/B,EAAoC;EAClE,MAAI,OAAOC,OAAP,KAAmB,WAAnB,IAAkCA,OAAtC,EAA+C;EAC7CA,YAAQC,IAAR,CAAa,uCAAb,EAAsDF,GAAtD,EAD6C;EAE9C;EACF,CAJD;;EC1NA;;;;;;;;EASC,WAASzO,MAAT,EAAiBgD,QAAjB,EAA2B;AAC5B,EAIA;;EACA,MAAI,0BAA0BhD,MAA1B,IACA,+BAA+BA,MAD/B,IAEA,uBAAuBA,OAAO4O,yBAAP,CAAiChB,SAF5D,EAEuE;EAErE;EACA;EACA,QAAI,EAAE,oBAAoB5N,OAAO4O,yBAAP,CAAiChB,SAAvD,CAAJ,EAAuE;EACrEiB,aAAOC,cAAP,CAAsB9O,OAAO4O,yBAAP,CAAiChB,SAAvD,EACE,gBADF,EACoB;EAClBmB,aAAK,eAAY;EACf,iBAAO,KAAKC,iBAAL,GAAyB,CAAhC;EACD;EAHiB,OADpB;EAMD;;EACD;EACD;AAGD,EASA;;;;;;;EAMA,WAASJ,yBAAT,CAAmCK,KAAnC,EAA0C;EACxC,SAAKC,IAAL,GAAYD,MAAMC,IAAlB;EACA,SAAKC,MAAL,GAAcF,MAAME,MAApB;EACA,SAAKC,UAAL,GAAkBH,MAAMG,UAAxB;EACA,SAAKC,kBAAL,GAA0BJ,MAAMI,kBAAhC;EACA,SAAKC,gBAAL,GAAwBL,MAAMK,gBAAN,IAA0BC,cAAlD;EACA,SAAKC,cAAL,GAAsB,CAAC,CAACP,MAAMK,gBAA9B,CANwC;;EASxC,QAAIG,aAAa,KAAKJ,kBAAtB;EACA,QAAIK,aAAaD,WAAWE,KAAX,GAAmBF,WAAWG,MAA/C;EACA,QAAIN,mBAAmB,KAAKA,gBAA5B;EACA,QAAIO,mBAAmBP,iBAAiBK,KAAjB,GAAyBL,iBAAiBM,MAAjE,CAZwC;;EAexC,QAAIF,UAAJ,EAAgB;EACd,WAAKV,iBAAL,GAAyBa,mBAAmBH,UAA5C;EACD,KAFD,MAEO;EACL;EACA,WAAKV,iBAAL,GAAyB,KAAKQ,cAAL,GAAsB,CAAtB,GAA0B,CAAnD;EACD;EACF;EAGD;;;;;;;;;;;EASA,WAASM,oBAAT,CAA8BpH,QAA9B,EAAwCqH,WAAxC,EAAqD;EAEnD,QAAIC,UAAUD,eAAe,EAA7B;;EAEA,QAAI,OAAOrH,QAAP,IAAmB,UAAvB,EAAmC;EACjC,YAAM,IAAIuH,KAAJ,CAAU,6BAAV,CAAN;EACD;;EAED,QAAID,QAAQE,IAAR,IAAgBF,QAAQE,IAAR,CAAaC,QAAb,IAAyB,CAA7C,EAAgD;EAC9C,YAAM,IAAIF,KAAJ,CAAU,yBAAV,CAAN;EACD,KAVkD;;;EAanD,SAAKG,sBAAL,GAA8BpP,SAC1B,KAAKoP,sBAAL,CAA4BxE,IAA5B,CAAiC,IAAjC,CAD0B,EACc,KAAKyE,gBADnB,CAA9B,CAbmD;;EAiBnD,SAAKC,SAAL,GAAiB5H,QAAjB;EACA,SAAK6H,mBAAL,GAA2B,EAA3B;EACA,SAAKC,cAAL,GAAsB,EAAtB;EACA,SAAKC,iBAAL,GAAyB,KAAKC,gBAAL,CAAsBV,QAAQW,UAA9B,CAAzB,CApBmD;;EAuBnD,SAAKC,UAAL,GAAkB,KAAKC,eAAL,CAAqBb,QAAQc,SAA7B,CAAlB;EACA,SAAKZ,IAAL,GAAYF,QAAQE,IAAR,IAAgB,IAA5B;EACA,SAAKS,UAAL,GAAkB,KAAKF,iBAAL,CAAuBM,GAAvB,CAA2B,UAASC,MAAT,EAAiB;EAC5D,aAAOA,OAAOlN,KAAP,GAAekN,OAAOC,IAA7B;EACD,KAFiB,EAEfC,IAFe,CAEV,GAFU,CAAlB;EAGD;EAGD;;;;;;EAIApB,uBAAqBlC,SAArB,CAA+ByC,gBAA/B,GAAkD,GAAlD;EAGA;;;;;;EAKAP,uBAAqBlC,SAArB,CAA+BuD,aAA/B,GAA+C,IAA/C;EAEA;;;;;EAIArB,uBAAqBlC,SAArB,CAA+BwD,qBAA/B,GAAuD,IAAvD;EAGA;;;;;;EAKAtB,uBAAqBlC,SAArB,CAA+ByD,OAA/B,GAAyC,UAASlC,MAAT,EAAiB;EACxD,QAAImC,0BAA0B,KAAKf,mBAAL,CAAyBgB,IAAzB,CAA8B,UAASC,IAAT,EAAe;EACzE,aAAOA,KAAKC,OAAL,IAAgBtC,MAAvB;EACD,KAF6B,CAA9B;;EAIA,QAAImC,uBAAJ,EAA6B;EAC3B;EACD;;EAED,QAAI,EAAEnC,UAAUA,OAAOgB,QAAP,IAAmB,CAA/B,CAAJ,EAAuC;EACrC,YAAM,IAAIF,KAAJ,CAAU,2BAAV,CAAN;EACD;;EAED,SAAKyB,iBAAL;;EACA,SAAKnB,mBAAL,CAAyB1F,IAAzB,CAA8B;EAAC4G,eAAStC,MAAV;EAAkBF,aAAO;EAAzB,KAA9B;;EACA,SAAK0C,qBAAL;;EACA,SAAKvB,sBAAL;EACD,GAjBD;EAoBA;;;;;;EAIAN,uBAAqBlC,SAArB,CAA+BgE,SAA/B,GAA2C,UAASzC,MAAT,EAAiB;EAC1D,SAAKoB,mBAAL,GACI,KAAKA,mBAAL,CAAyB/M,MAAzB,CAAgC,UAASgO,IAAT,EAAe;EAEjD,aAAOA,KAAKC,OAAL,IAAgBtC,MAAvB;EACD,KAHG,CADJ;;EAKA,QAAI,CAAC,KAAKoB,mBAAL,CAAyBhJ,MAA9B,EAAsC;EACpC,WAAKsK,uBAAL;;EACA,WAAKC,mBAAL;EACD;EACF,GAVD;EAaA;;;;;EAGAhC,uBAAqBlC,SAArB,CAA+BmE,UAA/B,GAA4C,YAAW;EACrD,SAAKxB,mBAAL,GAA2B,EAA3B;;EACA,SAAKsB,uBAAL;;EACA,SAAKC,mBAAL;EACD,GAJD;EAOA;;;;;;;;EAMAhC,uBAAqBlC,SAArB,CAA+BoE,WAA/B,GAA6C,YAAW;EACtD,QAAIC,UAAU,KAAKzB,cAAL,CAAoBvC,KAApB,EAAd;;EACA,SAAKuC,cAAL,GAAsB,EAAtB;EACA,WAAOyB,OAAP;EACD,GAJD;EAOA;;;;;;;;;;;EASAnC,uBAAqBlC,SAArB,CAA+BiD,eAA/B,GAAiD,UAASqB,aAAT,EAAwB;EACvE,QAAIpB,YAAYoB,iBAAiB,CAAC,CAAD,CAAjC;EACA,QAAI,CAAC/J,MAAMC,OAAN,CAAc0I,SAAd,CAAL,EAA+BA,YAAY,CAACA,SAAD,CAAZ;EAE/B,WAAOA,UAAUqB,IAAV,GAAiB3O,MAAjB,CAAwB,UAAS4O,CAAT,EAAYlJ,CAAZ,EAAejB,CAAf,EAAkB;EAC/C,UAAI,OAAOmK,CAAP,IAAY,QAAZ,IAAwBlM,MAAMkM,CAAN,CAAxB,IAAoCA,IAAI,CAAxC,IAA6CA,IAAI,CAArD,EAAwD;EACtD,cAAM,IAAInC,KAAJ,CAAU,wDAAV,CAAN;EACD;;EACD,aAAOmC,MAAMnK,EAAEiB,IAAI,CAAN,CAAb;EACD,KALM,CAAP;EAMD,GAVD;EAaA;;;;;;;;;;;;;EAWA4G,uBAAqBlC,SAArB,CAA+B8C,gBAA/B,GAAkD,UAAS2B,cAAT,EAAyB;EACzE,QAAIC,eAAeD,kBAAkB,KAArC;EACA,QAAIE,UAAUD,aAAa9J,KAAb,CAAmB,KAAnB,EAA0BuI,GAA1B,CAA8B,UAASC,MAAT,EAAiB;EAC3D,UAAIwB,QAAQ,wBAAwBC,IAAxB,CAA6BzB,MAA7B,CAAZ;;EACA,UAAI,CAACwB,KAAL,EAAY;EACV,cAAM,IAAIvC,KAAJ,CAAU,mDAAV,CAAN;EACD;;EACD,aAAO;EAACnM,eAAOqC,WAAWqM,MAAM,CAAN,CAAX,CAAR;EAA8BvB,cAAMuB,MAAM,CAAN;EAApC,OAAP;EACD,KANa,CAAd,CAFyE;;EAWzED,YAAQ,CAAR,IAAaA,QAAQ,CAAR,KAAcA,QAAQ,CAAR,CAA3B;EACAA,YAAQ,CAAR,IAAaA,QAAQ,CAAR,KAAcA,QAAQ,CAAR,CAA3B;EACAA,YAAQ,CAAR,IAAaA,QAAQ,CAAR,KAAcA,QAAQ,CAAR,CAA3B;EAEA,WAAOA,OAAP;EACD,GAhBD;EAmBA;;;;;;;EAKAzC,uBAAqBlC,SAArB,CAA+B+D,qBAA/B,GAAuD,YAAW;EAChE,QAAI,CAAC,KAAKe,wBAAV,EAAoC;EAClC,WAAKA,wBAAL,GAAgC,IAAhC,CADkC;EAIlC;;EACA,UAAI,KAAKvB,aAAT,EAAwB;EACtB,aAAKwB,mBAAL,GAA2BC,YACvB,KAAKxC,sBADkB,EACM,KAAKe,aADX,CAA3B;EAED,OAHD,MAIK;EACH0B,iBAAS7S,MAAT,EAAiB,QAAjB,EAA2B,KAAKoQ,sBAAhC,EAAwD,IAAxD;EACAyC,iBAAS7P,QAAT,EAAmB,QAAnB,EAA6B,KAAKoN,sBAAlC,EAA0D,IAA1D;;EAEA,YAAI,KAAKgB,qBAAL,IAA8B,sBAAsBpR,MAAxD,EAAgE;EAC9D,eAAK8S,YAAL,GAAoB,IAAIC,gBAAJ,CAAqB,KAAK3C,sBAA1B,CAApB;;EACA,eAAK0C,YAAL,CAAkBzB,OAAlB,CAA0BrO,QAA1B,EAAoC;EAClCgQ,wBAAY,IADsB;EAElCC,uBAAW,IAFuB;EAGlCC,2BAAe,IAHmB;EAIlCC,qBAAS;EAJyB,WAApC;EAMD;EACF;EACF;EACF,GAzBD;EA4BA;;;;;;EAIArD,uBAAqBlC,SAArB,CAA+BiE,uBAA/B,GAAyD,YAAW;EAClE,QAAI,KAAKa,wBAAT,EAAmC;EACjC,WAAKA,wBAAL,GAAgC,KAAhC;EAEAU,oBAAc,KAAKT,mBAAnB;EACA,WAAKA,mBAAL,GAA2B,IAA3B;EAEAU,kBAAYrT,MAAZ,EAAoB,QAApB,EAA8B,KAAKoQ,sBAAnC,EAA2D,IAA3D;EACAiD,kBAAYrQ,QAAZ,EAAsB,QAAtB,EAAgC,KAAKoN,sBAArC,EAA6D,IAA7D;;EAEA,UAAI,KAAK0C,YAAT,EAAuB;EACrB,aAAKA,YAAL,CAAkBf,UAAlB;;EACA,aAAKe,YAAL,GAAoB,IAApB;EACD;EACF;EACF,GAfD;EAkBA;;;;;;;;EAMAhD,uBAAqBlC,SAArB,CAA+BwC,sBAA/B,GAAwD,YAAW;EACjE,QAAIkD,cAAc,KAAKC,YAAL,EAAlB;;EACA,QAAIC,WAAWF,cAAc,KAAKG,YAAL,EAAd,GAAoClE,cAAnD;;EAEA,SAAKgB,mBAAL,CAAyBmD,OAAzB,CAAiC,UAASlC,IAAT,EAAe;EAC9C,UAAIrC,SAASqC,KAAKC,OAAlB;EACA,UAAIhC,aAAarL,sBAAsB+K,MAAtB,CAAjB;;EACA,UAAIwE,qBAAqB,KAAKC,mBAAL,CAAyBzE,MAAzB,CAAzB;;EACA,UAAI0E,WAAWrC,KAAKvC,KAApB;;EACA,UAAIK,mBAAmBgE,eAAeK,kBAAf,IACnB,KAAKG,iCAAL,CAAuC3E,MAAvC,EAA+CqE,QAA/C,CADJ;;EAGA,UAAIO,WAAWvC,KAAKvC,KAAL,GAAa,IAAIL,yBAAJ,CAA8B;EACxDM,cAAM7N,KADkD;EAExD8N,gBAAQA,MAFgD;EAGxDE,4BAAoBI,UAHoC;EAIxDL,oBAAYoE,QAJ4C;EAKxDlE,0BAAkBA;EALsC,OAA9B,CAA5B;;EAQA,UAAI,CAACuE,QAAL,EAAe;EACb,aAAKrD,cAAL,CAAoB3F,IAApB,CAAyBkJ,QAAzB;EACD,OAFD,MAEO,IAAIT,eAAeK,kBAAnB,EAAuC;EAC5C;EACA;EACA,YAAI,KAAKK,oBAAL,CAA0BH,QAA1B,EAAoCE,QAApC,CAAJ,EAAmD;EACjD,eAAKvD,cAAL,CAAoB3F,IAApB,CAAyBkJ,QAAzB;EACD;EACF,OANM,MAMA;EACL;EACA;EACA;EACA,YAAIF,YAAYA,SAASrE,cAAzB,EAAyC;EACvC,eAAKgB,cAAL,CAAoB3F,IAApB,CAAyBkJ,QAAzB;EACD;EACF;EACF,KAhCD,EAgCG,IAhCH;;EAkCA,QAAI,KAAKvD,cAAL,CAAoBjJ,MAAxB,EAAgC;EAC9B,WAAK+I,SAAL,CAAe,KAAK0B,WAAL,EAAf,EAAmC,IAAnC;EACD;EACF,GAzCD;EA4CA;;;;;;;;;;;;;;EAYAlC,uBAAqBlC,SAArB,CAA+BkG,iCAA/B,GACI,UAAS3E,MAAT,EAAiBqE,QAAjB,EAA2B;EAE7B;EACA,QAAIxT,OAAOiU,gBAAP,CAAwB9E,MAAxB,EAAgC+E,OAAhC,IAA2C,MAA/C,EAAuD;EAEvD,QAAIzE,aAAarL,sBAAsB+K,MAAtB,CAAjB;EACA,QAAIG,mBAAmBG,UAAvB;EACA,QAAIhK,SAAS0O,cAAchF,MAAd,CAAb;EACA,QAAIiF,SAAS,KAAb;;EAEA,WAAO,CAACA,MAAR,EAAgB;EACd,UAAIC,aAAa,IAAjB;EACA,UAAIC,sBAAsB7O,OAAO0K,QAAP,IAAmB,CAAnB,GACtBnQ,OAAOiU,gBAAP,CAAwBxO,MAAxB,CADsB,GACY,EADtC,CAFc;;EAMd,UAAI6O,oBAAoBJ,OAApB,IAA+B,MAAnC,EAA2C;;EAE3C,UAAIzO,UAAU,KAAKyK,IAAf,IAAuBzK,UAAUzC,QAArC,EAA+C;EAC7CoR,iBAAS,IAAT;EACAC,qBAAab,QAAb;EACD,OAHD,MAGO;EACL;EACA;EACA;EACA;EACA,YAAI/N,UAAUzC,SAASuR,IAAnB,IACA9O,UAAUzC,SAAS2B,eADnB,IAEA2P,oBAAoBE,QAApB,IAAgC,SAFpC,EAE+C;EAC7CH,uBAAajQ,sBAAsBqB,MAAtB,CAAb;EACD;EACF,OArBa;EAwBd;;;EACA,UAAI4O,UAAJ,EAAgB;EACd/E,2BAAmBmF,wBAAwBJ,UAAxB,EAAoC/E,gBAApC,CAAnB;EAEA,YAAI,CAACA,gBAAL,EAAuB;EACxB;;EACD7J,eAAS0O,cAAc1O,MAAd,CAAT;EACD;;EACD,WAAO6J,gBAAP;EACD,GA5CD;EA+CA;;;;;;;EAKAQ,uBAAqBlC,SAArB,CAA+B6F,YAA/B,GAA8C,YAAW;EACvD,QAAID,QAAJ;;EACA,QAAI,KAAKtD,IAAT,EAAe;EACbsD,iBAAWpP,sBAAsB,KAAK8L,IAA3B,CAAX;EACD,KAFD,MAEO;EACL;EACA,UAAIrJ,OAAO7D,SAAS2B,eAApB;EACA,UAAI4P,OAAOvR,SAASuR,IAApB;EACAf,iBAAW;EACTvO,aAAK,CADI;EAETG,cAAM,CAFG;EAGTsP,eAAO7N,KAAK8N,WAAL,IAAoBJ,KAAKI,WAHvB;EAIThF,eAAO9I,KAAK8N,WAAL,IAAoBJ,KAAKI,WAJvB;EAKTC,gBAAQ/N,KAAKgO,YAAL,IAAqBN,KAAKM,YALzB;EAMTjF,gBAAQ/I,KAAKgO,YAAL,IAAqBN,KAAKM;EANzB,OAAX;EAQD;;EACD,WAAO,KAAKC,uBAAL,CAA6BtB,QAA7B,CAAP;EACD,GAlBD;EAqBA;;;;;;;;EAMA1D,uBAAqBlC,SAArB,CAA+BkH,uBAA/B,GAAyD,UAAS3Q,IAAT,EAAe;EACtE,QAAIoO,UAAU,KAAK9B,iBAAL,CAAuBM,GAAvB,CAA2B,UAASC,MAAT,EAAiB9H,CAAjB,EAAoB;EAC3D,aAAO8H,OAAOC,IAAP,IAAe,IAAf,GAAsBD,OAAOlN,KAA7B,GACHkN,OAAOlN,KAAP,IAAgBoF,IAAI,CAAJ,GAAQ/E,KAAKwL,KAAb,GAAqBxL,KAAKyL,MAA1C,IAAoD,GADxD;EAED,KAHa,CAAd;;EAIA,QAAImF,UAAU;EACZ9P,WAAKd,KAAKc,GAAL,GAAWsN,QAAQ,CAAR,CADJ;EAEZmC,aAAOvQ,KAAKuQ,KAAL,GAAanC,QAAQ,CAAR,CAFR;EAGZqC,cAAQzQ,KAAKyQ,MAAL,GAAcrC,QAAQ,CAAR,CAHV;EAIZnN,YAAMjB,KAAKiB,IAAL,GAAYmN,QAAQ,CAAR;EAJN,KAAd;EAMAwC,YAAQpF,KAAR,GAAgBoF,QAAQL,KAAR,GAAgBK,QAAQ3P,IAAxC;EACA2P,YAAQnF,MAAR,GAAiBmF,QAAQH,MAAR,GAAiBG,QAAQ9P,GAA1C;EAEA,WAAO8P,OAAP;EACD,GAfD;EAkBA;;;;;;;;;;;;EAUAjF,uBAAqBlC,SAArB,CAA+BoG,oBAA/B,GACI,UAASH,QAAT,EAAmBE,QAAnB,EAA6B;EAE/B;EACA;EACA,QAAIiB,WAAWnB,YAAYA,SAASrE,cAArB,GACXqE,SAAS7E,iBAAT,IAA8B,CADnB,GACuB,CAAC,CADvC;EAEA,QAAIiG,WAAWlB,SAASvE,cAAT,GACXuE,SAAS/E,iBAAT,IAA8B,CADnB,GACuB,CAAC,CADvC,CAN+B;;EAU/B,QAAIgG,aAAaC,QAAjB,EAA2B;;EAE3B,SAAK,IAAI/L,IAAI,CAAb,EAAgBA,IAAI,KAAK0H,UAAL,CAAgBrJ,MAApC,EAA4C2B,GAA5C,EAAiD;EAC/C,UAAI4H,YAAY,KAAKF,UAAL,CAAgB1H,CAAhB,CAAhB,CAD+C;EAI/C;;EACA,UAAI4H,aAAakE,QAAb,IAAyBlE,aAAamE,QAAtC,IACAnE,YAAYkE,QAAZ,KAAyBlE,YAAYmE,QADzC,EACmD;EACjD,eAAO,IAAP;EACD;EACF;EACF,GAvBD;EA0BA;;;;;;;EAKAnF,uBAAqBlC,SAArB,CAA+B2F,YAA/B,GAA8C,YAAW;EACvD,WAAO,CAAC,KAAKrD,IAAN,IAAcgF,aAAalS,QAAb,EAAuB,KAAKkN,IAA5B,CAArB;EACD,GAFD;EAKA;;;;;;;;EAMAJ,uBAAqBlC,SAArB,CAA+BgG,mBAA/B,GAAqD,UAASzE,MAAT,EAAiB;EACpE,WAAO+F,aAAa,KAAKhF,IAAL,IAAalN,QAA1B,EAAoCmM,MAApC,CAAP;EACD,GAFD;EAKA;;;;;;;EAKAW,uBAAqBlC,SAArB,CAA+B8D,iBAA/B,GAAmD,YAAW;AAC5D,EAGD,GAJD;EAOA;;;;;;EAIA5B,uBAAqBlC,SAArB,CAA+BkE,mBAA/B,GAAqD,YAAW;AAC9D,EAED,GAHD;EAMA;;;;;;;EAKA,WAASzQ,GAAT,GAAe;EACb,WAAOrB,OAAOmV,WAAP,IAAsBA,YAAY9T,GAAlC,IAAyC8T,YAAY9T,GAAZ,EAAhD;EACD;EAGD;;;;;;;;;;EAQA,WAASL,QAAT,CAAkBgI,EAAlB,EAAsBzI,OAAtB,EAA+B;EAC7B,QAAI6U,QAAQ,IAAZ;EACA,WAAO,YAAY;EACjB,UAAI,CAACA,KAAL,EAAY;EACVA,gBAAQrU,WAAW,YAAW;EAC5BiI;EACAoM,kBAAQ,IAAR;EACD,SAHO,EAGL7U,OAHK,CAAR;EAID;EACF,KAPD;EAQD;EAGD;;;;;;;;;;EAQA,WAASsS,QAAT,CAAkBwC,IAAlB,EAAwBC,KAAxB,EAA+BtM,EAA/B,EAAmCuM,cAAnC,EAAmD;EACjD,QAAI,OAAOF,KAAKG,gBAAZ,IAAgC,UAApC,EAAgD;EAC9CH,WAAKG,gBAAL,CAAsBF,KAAtB,EAA6BtM,EAA7B,EAAiCuM,kBAAkB,KAAnD;EACD,KAFD,MAGK,IAAI,OAAOF,KAAKI,WAAZ,IAA2B,UAA/B,EAA2C;EAC9CJ,WAAKI,WAAL,CAAiB,OAAOH,KAAxB,EAA+BtM,EAA/B;EACD;EACF;EAGD;;;;;;;;;;EAQA,WAASqK,WAAT,CAAqBgC,IAArB,EAA2BC,KAA3B,EAAkCtM,EAAlC,EAAsCuM,cAAtC,EAAsD;EACpD,QAAI,OAAOF,KAAKK,mBAAZ,IAAmC,UAAvC,EAAmD;EACjDL,WAAKK,mBAAL,CAAyBJ,KAAzB,EAAgCtM,EAAhC,EAAoCuM,kBAAkB,KAAtD;EACD,KAFD,MAGK,IAAI,OAAOF,KAAKM,YAAZ,IAA4B,UAAhC,EAA4C;EAC/CN,WAAKM,YAAL,CAAkB,OAAOL,KAAzB,EAAgCtM,EAAhC;EACD;EACF;EAGD;;;;;;;;;EAOA,WAASyL,uBAAT,CAAiCmB,KAAjC,EAAwCC,KAAxC,EAA+C;EAC7C,QAAI5Q,MAAMjB,KAAK+D,GAAL,CAAS6N,MAAM3Q,GAAf,EAAoB4Q,MAAM5Q,GAA1B,CAAV;EACA,QAAI2P,SAAS5Q,KAAKgE,GAAL,CAAS4N,MAAMhB,MAAf,EAAuBiB,MAAMjB,MAA7B,CAAb;EACA,QAAIxP,OAAOpB,KAAK+D,GAAL,CAAS6N,MAAMxQ,IAAf,EAAqByQ,MAAMzQ,IAA3B,CAAX;EACA,QAAIsP,QAAQ1Q,KAAKgE,GAAL,CAAS4N,MAAMlB,KAAf,EAAsBmB,MAAMnB,KAA5B,CAAZ;EACA,QAAI/E,QAAQ+E,QAAQtP,IAApB;EACA,QAAIwK,SAASgF,SAAS3P,GAAtB;EAEA,WAAQ0K,SAAS,CAAT,IAAcC,UAAU,CAAzB,IAA+B;EACpC3K,WAAKA,GAD+B;EAEpC2P,cAAQA,MAF4B;EAGpCxP,YAAMA,IAH8B;EAIpCsP,aAAOA,KAJ6B;EAKpC/E,aAAOA,KAL6B;EAMpCC,cAAQA;EAN4B,KAAtC;EAQD;EAGD;;;;;;;EAKA,WAASxL,qBAAT,CAA+B3C,EAA/B,EAAmC;EACjC,QAAI0C,IAAJ;;EAEA,QAAI;EACFA,aAAO1C,GAAG2C,qBAAH,EAAP;EACD,KAFD,CAEE,OAAOqK,GAAP,EAAY;EAEZ;EACD;;EAED,QAAI,CAACtK,IAAL,EAAW,OAAOoL,cAAP,CAVsB;;EAajC,QAAI,EAAEpL,KAAKwL,KAAL,IAAcxL,KAAKyL,MAArB,CAAJ,EAAkC;EAChCzL,aAAO;EACLc,aAAKd,KAAKc,GADL;EAELyP,eAAOvQ,KAAKuQ,KAFP;EAGLE,gBAAQzQ,KAAKyQ,MAHR;EAILxP,cAAMjB,KAAKiB,IAJN;EAKLuK,eAAOxL,KAAKuQ,KAAL,GAAavQ,KAAKiB,IALpB;EAMLwK,gBAAQzL,KAAKyQ,MAAL,GAAczQ,KAAKc;EANtB,OAAP;EAQD;;EACD,WAAOd,IAAP;EACD;EAGD;;;;;;;EAKA,WAASoL,YAAT,GAAwB;EACtB,WAAO;EACLtK,WAAK,CADA;EAEL2P,cAAQ,CAFH;EAGLxP,YAAM,CAHD;EAILsP,aAAO,CAJF;EAKL/E,aAAO,CALF;EAMLC,cAAQ;EANH,KAAP;EAQD;EAED;;;;;;;;;EAOA,WAASsF,YAAT,CAAsBzP,MAAtB,EAA8BqQ,KAA9B,EAAqC;EACnC,QAAIT,OAAOS,KAAX;;EACA,WAAOT,IAAP,EAAa;EACX,UAAIA,QAAQ5P,MAAZ,EAAoB,OAAO,IAAP;EAEpB4P,aAAOlB,cAAckB,IAAd,CAAP;EACD;;EACD,WAAO,KAAP;EACD;EAGD;;;;;;;;EAMA,WAASlB,aAAT,CAAuBkB,IAAvB,EAA6B;EAC3B,QAAI5P,SAAS4P,KAAK3P,UAAlB;;EAEA,QAAID,UAAUA,OAAO0K,QAAP,IAAmB,EAA7B,IAAmC1K,OAAOsQ,IAA9C,EAAoD;EAClD;EACA,aAAOtQ,OAAOsQ,IAAd;EACD;;EACD,WAAOtQ,MAAP;EACD,GAnsB2B;;;EAusB5BzF,SAAO8P,oBAAP,GAA8BA,oBAA9B;EACA9P,SAAO4O,yBAAP,GAAmCA,yBAAnC;EAEC,CA1sBA,EA0sBC5O,MA1sBD,EA0sBSgD,QA1sBT,CAAD;;ECTA;;;;;;;;;EASA;;EAEA;EAEA,IAAI,cAAchD,OAAO+L,IAAzB,EAA+B;EAE/B;EACA;EACA,MAAI,EAAE,eAAe/I,SAAS2D,aAAT,CAAuB,GAAvB,CAAjB,KACA3D,SAASgT,eAAT,IAA4B,EAAE,eAAehT,SAASgT,eAAT,CAAyB,4BAAzB,EAAsD,GAAtD,CAAjB,CADhC,EAC8G;EAE7G,eAAUC,IAAV,EAAgB;AAEjB;EAEA,UAAI,EAAE,aAAaA,IAAf,CAAJ,EAA0B;;EAE1B,UACGC,gBAAgB,WADnB;EAAA,UAEGC,YAAY,WAFf;EAAA,UAGGC,eAAeH,KAAKI,OAAL,CAAaF,SAAb,CAHlB;EAAA,UAIGG,SAASzH,MAJZ;EAAA,UAKG0H,UAAUC,OAAOL,SAAP,EAAkBM,IAAlB,IAA0B,YAAY;EACjD,eAAO,KAAKjU,OAAL,CAAa,YAAb,EAA2B,EAA3B,CAAP;EACA,OAPF;EAAA,UAQGkU,aAAavO,MAAMgO,SAAN,EAAiBvS,OAAjB,IAA4B,UAAU4N,IAAV,EAAgB;EAC1D,YACGtI,IAAI,CADP;EAAA,YAEGmE,MAAM,KAAK9F,MAFd;;EAIA,eAAO2B,IAAImE,GAAX,EAAgBnE,GAAhB,EAAqB;EACpB,cAAIA,KAAK,IAAL,IAAa,KAAKA,CAAL,MAAYsI,IAA7B,EAAmC;EAClC,mBAAOtI,CAAP;EACA;EACD;;EACD,eAAO,CAAC,CAAR;EACA,OAnBF;EAAA;EAAA,UAqBGyN,QAAQ,SAARA,KAAQ,CAAUC,IAAV,EAAgBC,OAAhB,EAAyB;EAClC,aAAKC,IAAL,GAAYF,IAAZ;EACA,aAAKG,IAAL,GAAYC,aAAaJ,IAAb,CAAZ;EACA,aAAKC,OAAL,GAAeA,OAAf;EACA,OAzBF;EAAA,UA0BGI,wBAAwB,SAAxBA,qBAAwB,CAAUtV,SAAV,EAAqBuV,KAArB,EAA4B;EACrD,YAAIA,UAAU,EAAd,EAAkB;EACjB,gBAAM,IAAIP,KAAJ,CACH,YADG,EAEH,4CAFG,CAAN;EAIA;;EACD,YAAI,KAAK7R,IAAL,CAAUoS,KAAV,CAAJ,EAAsB;EACrB,gBAAM,IAAIP,KAAJ,CACH,uBADG,EAEH,sCAFG,CAAN;EAIA;;EACD,eAAOD,WAAWxI,IAAX,CAAgBvM,SAAhB,EAA2BuV,KAA3B,CAAP;EACA,OAxCF;EAAA,UAyCGC,YAAY,SAAZA,SAAY,CAAU1T,IAAV,EAAgB;EAC7B,YACG2T,iBAAiBb,QAAQrI,IAAR,CAAazK,KAAK4T,YAAL,CAAkB,OAAlB,KAA8B,EAA3C,CADpB;EAAA,YAEG3V,UAAU0V,iBAAiBA,eAAe5O,KAAf,CAAqB,KAArB,CAAjB,GAA+C,EAF5D;EAAA,YAGGU,IAAI,CAHP;EAAA,YAIGmE,MAAM3L,QAAQ6F,MAJjB;;EAMA,eAAO2B,IAAImE,GAAX,EAAgBnE,GAAhB,EAAqB;EACpB,eAAK2B,IAAL,CAAUnJ,QAAQwH,CAAR,CAAV;EACA;;EACD,aAAKoO,gBAAL,GAAwB,YAAY;EACnC7T,eAAK8T,YAAL,CAAkB,OAAlB,EAA2B,KAAKlQ,QAAL,EAA3B;EACA,SAFD;EAGA,OAtDF;EAAA,UAuDGmQ,iBAAiBL,UAAUhB,SAAV,IAAuB,EAvD3C;EAAA,UAwDGsB,kBAAkB,SAAlBA,eAAkB,GAAY;EAC/B,eAAO,IAAIN,SAAJ,CAAc,IAAd,CAAP;EACA,OA1DF,CANiB;EAmEjB;;;EACAR,YAAMR,SAAN,IAAmBlG,MAAMkG,SAAN,CAAnB;;EACAqB,qBAAehG,IAAf,GAAsB,UAAUtI,CAAV,EAAa;EAClC,eAAO,KAAKA,CAAL,KAAW,IAAlB;EACA,OAFD;;EAGAsO,qBAAexV,QAAf,GAA0B,UAAUkV,KAAV,EAAiB;EAC1CA,iBAAS,EAAT;EACA,eAAOD,sBAAsB,IAAtB,EAA4BC,KAA5B,MAAuC,CAAC,CAA/C;EACA,OAHD;;EAIAM,qBAAe5V,GAAf,GAAqB,YAAY;EAChC,YACG8V,SAAShX,SADZ;EAAA,YAEGwI,IAAI,CAFP;EAAA,YAGGD,IAAIyO,OAAOnQ,MAHd;EAAA,YAIG2P,KAJH;EAAA,YAKGS,UAAU,KALb;;EAOA,WAAG;EACFT,kBAAQQ,OAAOxO,CAAP,IAAY,EAApB;;EACA,cAAI+N,sBAAsB,IAAtB,EAA4BC,KAA5B,MAAuC,CAAC,CAA5C,EAA+C;EAC9C,iBAAKrM,IAAL,CAAUqM,KAAV;EACAS,sBAAU,IAAV;EACA;EACD,SAND,QAOO,EAAEzO,CAAF,GAAMD,CAPb;;EASA,YAAI0O,OAAJ,EAAa;EACZ,eAAKL,gBAAL;EACA;EACD,OApBD;;EAqBAE,qBAAe1V,MAAf,GAAwB,YAAY;EACnC,YACG4V,SAAShX,SADZ;EAAA,YAEGwI,IAAI,CAFP;EAAA,YAGGD,IAAIyO,OAAOnQ,MAHd;EAAA,YAIG2P,KAJH;EAAA,YAKGS,UAAU,KALb;EAAA,YAMGC,KANH;;EAQA,WAAG;EACFV,kBAAQQ,OAAOxO,CAAP,IAAY,EAApB;EACA0O,kBAAQX,sBAAsB,IAAtB,EAA4BC,KAA5B,CAAR;;EACA,iBAAOU,UAAU,CAAC,CAAlB,EAAqB;EACpB,iBAAKC,MAAL,CAAYD,KAAZ,EAAmB,CAAnB;EACAD,sBAAU,IAAV;EACAC,oBAAQX,sBAAsB,IAAtB,EAA4BC,KAA5B,CAAR;EACA;EACD,SARD,QASO,EAAEhO,CAAF,GAAMD,CATb;;EAWA,YAAI0O,OAAJ,EAAa;EACZ,eAAKL,gBAAL;EACA;EACD,OAvBD;;EAwBAE,qBAAetV,MAAf,GAAwB,UAAUgV,KAAV,EAAiBY,KAAjB,EAAwB;EAC/CZ,iBAAS,EAAT;EAEA,YACGa,SAAS,KAAK/V,QAAL,CAAckV,KAAd,CADZ;EAAA,YAEGc,SAASD,SACVD,UAAU,IAAV,IAAkB,QADR,GAGVA,UAAU,KAAV,IAAmB,KALrB;;EAQA,YAAIE,MAAJ,EAAY;EACX,eAAKA,MAAL,EAAad,KAAb;EACA;;EAED,YAAIY,UAAU,IAAV,IAAkBA,UAAU,KAAhC,EAAuC;EACtC,iBAAOA,KAAP;EACA,SAFD,MAEO;EACN,iBAAO,CAACC,MAAR;EACA;EACD,OApBD;;EAqBAP,qBAAenQ,QAAf,GAA0B,YAAY;EACrC,eAAO,KAAK6J,IAAL,CAAU,GAAV,CAAP;EACA,OAFD;;EAIA,UAAIoF,OAAOxH,cAAX,EAA2B;EAC1B,YAAImJ,oBAAoB;EACrBlJ,eAAK0I,eADgB;EAErBS,sBAAY,IAFS;EAGrBC,wBAAc;EAHO,SAAxB;;EAKA,YAAI;EACH7B,iBAAOxH,cAAP,CAAsBsH,YAAtB,EAAoCF,aAApC,EAAmD+B,iBAAnD;EACA,SAFD,CAEE,OAAOxK,EAAP,EAAW;EAAE;EACd;EACA;EACA,cAAIA,GAAGrH,MAAH,KAAcsH,SAAd,IAA2BD,GAAGrH,MAAH,KAAc,CAAC,UAA9C,EAA0D;EACzD6R,8BAAkBC,UAAlB,GAA+B,KAA/B;EACA5B,mBAAOxH,cAAP,CAAsBsH,YAAtB,EAAoCF,aAApC,EAAmD+B,iBAAnD;EACA;EACD;EACD,OAhBD,MAgBO,IAAI3B,OAAOH,SAAP,EAAkBiC,gBAAtB,EAAwC;EAC9ChC,qBAAagC,gBAAb,CAA8BlC,aAA9B,EAA6CuB,eAA7C;EACA;EAEA,KAtKA,EAsKCzX,OAAO+L,IAtKR,CAAD;EAwKC,GA/K8B;EAkL/B;;;EAEC,eAAY;AACZ;EAEA,QAAIsM,cAAcrV,SAAS2D,aAAT,CAAuB,GAAvB,CAAlB;EAEA0R,gBAAY1W,SAAZ,CAAsBC,GAAtB,CAA0B,IAA1B,EAAgC,IAAhC,EALY;EAQZ;;EACA,QAAI,CAACyW,YAAY1W,SAAZ,CAAsBK,QAAtB,CAA+B,IAA/B,CAAL,EAA2C;EAC1C,UAAIsW,eAAe,SAAfA,YAAe,CAASN,MAAT,EAAiB;EACnC,YAAIO,WAAWC,aAAa5K,SAAb,CAAuBoK,MAAvB,CAAf;;EAEAQ,qBAAa5K,SAAb,CAAuBoK,MAAvB,IAAiC,UAASd,KAAT,EAAgB;EAChD,cAAIhO,CAAJ;EAAA,cAAOmE,MAAM3M,UAAU6G,MAAvB;;EAEA,eAAK2B,IAAI,CAAT,EAAYA,IAAImE,GAAhB,EAAqBnE,GAArB,EAA0B;EACzBgO,oBAAQxW,UAAUwI,CAAV,CAAR;EACAqP,qBAASrK,IAAT,CAAc,IAAd,EAAoBgJ,KAApB;EACA;EACD,SAPD;EAQA,OAXD;;EAYAoB,mBAAa,KAAb;EACAA,mBAAa,QAAb;EACA;;EAEDD,gBAAY1W,SAAZ,CAAsBO,MAAtB,CAA6B,IAA7B,EAAmC,KAAnC,EA1BY;EA6BZ;;EACA,QAAImW,YAAY1W,SAAZ,CAAsBK,QAAtB,CAA+B,IAA/B,CAAJ,EAA0C;EACzC,UAAIyW,UAAUD,aAAa5K,SAAb,CAAuB1L,MAArC;;EAEAsW,mBAAa5K,SAAb,CAAuB1L,MAAvB,GAAgC,UAASgV,KAAT,EAAgBY,KAAhB,EAAuB;EACtD,YAAI,KAAKpX,SAAL,IAAkB,CAAC,KAAKsB,QAAL,CAAckV,KAAd,CAAD,KAA0B,CAACY,KAAjD,EAAwD;EACvD,iBAAOA,KAAP;EACA,SAFD,MAEO;EACN,iBAAOW,QAAQvK,IAAR,CAAa,IAAb,EAAmBgJ,KAAnB,CAAP;EACA;EACD,OAND;EAQA;;EAEDmB,kBAAc,IAAd;EACA,GA5CA,GAAD;EA8CC;;EC/OD;EACA;EACA,IAAI,CAAClQ,MAAMuQ,IAAX,EAAiB;EACfvQ,QAAMuQ,IAAN,GAAc,YAAW;EACvB,QAAIC,QAAQ9J,OAAOjB,SAAP,CAAiBvG,QAA7B;;EACA,QAAIuR,aAAa,SAAbA,UAAa,CAAS5P,EAAT,EAAa;EAC5B,aAAO,OAAOA,EAAP,KAAc,UAAd,IAA4B2P,MAAMzK,IAAN,CAAWlF,EAAX,MAAmB,mBAAtD;EACD,KAFD;;EAGA,QAAI6P,YAAY,SAAZA,SAAY,CAAS/U,KAAT,EAAgB;EAC9B,UAAIsC,SAAS9E,OAAOwC,KAAP,CAAb;;EACA,UAAIoC,MAAME,MAAN,CAAJ,EAAmB;EACjB,eAAO,CAAP;EACD;;EACD,UAAIA,WAAW,CAAX,IAAgB,CAACC,SAASD,MAAT,CAArB,EAAuC;EACrC,eAAOA,MAAP;EACD;;EACD,aAAO,CAACA,SAAS,CAAT,GAAa,CAAb,GAAiB,CAAC,CAAnB,IAAwBpC,KAAKmD,KAAL,CAAWnD,KAAK8U,GAAL,CAAS1S,MAAT,CAAX,CAA/B;EACD,KATD;;EAUA,QAAI2S,iBAAiB/U,KAAK4D,GAAL,CAAS,CAAT,EAAY,EAAZ,IAAkB,CAAvC;;EACA,QAAIoR,WAAW,SAAXA,QAAW,CAASlV,KAAT,EAAgB;EAC7B,UAAIuJ,MAAMwL,UAAU/U,KAAV,CAAV;EACA,aAAOE,KAAKgE,GAAL,CAAShE,KAAK+D,GAAL,CAASsF,GAAT,EAAc,CAAd,CAAT,EAA2B0L,cAA3B,CAAP;EACD,KAHD,CAhBuB;;;EAsBvB,WAAO,SAASL,IAAT,CAAcO;EAAU;EAAxB,MAA+C;EACpD;EACA,UAAIC,IAAI,IAAR,CAFoD;;EAKpD,UAAIC,QAAQtK,OAAOoK,SAAP,CAAZ,CALoD;;EAQpD,UAAIA,aAAa,IAAjB,EAAuB;EACrB,cAAM,IAAIjM,SAAJ,CACJ,kEADI,CAAN;EAGD,OAZmD;;;EAepD,UAAIoM,QAAQ1Y,UAAU6G,MAAV,GAAmB,CAAnB,GAAuB7G,UAAU,CAAV,CAAvB,GAAsC,KAAKgN,SAAvD;EACA,UAAI2L,CAAJ;;EACA,UAAI,OAAOD,KAAP,KAAiB,WAArB,EAAkC;EAChC;EACA;EACA,YAAI,CAACR,WAAWQ,KAAX,CAAL,EAAwB;EACtB,gBAAM,IAAIpM,SAAJ,CACJ,mEADI,CAAN;EAGD,SAP+B;;;EAUhC,YAAItM,UAAU6G,MAAV,GAAmB,CAAvB,EAA0B;EACxB8R,cAAI3Y,UAAU,CAAV,CAAJ;EACD;EACF,OA9BmD;EAiCpD;;;EACA,UAAI2M,MAAM2L,SAASG,MAAM5R,MAAf,CAAV,CAlCoD;EAqCpD;EACA;EACA;;EACA,UAAI+R,IAAIV,WAAWM,CAAX,IAAgBrK,OAAO,IAAIqK,CAAJ,CAAM7L,GAAN,CAAP,CAAhB,GAAqC,IAAIlF,KAAJ,CAAUkF,GAAV,CAA7C,CAxCoD;;EA2CpD,UAAIkM,IAAI,CAAR,CA3CoD;;EA6CpD,UAAIC,MAAJ;;EACA,aAAOD,IAAIlM,GAAX,EAAgB;EACdmM,iBAASL,MAAMI,CAAN,CAAT;;EACA,YAAIH,KAAJ,EAAW;EACTE,YAAEC,CAAF,IACE,OAAOF,CAAP,KAAa,WAAb,GACID,MAAMI,MAAN,EAAcD,CAAd,CADJ,GAEIH,MAAMlL,IAAN,CAAWmL,CAAX,EAAcG,MAAd,EAAsBD,CAAtB,CAHN;EAID,SALD,MAKO;EACLD,YAAEC,CAAF,IAAOC,MAAP;EACD;;EACDD,aAAK,CAAL;EACD,OAzDmD;;;EA2DpDD,QAAE/R,MAAF,GAAW8F,GAAX,CA3DoD;;EA6DpD,aAAOiM,CAAP;EACD,KA9DD;EA+DD,GArFY,EAAb;EAsFD;;ECzFD;EACA;EACA,CAAC,UAASG,YAAT,EAAuB;EACtB,MAAI,OAAOA,aAAaC,OAApB,KAAgC,UAApC,EAAgD;EAC9CD,iBAAaC,OAAb,GACED,aAAaE,iBAAb,IACAF,aAAaG,kBADb,IAEAH,aAAaI,qBAFb,IAGA,SAASH,OAAT,CAAiBlP,QAAjB,EAA2B;EACzB,UAAIiH,UAAU,IAAd;EACA,UAAIqI,WAAW,CACbrI,QAAQzO,QAAR,IAAoByO,QAAQnN,aADf,EAEbyV,gBAFa,CAEIvP,QAFJ,CAAf;EAGA,UAAIoN,QAAQ,CAAZ;;EAEA,aAAOkC,SAASlC,KAAT,KAAmBkC,SAASlC,KAAT,MAAoBnG,OAA9C,EAAuD;EACrD,UAAEmG,KAAF;EACD;;EAED,aAAOoC,QAAQF,SAASlC,KAAT,CAAR,CAAP;EACD,KAhBH;EAiBD;;EAED,MAAI,OAAO6B,aAAa5V,OAApB,KAAgC,UAApC,EAAgD;EAC9C4V,iBAAa5V,OAAb,GAAuB,SAASA,OAAT,CAAiB2G,QAAjB,EAA2B;EAChD,UAAIiH,UAAU,IAAd;;EAEA,aAAOA,WAAWA,QAAQtB,QAAR,KAAqB,CAAvC,EAA0C;EACxC,YAAIsB,QAAQiI,OAAR,CAAgBlP,QAAhB,CAAJ,EAA+B;EAC7B,iBAAOiH,OAAP;EACD;;EAEDA,kBAAUA,QAAQ/L,UAAlB;EACD;;EAED,aAAO,IAAP;EACD,KAZD;EAaD;EACF,CApCD,EAoCG1F,OAAOqW,OAAP,CAAezI,SApClB;;ECFA;EACA;EACA,IAAI,CAACzF,MAAMyF,SAAN,CAAgB8F,OAArB,EAA8B;EAC5BvL,QAAMyF,SAAN,CAAgB8F,OAAhB,GAA0B,UAAShL,QAAT,EAAmBmD,OAAnB,EAA4B;EACpD,QAAIwN,CAAJ,EAAOE,CAAP;;EAEA,QAAI,SAAS,IAAb,EAAmB;EACjB,YAAM,IAAIvM,SAAJ,CAAc,8BAAd,CAAN;EACD,KALmD;;;EAQpD,QAAMiN,IAAIpL,OAAO,IAAP,CAAV,CARoD;EAWpD;;EACA,QAAMxB,MAAM4M,EAAE1S,MAAF,KAAa,CAAzB,CAZoD;EAepD;;EACA,QAAI,OAAOmB,QAAP,KAAoB,UAAxB,EAAoC;EAClC,YAAM,IAAIsE,SAAJ,WAAiBtE,QAAjB,wBAAN;EACD,KAlBmD;;;EAqBpD,QAAIhI,UAAU6G,MAAV,GAAmB,CAAvB,EAA0B;EACxB8R,UAAIxN,OAAJ;EACD,KAvBmD;;;EA0BpD0N,QAAI,CAAJ,CA1BoD;;EA6BpD,WAAOA,IAAIlM,GAAX,EAAgB;EACd,UAAImM,eAAJ,CADc;EAId;EACA;EACA;EACA;;EACA,UAAID,KAAKU,CAAT,EAAY;EACV;EACAT,iBAASS,EAAEV,CAAF,CAAT,CAFU;EAKV;;EACA7Q,iBAASwF,IAAT,CAAcmL,CAAd,EAAiBG,MAAjB,EAAyBD,CAAzB,EAA4BU,CAA5B;EACD,OAfa;;;EAiBdV;EACD,KA/CmD;;EAiDrD,GAjDD;EAkDD;;ECrDD;EAEA;EACA;EACA,IAAI,CAACpR,MAAMyF,SAAN,CAAgBmD,GAArB,EAA0B;EACxB5I,QAAMyF,SAAN,CAAgBmD,GAAhB,GAAsB,UAASmJ;EAAI;EAAb,IAA8B;AAClD;EAEA,QAAI,SAAS,KAAK,CAAd,IAAmB,SAAS,IAAhC,EAAsC;EACpC,YAAM,IAAIlN,SAAJ,EAAN;EACD;;EAED,QAAIoF,IAAIvD,OAAO,IAAP,CAAR;EACA,QAAIxB,MAAM+E,EAAE7K,MAAF,KAAa,CAAvB;;EAEA,QAAI,OAAO2S,GAAP,KAAe,UAAnB,EAA+B;EAC7B,YAAM,IAAIlN,SAAJ,EAAN;EACD;;EAED,QAAIoB,MAAM,IAAIjG,KAAJ,CAAUkF,GAAV,CAAV;EACA,QAAIxB,UAAUnL,UAAU6G,MAAV,IAAoB,CAApB,GAAwB7G,UAAU,CAAV,CAAxB,GAAuC,KAAK,CAA1D;;EAEA,SAAK,IAAIwI,IAAI,CAAb,EAAgBA,IAAImE,GAApB,EAAyBnE,GAAzB,EAA8B;EAC5B;EACA;EACA;EACA;EACA;EACA,UAAIA,KAAKkJ,CAAT,EAAY;EACVhE,YAAIlF,CAAJ,IAASgR,IAAIhM,IAAJ,CAASrC,OAAT,EAAkBuG,EAAElJ,CAAF,CAAlB,EAAwBA,CAAxB,EAA2BkJ,CAA3B,CAAT;EACD;EACF;;EAED,WAAOhE,GAAP;EACD,GA7BD;EA8BD;;ECnCD;EACA,IAAI,OAAOS,OAAOsL,MAAd,KAAyB,UAA7B,EAAyC;EACvC;EACAtL,SAAOC,cAAP,CAAsBD,MAAtB,EAA8B,QAA9B,EAAwC;EACtC/K,WAAO,SAASqW,MAAT,CAAgBhL,MAAhB,EAAwBiL,OAAxB,EAAiC;EACtC;EAEA,UAAIjL,UAAU,IAAd,EAAoB;EAClB;EACA,cAAM,IAAInC,SAAJ,CAAc,4CAAd,CAAN;EACD;;EAED,UAAIjJ,KAAK8K,OAAOM,MAAP,CAAT;;EAEA,WAAK,IAAIyI,QAAQ,CAAjB,EAAoBA,QAAQlX,UAAU6G,MAAtC,EAA8CqQ,OAA9C,EAAuD;EACrD,YAAIyC,aAAa3Z,UAAUkX,KAAV,CAAjB;;EAEA,YAAIyC,cAAc,IAAlB,EAAwB;EACtB;EACA,eAAK,IAAIC,OAAT,IAAoBD,UAApB,EAAgC;EAC9B;EACA,gBAAIxL,OAAOjB,SAAP,CAAiB2M,cAAjB,CAAgCrM,IAAhC,CAAqCmM,UAArC,EAAiDC,OAAjD,CAAJ,EAA+D;EAC7DvW,iBAAGuW,OAAH,IAAcD,WAAWC,OAAX,CAAd;EACD;EACF;EACF;EACF;;EACD,aAAOvW,EAAP;EACD,KAzBqC;EA0BtCyW,cAAU,IA1B4B;EA2BtCrC,kBAAc;EA3BwB,GAAxC;EA6BD;;EChCD;EAEC,aAAW;EACV,MAAIsC,WAAW,CAAf;EACA,MAAIC,UAAU,CAAC,QAAD,EAAW,KAAX,CAAd;;EAEA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,QAAQnT,MAAZ,IAAsB,CAACvH,OAAO4a,qBAA9C,EAAqE,EAAED,CAAvE,EAA0E;EACxE3a,WAAO4a,qBAAP,GAA+B5a,OAAO0a,QAAQC,CAAR,IAAa,uBAApB,CAA/B;EACA3a,WAAO6a,oBAAP,GACE7a,OAAO0a,QAAQC,CAAR,IAAa,sBAApB,KACA3a,OAAO0a,QAAQC,CAAR,IAAa,6BAApB,CAFF;EAGD;;EAED,MAAI,CAAC3a,OAAO4a,qBAAZ,EAAmC;EACjC5a,WAAO4a,qBAAP,GAA+B,UAASlS,QAAT,EAAmB+I,OAAnB,EAA4B;EACzD,UAAIqJ,WAAW,IAAIvZ,IAAJ,GAAW+F,OAAX,EAAf;EACA,UAAIyT,aAAa/W,KAAK+D,GAAL,CAAS,CAAT,EAAY,MAAM+S,WAAWL,QAAjB,CAAZ,CAAjB;EACA,UAAI3P,KAAK9K,OAAOe,UAAP,CAAkB,YAAW;EACpC2H,iBAASoS,WAAWC,UAApB;EACD,OAFQ,EAENA,UAFM,CAAT;EAIAN,iBAAWK,WAAWC,UAAtB;EACA,aAAOjQ,EAAP;EACD,KATD;EAUD;;EAED,MAAI,CAAC9K,OAAO6a,oBAAZ,EAAkC;EAChC7a,WAAO6a,oBAAP,GAA8B,UAAS/P,EAAT,EAAa;EACzC9K,aAAOc,YAAP,CAAoBgK,EAApB;EACD,KAFD;EAGD;EACF,CA7BA,GAAD;;ECFA;EAEC,aAAW;EACV,MAAI,aAAa9H,SAAS2D,aAAT,CAAuB,UAAvB,CAAjB,EAAqD;EACnD,WAAO,KAAP;EACD;;EAED,MAAIqU,YAAYhY,SAASiY,oBAAT,CAA8B,UAA9B,CAAhB;EACA,MAAIC,WAAWF,UAAUzT,MAAzB;;EAEA,OAAK,IAAIoT,IAAI,CAAb,EAAgBA,IAAIO,QAApB,EAA8B,EAAEP,CAAhC,EAAmC;EACjC,QAAIQ,WAAWH,UAAUL,CAAV,CAAf;EACA,QAAIS,UAAUD,SAASE,UAAvB;EACA,QAAIC,WAAWtY,SAASuY,sBAAT,EAAf;;EAEA,WAAOH,QAAQ,CAAR,CAAP,EAAmB;EACjBE,eAAS1V,WAAT,CAAqBwV,QAAQ,CAAR,CAArB;EACD;;EAEDD,aAASC,OAAT,GAAmBE,QAAnB;EACD;EACF,CAnBA,GAAD;;ECFA;EACAtX,KAAKwX,KAAL,GACExX,KAAKwX,KAAL,IACA,UAASb,CAAT,EAAY;EACV,SAAOA,IAAI,CAAJ,GAAQ3W,KAAKyX,IAAL,CAAUd,CAAV,CAAR,GAAuB3W,KAAKmD,KAAL,CAAWwT,CAAX,CAA9B;EACD,CAJH;;ECDA;EACC,aAAW;EACV,MAAI,OAAO3a,OAAO0b,WAAd,KAA8B,UAAlC,EAA8C;EAC5C,WAAO,KAAP;EACD;;EAED,WAASA,WAAT,CAAqBpG,KAArB,EAA4BqG,MAA5B,EAAoC;EAClCA,aAASA,UAAU;EAACC,eAAS,KAAV;EAAiBC,kBAAY,KAA7B;EAAoCC,cAAQpO;EAA5C,KAAnB;EACA,QAAI7K,MAAMG,SAASC,WAAT,CAAqB,aAArB,CAAV;EAEAJ,QAAIkZ,eAAJ,CAAoBzG,KAApB,EAA2BqG,OAAOC,OAAlC,EAA2CD,OAAOE,UAAlD,EAA8DF,OAAOG,MAArE;EACA,WAAOjZ,GAAP;EACD;;EAED6Y,cAAY9N,SAAZ,GAAwB5N,OAAOgc,KAAP,CAAapO,SAArC;EAEA5N,SAAO0b,WAAP,GAAqBA,WAArB;EACD,CAhBA,GAAD;;ACDA,WAAe;EACb,0BAAwB,YADX;EAEb,sBAAoB,MAFP;EAGb,6BAA2B,sBAHd;EAIb,0BAAwB,0BAJX;EAKb,uBAAqB,gBALR;EAMb,uBAAqB,cANR;EAOb,yBAAuB,gCAPV;EAQb,yBAAuB,6BARV;EASb,0BAAwB,aATX;EAUb,oBAAkB,aAVL;EAWb,sBAAoB,MAXP;EAYb,wBAAsB,QAZT;EAab,mCAAiC,mBAbpB;EAcb,8BAA4B,cAdf;EAeb,mCAAiC,oBAfpB;EAgBb,6BAA2B,iBAhBd;EAiBb,qCAAmC,WAjBtB;EAkBb,8BAA4B,gBAlBf;EAmBb,uBAAqB,0BAnBR;EAoBb,4BAA0B,iCApBb;EAqBb,sBAAoB,mBArBP;EAsBb,+BAA6B,6CAtBhB;EAuBb,wBAAsB,mCAvBT;EAwBb,kCAAgC,sCAxBnB;EAyBb,0BAAwB,yCAzBX;EA0Bb,2BAAyB;EA1BZ,CAAf;;MCEMO;;;EACJ,yBAAc;EAAA;;EACZ,SAAKC,IAAL,GAAYC,EAAZ;EACD;;;;wBAECC,KAAc;EACd,UAAIC,QAAQ,KAAKH,IAAL,CAAUE,GAAV,CAAZ;;EAEA,UAAGC,KAAH,EAAU;EACR,YAAInT,IAAI,CAAR;;EADQ,0CAHFzI,IAGE;EAHFA,cAGE;EAAA;;EAGR,8BAAgBA,IAAhB,eAAsB;EAAjB,cAAI6b,MAAO7b,IAAP,IAAJ;EACHyI;EACAmT,kBAAQA,MAAM7Z,OAAN,CAAc,MAAM0G,CAApB,EAAuBoT,IAAIjV,QAAJ,EAAvB,CAAR;EACD;EACF,OAPD,MAOO;EACL,eAAO+U,GAAP;EACD;;EACD,aAAOC,KAAP;EACD;;;;;;ECrBHrc,OAAOC,EAAP,GAAYD,OAAOC,EAAP,IAAa,EAAzB;EACAA,GAAGC,EAAH,GAAQD,GAAGC,EAAH,IAAS,KAAjB;AAEA;EAQA,IAAI,CAACF,OAAOqM,OAAZ,EAAqB;EACnBrM,SAAOqM,OAAP,GAAiBA,SAAjB;EACD;EAgBDpM,GAAGic,IAAH,GAAU,IAAID,WAAJ,EAAV;;MC7BMM;;;EACJ,wBAAc;EAAA;;EACZ,SAAKzY,KAAL,GAAa,IAAb;EACD;;;;;uCAGgB;EACf;EACA,aAAO9D,OACJiU,gBADI,CACajR,SAASuR,IADtB,EAC4B,SAD5B,EAEJiI,gBAFI,CAEa,SAFb,EAGJha,OAHI,CAGI,IAHJ,EAGU,EAHV,CAAP;EAID;;;;8BAGO;EAAA;;EACN,WAAKsB,KAAL,GAAa,KAAK2Y,cAAL,EAAb;EAEA;;;;EAGAzc,aAAOwV,gBAAP,CACE,QADF,EAEEvV,GAAGqL,IAAH,CAAQnL,QAAR,CAAiB,YAAM;EACrB,cAAKuc,YAAL;EACD,OAFD,CAFF,EAKE,EALF;EAOD;;;qCAEc;EACb,WAAK5Y,KAAL,GAAa,KAAK2Y,cAAL,EAAb;EACD;;;;;;EAIH,IAAG,EAAE,gBAAgBxc,EAAlB,CAAH,EAA0B;EACxBA,KAAG0c,UAAH,GAAgB,IAAIJ,UAAJ,EAAhB;EACAtc,KAAG0c,UAAH,CAAcC,KAAd;EACD;;;;;;;;;ACvCD;EACC,aAAS1M,IAAT,EAAe2M,OAAf,EAAwB;EACvB,IAEwC;EACtCC,oBAAA,GAAiBD,SAAjB;EACD,KAFM;EAKR,GARA,EAQCE,cARD,EAQO,YAAW;EACjB,aAASC,GAAT,CAAa1a,GAAb,EAAkB;EAChB,aAAOqH,SAASrH,GAAT,EAAc,EAAd,CAAP;EACD;;EACD,aAAS2a,GAAT,CAAa3a,GAAb,EAAkB;EAChB,aAAO,CAACA,MAAM,EAAP,EAAWE,OAAX,CAAmB,SAAnB,EAA8B,EAA9B,IAAoC,CAA3C;EACD;;EACD,aAAS0a,OAAT,CAAiBC,GAAjB,EAAsBC,IAAtB,EAA4B;EAC1B,aAAOD,IAAIrW,WAAJ,GAAkBqW,IAAIrW,WAAJ,GAAkBsW,IAApC,GAA2CD,IAAIpW,SAAJ,GAAgBqW,IAAlE;EACD;;EACD,aAASC,OAAT,CAAiBF,GAAjB,EAAsB;EACpB,aAAOA,IAAIrW,WAAJ,GAAkBqW,IAAIrW,WAAtB,GAAoCqW,IAAIpW,SAA/C;EACD;;EACD,aAASuW,QAAT,CAAkBH,GAAlB,EAAuBI,KAAvB,EAA8B;EAC5B,UAAIvd,OAAOiU,gBAAX,EAA6B,OAAOjU,OAAOiU,gBAAP,CAAwBkJ,GAAxB,EAA6B,IAA7B,EAAmCX,gBAAnC,CAAoDe,KAApD,CAAP;EAC7B,aAAOJ,IAAIK,YAAJ,CAAiBnG,YAAjB,CAA8BkG,MAAM/a,OAAN,CAAc,QAAd,EAAwB,UAASib,CAAT,EAAYC,EAAZ,EAAgB;EAC3E,eAAOA,GAAGC,WAAH,EAAP;EACD,OAFoC,CAA9B,CAAP;EAGD;;EACD,aAASC,SAAT,CAAmBT,GAAnB,EAAwB;EACtB,UAAIvN,SAAS0N,SAASH,GAAT,EAAc,QAAd,CAAb;EACA,UAAIvN,OAAOhM,OAAP,CAAe,IAAf,IAAuB,CAAC,CAA5B,EAA+B,OAAOqZ,IAAIrN,MAAJ,CAAP;EAC/B,aAAOqN,IAAIE,IAAItI,YAAR,IAAwBoI,IAAIK,SAASH,GAAT,EAAc,aAAd,CAAJ,CAAxB,GAA4DF,IAAIK,SAASH,GAAT,EAAc,gBAAd,CAAJ,CAAnE;EACD;;EAED,QAAIU,aAAa,SAAbA,UAAa,CAASpM,OAAT,EAAkBqM,MAAlB,EAA0B;EACzC,UAAI,CAACrM,OAAL,EAAc;EACd,WAAKA,OAAL,GAAeA,QAAQlK,MAAR,GAAiBkK,QAAQ,CAAR,CAAjB,GAA8BA,OAA7C;;EACA,UAAIsM,UAAUD,UAAU,EAAxB;;EAEA,WAAKA,MAAL,GAAc;EACZE,kBAAU,cAAcD,OAAd,GAAwBA,QAAQC,QAAhC,GAA2C,KADzC;EAEZC,eAAO,WAAWF,OAAX,GAAqBA,QAAQE,KAA7B,GAAqC,CAFhC;EAGZC,iBAAS,aAAaH,OAAb,GAAuB,CAAC,CAACA,QAAQG,OAAjC,GAA2C,KAHxC;EAIZC,sBAAc,kBAAkBJ,OAAlB,GAA4B,CAAC,CAACA,QAAQI,YAAtC,GAAqD,KAJvD;EAKZC,yBAAiB,qBAAqBL,OAArB,GAA+B,CAAC,CAACA,QAAQK,eAAzC,GAA2D;EALhE,OAAd;EAOA,UAAI,iBAAiBL,OAArB,EAA8B,KAAKD,MAAL,CAAYO,WAAZ,GAA0BN,QAAQM,WAAlC;;EAE9B,UAAI,KAAKP,MAAL,CAAYG,KAAZ,KAAsB,MAA1B,EAAkC;EAChC,aAAKK,SAAL,GAAiB,IAAjB;EACD,OAFD,MAEO;EACL,aAAKR,MAAL,CAAYG,KAAZ,GAAoBjB,IAAI,KAAKc,MAAL,CAAYG,KAAhB,CAApB;;EACA,YAAI/X,MAAM,KAAK4X,MAAL,CAAYG,KAAlB,KAA4B,KAAKH,MAAL,CAAYG,KAAZ,GAAoB,CAApD,EAAuD;EACrD,gBAAM,IAAIhO,KAAJ,CAAU,uBAAV,CAAN;EACD;;EACD,aAAKqO,SAAL,GAAiB,KAAjB;EACD;;EAED,WAAKC,WAAL,GAAmB,CAAC,KAAKT,MAAL,CAAYM,eAAb,IACd,CAAC,KAAKE,SADQ,IAEd,CAAC,KAAKR,MAAL,CAAYI,OAFC,IAGd,CAAC,KAAKJ,MAAL,CAAYK,YAHC,IAId,KAAKL,MAAL,CAAYE,QAAZ,KAAyB,KAJX,IAKd,OAAOhb,SAASuR,IAAT,CAAcgJ,KAAd,CAAoBiB,eAA3B,KAA+C,WALpD;EAOA,WAAKC,IAAL;EACA,WAAKR,KAAL;EACD,KAjCD;;EAkCAJ,eAAWjQ,SAAX,GAAuB;EACrBG,mBAAa8P,UADQ;EAErBa,cAAQ,kBAAW;EACjB,aAAKD,IAAL;EACA,aAAKR,KAAL;EACD,OALoB;EAMrBQ,YAAM,gBAAW;EACf,YAAI,KAAKF,WAAT,EAAsB;EACpB,cAAII,gBAAgB;EAClBzK,qBAAS,aADS;EAElBM,sBAAU,QAFQ;EAGlBoK,0BAAc,UAHI;EAIlBC,6BAAiB,KAAKf,MAAL,CAAYG,KAJX;EAKlBa,6BAAiB;EALC,WAApB;;EAOA,eAAK,IAAI5V,CAAT,IAAcyV,aAAd,EAA6B;EAC3B,iBAAKlN,OAAL,CAAa8L,KAAb,CAAmBrU,CAAnB,IAAwByV,cAAczV,CAAd,CAAxB;EACD;EACF,SAXD,MAWO;EACL,eAAK8U,QAAL,GAAgBhb,SAAS2D,aAAT,CAAuB,MAAvB,CAAhB;EACA,eAAKqX,QAAL,CAAcT,KAAd,CAAoBrJ,OAApB,GAA8B,MAA9B;EACA,eAAK8J,QAAL,CAAcpX,SAAd,GAA0B,KAAKkX,MAAL,CAAYE,QAAtC;EACA,eAAK5C,OAAL,GAAepY,SAAS2D,aAAT,CAAuB,MAAvB,CAAf;EACA,eAAKJ,OAAL,GAAevD,SAAS2D,aAAT,CAAuB,KAAvB,CAAf;EACAuW,kBAAQ,KAAK9B,OAAb,EAAsBiC,QAAQ,KAAK5L,OAAb,CAAtB;EACA,eAAKA,OAAL,CAAa7K,SAAb,GAAyB,EAAzB;EACA,eAAK6K,OAAL,CAAa7L,WAAb,CAAyB,KAAKW,OAA9B;;EACA,cAAI,KAAKuX,MAAL,CAAYI,OAAhB,EAAyB;EACvB,iBAAK3X,OAAL,CAAaX,WAAb,CAAyB,KAAKoY,QAA9B;EACA,iBAAKzX,OAAL,CAAaX,WAAb,CAAyB,KAAKwV,OAA9B;EACD,WAHD,MAGO;EACL,iBAAK7U,OAAL,CAAaX,WAAb,CAAyB,KAAKwV,OAA9B;EACA,iBAAK7U,OAAL,CAAaX,WAAb,CAAyB,KAAKoY,QAA9B;EACD;EACF;EACF,OAnCoB;EAoCrBe,2BAAqB,+BAAW;EAC9B,YAAIC,aAAa1B,SAAS,KAAK/W,OAAd,EAAuB,aAAvB,CAAjB;EACA,YAAIwF,OAAO,IAAX;;EAEA,YAAIiT,WAAWpb,OAAX,CAAmB,IAAnB,IAA2B,CAAC,CAAhC,EAAmC;EACjC,iBAAOqZ,IAAI+B,UAAJ,CAAP;EACD,SAFD,MAEO,IAAI,CAAC9Y,MAAM8Y,UAAN,CAAL,EAAwB;EAC7B,cAAIC,WAAW3B,SAAS,KAAK/W,OAAd,EAAuB,WAAvB,CAAf;EACA,cAAI0Y,SAASrb,OAAT,CAAiB,IAAjB,IAAyB,CAAC,CAA9B,EAAiC,OAAOqZ,IAAIgC,QAAJ,KAAiBD,aAAa,GAA9B,IAAqC,GAA5C;EACjC,cAAIC,SAASrb,OAAT,CAAiB,IAAjB,IAAyB,CAAC,CAA9B,EAAiC,OAAOqZ,IAAIgC,QAAJ,IAAgB,GAAhB,GAAsB,GAAtB,IAA6BD,aAAa,GAA1C,IAAiD,GAAxD;EACjC,iBAAOE,8BAAP;EACD,SALM,MAKA;EACL,iBAAOA,8BAAP;EACD;;EAED,iBAASA,4BAAT,GAAwC;EACtC,cAAIC,WAAW9B,QAAQtR,KAAKqP,OAAb,CAAf;EACA8B,kBAAQnR,KAAKqP,OAAb,EAAsB,GAAtB;EACA,cAAIxL,SAASgO,UAAU7R,KAAKxF,OAAf,CAAb;EACA2W,kBAAQnR,KAAKqP,OAAb,EAAsB+D,QAAtB;EACA,iBAAOvP,MAAP;EACD;EACF,OA1DoB;EA2DrBqO,aAAO,iBAAW;EAChB,YAAI,KAAKM,WAAT,EAAsB;EACtB,YAAInB,OAAOC,QAAQ,KAAKjC,OAAb,CAAX;EACA,YAAIgE,gBAAgBxB,UAAU,KAAKrX,OAAf,CAApB;EACA,YAAI8Y,mBAAmB,KAAKN,mBAAL,EAAvB;EACA,YAAI3B,SAAS,EAAT,IAAe,CAACgC,aAAhB,IAAiC,CAACC,gBAAtC,EAAwD;EAExD,YAAIC,SAAJ;;EACA,YAAI,KAAKhB,SAAT,EAAoB;EAClBgB,sBAAY1B,UAAU,KAAKnM,OAAf,CAAZ;EACA,eAAKqM,MAAL,CAAYG,KAAZ,GAAoBjB,IAAIsC,YAAYD,gBAAhB,CAApB;EACD,SAHD,MAGO;EACLC,sBAAYD,mBAAmB,KAAKvB,MAAL,CAAYG,KAA3C;EACD;;EACD,YAAI,CAACqB,SAAL,EAAgB;;EAEhB,YAAIF,gBAAgBE,SAApB,EAA+B;EAC7B,eAAKtB,QAAL,CAAcT,KAAd,CAAoBrJ,OAApB,GAA8B,EAA9B;EACA,cAAIqL,QAAQ,KAAKzB,MAAL,CAAYK,YAAZ,GAA2Bf,KAAK3a,KAAL,CAAW,WAAX,CAA3B,GAAqD2a,IAAjE;EACA,cAAIoC,kBAAkB,CAAC,KAAK1B,MAAL,CAAYO,WAAZ,IAA2Bra,KAAKgE,GAAL,CAAS,EAAT,EAAaoV,KAAK7V,MAAL,GAAc,KAAKuW,MAAL,CAAYG,KAAvC,CAA5B,IAA6E,KAAKH,MAAL,CAAYG,KAA/G;EACA,eAAKwB,UAAL,CAAgBF,KAAhB,EAAuBD,SAAvB,EAAkCE,eAAlC,EAAmD,CAAnD,EAAsD,KAAtD;EACD,SALD,MAKO;EACL,eAAK/N,OAAL,CAAa7K,SAAb,GAAyByW,QAAQ,KAAKjC,OAAb,CAAzB;EACD;EACF,OAnFoB;EAoFrBqE,kBAAY,oBAASF,KAAT,EAAgBD,SAAhB,EAA2BI,QAA3B,EAAqCrS,GAArC,EAA0CsS,UAA1C,EAAsD;EAChE,YAAIC,cAAc,KAAK9B,MAAL,CAAYI,OAAZ,GAAsBqB,MAAMtR,KAAN,CAAYsR,MAAMhY,MAAN,GAAe8F,GAA3B,CAAtB,GAAwDkS,MAAMtR,KAAN,CAAY,CAAZ,EAAeZ,GAAf,CAA1E;EAEA6P,gBAAQ,KAAK9B,OAAb,EAAsB,KAAK0C,MAAL,CAAYK,YAAZ,GAA2ByB,YAAY1O,IAAZ,CAAiB,EAAjB,CAA3B,GAAkD0O,WAAxE;EAEA,YAAI1W,CAAJ;;EACA,YAAI0U,UAAU,KAAKrX,OAAf,IAA0B+Y,SAA9B,EAAyC;EACvCpW,cAAIyW,aAAaD,QAAb,GAAwB1C,IAAI0C,WAAW,CAAf,KAAqB,CAAjD;EACA,eAAKD,UAAL,CAAgBF,KAAhB,EAAuBD,SAAvB,EAAkCpW,CAAlC,EAAqCmE,MAAMnE,CAA3C,EAA8C,IAA9C;EACD,SAHD,MAGO;EACL,cAAIwW,aAAa,CAAb,IAAkBC,UAAtB,EAAkC;EAChC,gBAAI,KAAK7B,MAAL,CAAYK,YAAZ,IAA4B,KAAKrZ,IAAL,CAAU8a,YAAY,KAAK9B,MAAL,CAAYI,OAAZ,GAAsB,CAAtB,GAA0B0B,YAAYrY,MAAZ,GAAqB,CAA3D,CAAV,CAAhC,EAA0G;EACxG2V,sBAAQ,KAAK9B,OAAb,EAAsB,CAAC,KAAK0C,MAAL,CAAYI,OAAZ,GAAsB0B,YAAY3R,KAAZ,CAAkB,CAAlB,CAAtB,GAA6C2R,YAAY3R,KAAZ,CAAkB,CAAlB,EAAqB2R,YAAYrY,MAAZ,GAAqB,CAA1C,CAA9C,EAA4F2J,IAA5F,CAAiG,EAAjG,CAAtB;EACD;;EACD,iBAAK2O,KAAL;EACA;EACD;;EACD3W,cAAIyW,aAAa3C,IAAI0C,WAAW,CAAf,KAAqB,CAAlC,GAAsCA,QAA1C;EACA,eAAKD,UAAL,CAAgBF,KAAhB,EAAuBD,SAAvB,EAAkCpW,CAAlC,EAAqCmE,MAAMnE,CAA3C,EAA8C,KAA9C;EACD;EACF,OAxGoB;EAyGrB2W,aAAO,iBAAY;EACjB,YAAI,KAAK/B,MAAL,CAAYI,OAAhB,EAAyB;EACvB,eAAKzM,OAAL,CAAa7K,SAAb,GAAyB,KAAKoX,QAAL,CAAcpX,SAAd,GAA0ByW,QAAQ,KAAKjC,OAAb,CAAnD;EACD,SAFD,MAEO;EACL,eAAK3J,OAAL,CAAa7K,SAAb,GAAyByW,QAAQ,KAAKjC,OAAb,IAAwB,KAAK4C,QAAL,CAAcpX,SAA/D;EACD;;EACD,aAAKL,OAAL,GAAe,IAAf;EACA,aAAKyX,QAAL,GAAgB,IAAhB;EACA,aAAK5C,OAAL,GAAe,IAAf;EACA,eAAO,KAAK7U,OAAZ;EACA,eAAO,KAAKyX,QAAZ;EACA,eAAO,KAAK5C,OAAZ;EACD;EArHoB,KAAvB;EAuHA,WAAOyC,UAAP;EACD,GA3LA,CAAD;;;ECCA,iBAAiBA,UAAjB;;ECAA,IAAMiC,QAAQ,UAAU7f,GAAGC,EAAb,GAAkB,OAAhC;;MAEM6f;;;EACJ,uBAAc;EAAA;;EACZ,SAAKC,eAAL;EACD;;;;;4BAGKvO,SAAS;EACb,UAAIwO,YAAYtW,SAAS8H,QAAQ4F,YAAR,CAAqByI,KAArB,CAAT,EAAsC,EAAtC,CAAhB;EACA,UAAMI,WAAWlc,KAAKC,KAAL,CAAWkC,WAAWnG,OAAOiU,gBAAP,CAAwBxC,OAAxB,EAAiC,IAAjC,EAAuC+K,gBAAvC,CAAwD,WAAxD,CAAX,CAAX,CAAjB;;EAEA,UAAG,uBAAuB1X,IAAvB,CAA4BC,UAAUC,SAAtC,CAAH,EAAqD;EAAE;EACrDyM,gBAAQ8F,YAAR,CAAqB,OAArB,sBAA2C2I,QAA3C;EACD;;EAED,UAAGD,aAAa,CAAhB,EAAkB;EAChB;EACD;;EACD,UAAIpC,UAAJ,CAAepM,OAAf,EAAwB;EACtBwM,eAAOgC;EADe,OAAxB;EAGD;;;iCAEU;EAAA;;EACT,WAAKD,eAAL,GAAuBhd,SAAS+W,gBAAT,YAA8B+F,KAA9B,OAAvB;EAEA7f,SAAGqL,IAAH,CAAQvC,IAAR,CAAa,KAAKiX,eAAlB,EAAmC,mBAAW;EAC5C,cAAKpD,KAAL,CAAWnL,OAAX;EACD,OAFD;EAGD;;;;;;EAGH,IAAG,EAAE,eAAexR,EAAjB,CAAH,EAAyB;EACvBA,KAAGkgB,SAAH,GAAe,IAAIJ,SAAJ,EAAf;EACA9f,KAAGkgB,SAAH,CAAaC,QAAb;EACD;;EChCDngB,GAAGqL,IAAH,GAAUA,IAAV;;;;"}