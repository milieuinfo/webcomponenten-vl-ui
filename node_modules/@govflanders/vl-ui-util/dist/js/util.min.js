(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.util=factory()})(this,function(){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}window.vl=window.vl||{ns:"vl-"};var debounce=function debounce(func,wait){var immediate=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var timeout;return function(){var context=this,args=arguments,later,callNow;later=function later(){timeout=null;if(!immediate){func.apply(context,args)}};callNow=immediate&&!timeout;window.clearTimeout(timeout);timeout=window.setTimeout(later,wait);if(callNow){func.apply(context,args)}}};var throttle=function throttle(func){var threshhold=arguments.length>1&&arguments[1]!==undefined?arguments[1]:250;var scope=arguments.length>2?arguments[2]:undefined;var last,deferTimer;return function(){var context=scope||this,now=Number(new Date),args=arguments;if(last&&now<last+threshhold){window.clearTimeout(deferTimer);deferTimer=window.setTimeout(function(){last=now;func.apply(context,args)},threshhold)}else{last=now;func.apply(context,args)}}};var addClass=function addClass(el,classes){el.classList.add(classes)};var removeClass=function removeClass(el,classes){el.classList.remove(classes)};var hasClass=function hasClass(el,classes){return el.classList.contains(classes)};var toggleClass=function toggleClass(el,classes){el.classList.toggle(classes)};var addClassFor=function addClassFor(el,classes,duration){addClass(el,classes);window.setTimeout(function(){removeClass(el,classes)},duration)};var parseTemplate=function parseTemplate(str,data){return str.replace(/\$\{(\w+)\}/gi,function(match,parensMatch){if(typeof data[parensMatch]!=="undefined"){return data[parensMatch]}return match})};var triggerEvent=function triggerEvent(obj,evt){var fireOnThis=obj,evtObj;if(document.createEvent){evtObj=document.createEvent("MouseEvents");evtObj.initEvent(evt,true,false);fireOnThis.dispatchEvent(evtObj)}else if(document.createEventObject){evtObj=document.createEventObject();fireOnThis.fireEvent("on".concat(evt),evtObj)}};var unique=function unique(array){return array.filter(function(elem,pos,arr){return arr.indexOf(elem)===pos})};var closest=function closest(value,to){return Math.round(value/to)*to};var offset=function offset(el){var rect=el.getBoundingClientRect(),doc=el.ownerDocument,win=doc.defaultView||doc.parentWindow,docElem=doc.documentElement,xOff=win.pageXOffset;if(/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)){xOff=0}return{top:rect.top+win.pageYOffset-docElem.clientTop,left:rect.left+xOff-docElem.clientLeft}};var insertAfter=function insertAfter(newElement,targetElement){var parent=targetElement.parentNode;if(parent.lastchild===targetElement){parent.appendChild(newElement)}else{parent.insertBefore(newElement,targetElement.nextSibling)}};var removeElement=function removeElement(targetElement){var parent=targetElement.parentNode;parent.removeChild(targetElement)};var isNumeric=function isNumeric(number){return!isNaN(parseFloat(number))&&isFinite(number)};var wrap=function wrap(el,wrapper){var parent=el.parentNode,sibling=el.nextSibling;wrapper.appendChild(el);if(sibling){parent.insertBefore(wrapper,sibling)}else{parent.appendChild(wrapper)}};var stripTags=function stripTags(html){var tmp=document.createElement("div");tmp.innerHTML=html;return tmp.textContent||tmp.innerText};var uniqueId=function uniqueId(){var idStrLen=32,idStr="".concat((Math.floor(Math.random()*25)+10).toString(36),"_");idStr+="".concat((new Date).getTime().toString(36),"_");do{idStr+=Math.floor(Math.random()*35).toString(36)}while(idStr.length<idStrLen);return idStr};var uniqueName=function uniqueName(){return Math.random().toString(36).substring(2,5)};var accurateNumber=function accurateNumber(number){var p=Math.pow(10,7);return Number((Math.round(number*p)/p).toFixed(7))};var limit=function limit(a){return Math.max(Math.min(a,100),0)};var asArray=function asArray(a){return Array.isArray(a)?a:[a]};var countDecimals=function countDecimals(numStr){var pieces=numStr.split(".");return pieces.length>0?pieces[1].length:0};var scrollTo=function scrollTo(el,to,duration){var callback=arguments.length>3&&arguments[3]!==undefined?arguments[3]:function(){};var scrollTop=el.scrollTop,difference=to-scrollTop,perTick;if(duration<0){return}perTick=difference/duration*10;window.setTimeout(function(){if(scrollTop===to||duration<=0){callback()}else{el.scrollTop=scrollTop+perTick;scrollTo(el,to,duration-10,callback)}},10)};var randomIntFromInterval=function randomIntFromInterval(min,max){return Math.floor(Math.random()*(max-min+1)+min)};var each=function each(arr,fn){var l=arr.length,i=0;for(;i<l;i++){fn(arr[i],i)}};var exists=function exists(value){var nullAllowed=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var emptyAllowed=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(typeof value!=="undefined"){if(nullAllowed||value!==null){if(emptyAllowed||value!==""){return true}}}return false};var bytesToSize=function bytesToSize(bytes){var sizes=["Bytes","KB","MB","GB","TB"],i;if(bytes===0){return"0 Bytes"}i=parseInt(Math.floor(Math.log(bytes)/Math.log(1024)),10);return Math.round(bytes/Math.pow(1024,i),2)+" "+sizes[i]};var getJson=function getJson(url,callback){var xhr=new XMLHttpRequest;xhr.open("get",url,true);xhr.responseType="json";xhr.onload=function(){var status=xhr.status;if(status===200){callback(null,xhr.response)}else{callback(status)}};xhr.send()};var getParents=function getParents(elem,selector){var parents=[],firstChar;if(selector){firstChar=selector.charAt(0)}for(;elem&&elem!==document;elem=elem.parentNode){if(selector){if(firstChar==="."){if(elem.classList.contains(selector.substr(1))){parents.push(elem)}}if(firstChar==="#"){if(elem.id===selector.substr(1)){parents.push(elem)}}if(firstChar==="["){if(elem.hasAttribute(selector.substr(1,selector.length-1))){parents.push(elem)}}if(elem.tagName.toLowerCase()===selector){parents.push(elem)}}else{parents.push(elem)}}if(parents.length===0){return null}return parents};var getParentsUntil=function getParentsUntil(elem,parent,selector){var parents=[],parentType,selectorType;if(parent){parentType=parent.charAt(0)}if(selector){selectorType=selector.charAt(0)}for(;elem&&elem!==document;elem=elem.parentNode){if(parent){if(parentType==="."){if(elem.classList.contains(parent.substr(1))){break}}if(parentType==="#"){if(elem.id===parent.substr(1)){break}}if(parentType==="["){if(elem.hasAttribute(parent.substr(1,parent.length-1))){break}}if(elem.tagName.toLowerCase()===parent){break}}if(selector){if(selectorType==="."){if(elem.classList.contains(selector.substr(1))){parents.push(elem)}}if(selectorType==="#"){if(elem.id===selector.substr(1)){parents.push(elem)}}if(selectorType==="["){if(elem.hasAttribute(selector.substr(1,selector.length-1))){parents.push(elem)}}if(elem.tagName.toLowerCase()===selector){parents.push(elem)}}else{parents.push(elem)}}if(parents.length===0){return null}return parents};var Util=function Util(){_classCallCheck(this,Util);this.addClass=addClass;this.removeClass=removeClass;this.hasClass=hasClass;this.toggleClass=toggleClass;this.addClassFor=addClassFor;this.parseTemplate=parseTemplate;this.triggerEvent=triggerEvent;this.unique=unique;this.closest=closest;this.offset=offset;this.insertAfter=insertAfter;this.removeElement=removeElement;this.isNumeric=isNumeric;this.wrap=wrap;this.stripTags=stripTags;this.uniqueId=uniqueId;this.uniqueName=uniqueName;this.accurateNumber=accurateNumber;this.limit=limit;this.asArray=asArray;this.countDecimals=countDecimals;this.scrollTo=scrollTo;this.randomIntFromInterval=randomIntFromInterval;this.debounce=debounce;this.throttle=throttle;this.each=each;this.exists=exists;this.bytesToSize=bytesToSize;this.getJson=getJson;this.getParents=getParents;this.getParentsUntil=getParentsUntil};vl.util=new Util;var util={addClass:addClass,removeClass:removeClass,hasClass:hasClass,toggleClass:toggleClass,addClassFor:addClassFor,parseTemplate:parseTemplate,triggerEvent:triggerEvent,unique:unique,closest:closest,offset:offset,insertAfter:insertAfter,removeElement:removeElement,isNumeric:isNumeric,wrap:wrap,stripTags:stripTags,uniqueId:uniqueId,uniqueName:uniqueName,accurateNumber:accurateNumber,limit:limit,asArray:asArray,countDecimals:countDecimals,scrollTo:scrollTo,randomIntFromInterval:randomIntFromInterval,debounce:debounce,throttle:throttle,each:each,exists:exists,bytesToSize:bytesToSize,getJson:getJson,getParents:getParents,getParentsUntil:getParentsUntil};return util});